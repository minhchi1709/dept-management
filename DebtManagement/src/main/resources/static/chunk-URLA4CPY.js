import{$ as Ei,$a as dn,A as $a,Aa as je,B as ol,Ba as hi,C as Ki,Ca as wl,D as rl,Da as la,Ea as ha,F as ni,Fa as qt,G as hn,Ga as da,H as ys,Ha as Tl,I as Fo,Ia as Ds,J as Bo,Ja as Sl,K as ll,Ka,L as hl,La as Ps,M as dl,Ma as kl,N as Cs,Na as Ta,O as cl,Oa as Is,P as ul,Pa as Dl,Q as Oo,Qa as Vo,R as Ii,Ra as Ja,S as pl,Sa as Pl,T as ml,Ta as Sa,U as sa,Ua as Il,V as gl,Va as As,W as Qa,Wa as Al,Xa as kn,Y as Ai,Ya as Es,Z as oa,Za as El,_ as Oa,_a as Fl,a as Zt,aa as Ms,ab as ca,b as aa,ba as Ji,ca as fl,cb as qi,da as _l,db as Va,ea as Fi,eb as Bl,fa as bl,ga as xl,h as Kr,ha as ws,ia as nn,j as Po,ja as Bi,k as Si,ka as Ts,l as gn,la as vl,m as Ba,ma as Ra,n as Jr,na as yl,o as Zr,oa as Ss,p as Io,pa as Cl,q as xs,qa as Oi,r as qr,ra as Sn,s as tl,sa as Ml,t as il,ta as Ri,u as en,ua as ra,v as Eo,va as Ro,w as vs,wa as ks,x as nl,xa as Zi,y as al,ya as an,z as sl,za as li}from"./chunk-CQYB3XVB.js";import{$ as Nr,$b as Dt,A as Br,Aa as Ea,Ab as Et,Ba as ja,Bb as De,C as ta,Cb as Pe,Cc as Ur,D as Or,Da as we,Db as $i,Dc as bs,E as Ti,Ea as Bt,Eb as se,Ec as Pi,F as Vt,Fa as Yr,Fb as Ga,Fc as $r,Gb as Xr,Hb as pt,Hc as na,Ib as jr,Jb as ot,Ka as gs,Kb as yi,L as Gi,Lb as Ge,Mb as Ma,N as Rr,Nb as fs,Nc as Qr,O as Vr,Ob as Xe,Pb as ve,Qb as Lt,Qc as wa,Rb as Nt,Rc as tn,Sb as Qi,Sc as el,Tb as U,Ub as Ci,Uc as gi,Vb as At,Vc as $n,W as Lr,Wb as Gr,Wc as Ao,X as wn,Xa as H,Xb as de,Xc as ln,Y as Aa,Ya as Y,Yb as ce,Z as rn,Za as zr,Zb as ue,_a as pi,_b as ye,a as Xa,ab as Hr,ac as ea,ba as Gn,bc as ko,ca as He,cc as Do,da as qe,dc as Ua,e as sd,eb as Ui,f as Pr,fa as ti,gb as zi,h as oi,ha as vi,ia as Di,ib as Ee,j as Ir,ja as ps,jb as Qe,ka as ms,lc as ii,m as ri,ma as kt,mc as Fa,n as Mn,na as St,nb as ft,oa as ei,ob as Re,oc as me,p as Ar,pa as Jt,pb as lt,pc as _s,q as Er,qb as Un,r as ji,rb as Be,sb as Tn,t as Fr,ua as ke,ub as mi,v as Mt,va as ct,vb as un,vc as ia,w as us,wa as ut,wb as pn,xa as So,xb as mn,ya as Wr,yb as A,za as Yi,zb as B}from"./chunk-QGXHWX7F.js";var uh=sd((Lg,uo)=>{"use strict";(function(){function c(v,w){v.prototype=S(w.prototype),v.prototype.constructor=v,v.base=w.prototype}function S(v){function w(){}return w.prototype=v,new w}function i(v,w,E){return E==="millisecond"?v.setMilliseconds(v.getMilliseconds()+1*w):E==="second"?v.setSeconds(v.getSeconds()+1*w):E==="minute"?v.setMinutes(v.getMinutes()+1*w):E==="hour"?v.setHours(v.getHours()+1*w):E==="day"?v.setDate(v.getDate()+1*w):E==="week"?v.setDate(v.getDate()+7*w):E==="month"?v.setMonth(v.getMonth()+1*w):E==="year"&&v.setFullYear(v.getFullYear()+1*w),v}function r(v,w){var E=!1;for(0>v&&(E=!0,v*=-1),v=""+v,w=w||1;v.length<w;)v="0"+v;return E?"-"+v:v}function l(v){if(!v)return v;v=v.replace(/^\s\s*/,"");for(var w=/\s/,E=v.length;w.test(v.charAt(--E)););return v.slice(0,E+1)}function f(v){v.roundRect=function(w,E,K,dt,mt,Z,jt,ge){jt&&(this.fillStyle=jt),ge&&(this.strokeStyle=ge),typeof mt>"u"&&(mt=5),this.lineWidth=Z,this.beginPath(),this.moveTo(w+mt,E),this.lineTo(w+K-mt,E),this.quadraticCurveTo(w+K,E,w+K,E+mt),this.lineTo(w+K,E+dt-mt),this.quadraticCurveTo(w+K,E+dt,w+K-mt,E+dt),this.lineTo(w+mt,E+dt),this.quadraticCurveTo(w,E+dt,w,E+dt-mt),this.lineTo(w,E+mt),this.quadraticCurveTo(w,E,w+mt,E),this.closePath(),jt&&this.fill(),ge&&0<Z&&this.stroke()}}function k(v,w){return v-w}function z(v){var w=((v&16711680)>>16).toString(16),E=((v&65280)>>8).toString(16);return v=((v&255)>>0).toString(16),w=2>w.length?"0"+w:w,E=2>E.length?"0"+E:E,v=2>v.length?"0"+v:v,"#"+w+E+v}function Pt(v,w){var E=this.length>>>0,K=Number(w)||0,K=0>K?Math.ceil(K):Math.floor(K);for(0>K&&(K+=E);K<E;K++)if(K in this&&this[K]===v)return K;return-1}function P(v){return v===null||typeof v>"u"}function zt(v){return v.indexOf||(v.indexOf=Pt),v}function fe(v){Li.fSDec&&v[Ni("`eeDwdouMhrudods")](Ni("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){Li._fTWm&&Li._fTWm(v)})}function xe(v,w,E){E=E||"normal";var K=v+"_"+w+"_"+E,dt=Zn[K];if(isNaN(dt)){try{if(!Hi){var mt=document.body;Hi=document.createElement("span"),Hi.innerHTML="";var Z=document.createTextNode("Mpgyi");Hi.appendChild(Z),mt.appendChild(Hi)}Hi.style.display="",le(Hi,{position:"absolute",left:"0px",top:"-20000px",padding:"0px",margin:"0px",border:"none",whiteSpace:"pre",lineHeight:"normal",fontFamily:v,fontSize:w+"px",fontWeight:E}),dt=Math.round(Hi.offsetHeight),Hi.style.display="none"}catch{dt=Math.ceil(1.1*w)}dt=Math.max(dt,w),Zn[K]=dt}return dt}function wt(v,w){var E=[];if(E={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[v||"solid"])for(var K=0;K<E.length;K++)E[K]*=w;else E=[];return E}function ee(v,w,E,K,dt){return K=K||[],dt=P(dt)?Xn?{passive:!1,capture:!1}:!1:dt,K.push([v,w,E,dt]),v.addEventListener?(v.addEventListener(w,E,dt),E):v.attachEvent?(K=function(mt){mt=mt||window.event,mt.preventDefault=mt.preventDefault||function(){mt.returnValue=!1},mt.stopPropagation=mt.stopPropagation||function(){mt.cancelBubble=!0},E.call(v,mt)},v.attachEvent("on"+w,K),K):!1}function _n(v){if(v._menuButton)v.exportEnabled?(le(v._menuButton,{backgroundColor:v.toolbar.itemBackgroundColor,color:v.toolbar.fontColor}),Te(v._menuButton),Ke(v,v._menuButton,"menu"),0>=navigator.userAgent.search("MSIE")&&v._menuButton.childNodes[0]&&le(v._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"})):Vi(v._menuButton);else if(v.exportEnabled&&N){var w=!1;v._menuButton=document.createElement("button"),Ke(v,v._menuButton,"menu"),v._toolBar.appendChild(v._menuButton),ee(v._menuButton,"touchstart",function(mt){w=!0},v.allDOMEventHandlers),ee(v._menuButton,"click",function(){v._dropdownMenu.style.display!=="none"||v._dropDownCloseTime&&500>=new Date().getTime()-v._dropDownCloseTime.getTime()||(v._dropdownMenu.style.display="block",v._menuButton.blur(),v._dropdownMenu.focus())},v.allDOMEventHandlers,!0),ee(v._menuButton,"mousemove",function(){w||(le(v._menuButton,{backgroundColor:v.toolbar.itemBackgroundColorOnHover,color:v.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&le(v._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},v.allDOMEventHandlers,!0),ee(v._menuButton,"mouseout",function(){w||(le(v._menuButton,{backgroundColor:v.toolbar.itemBackgroundColor,color:v.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&le(v._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},v.allDOMEventHandlers,!0)}if(v.exportEnabled&&v._dropdownMenu){var E=v.theme&&v.theme.indexOf("dark")!==-1?"black":"#888888";le(v._dropdownMenu,{backgroundColor:v.toolbar.itemBackgroundColor,color:v.toolbar.fontColor,boxShadow:"2px 2px 10px "+E});for(var E=v._dropdownMenu.childNodes,K=[v._cultureInfo.printText,v._cultureInfo.saveJPGText,v._cultureInfo.savePNGText],dt=0;dt<K.length;dt++)le(E[dt],{backgroundColor:v.toolbar.itemBackgroundColor,color:v.toolbar.fontColor}),E[dt].innerHTML=K[dt]}else!v._dropdownMenu&&v.exportEnabled&&N&&(w=!1,v._dropdownMenu=document.createElement("div"),v._dropdownMenu.setAttribute("tabindex",-1),E=v.theme&&v.theme.indexOf("dark")!==-1?"black":"#888888",le(v._dropdownMenu,{position:"absolute",zIndex:1,userSelect:"none",MozUserSeelct:"none",WebkitUserSelect:"none",msUserSelect:"none",cursor:"pointer",right:"0px",top:"25px",minWidth:"120px",outline:0,fontSize:"14px",fontFamily:"Arial, Helvetica, sans-serif",padding:"5px 0px 5px 0px",textAlign:"left",lineHeight:"10px",backgroundColor:v.toolbar.itemBackgroundColor,boxShadow:"2px 2px 10px "+E}),v._dropdownMenu.style.display="none",v._toolBar.appendChild(v._dropdownMenu),ee(v._dropdownMenu,"blur",function(){Vi(v._dropdownMenu),v._dropDownCloseTime=new Date},v.allDOMEventHandlers,!0),E=document.createElement("div"),le(E,{padding:"12px 8px 12px 8px"}),E.innerHTML=v._cultureInfo.printText,E.style.backgroundColor=v.toolbar.itemBackgroundColor,E.style.color=v.toolbar.fontColor,v._dropdownMenu.appendChild(E),ee(E,"touchstart",function(mt){w=!0},v.allDOMEventHandlers),ee(E,"mousemove",function(){w||(this.style.backgroundColor=v.toolbar.itemBackgroundColorOnHover,this.style.color=v.toolbar.fontColorOnHover)},v.allDOMEventHandlers,!0),ee(E,"mouseout",function(){w||(this.style.backgroundColor=v.toolbar.itemBackgroundColor,this.style.color=v.toolbar.fontColor)},v.allDOMEventHandlers,!0),ee(E,"click",function(){v.print(),Vi(v._dropdownMenu)},v.allDOMEventHandlers,!0),E=document.createElement("div"),le(E,{padding:"12px 8px 12px 8px"}),E.innerHTML=v._cultureInfo.saveJPGText,E.style.backgroundColor=v.toolbar.itemBackgroundColor,E.style.color=v.toolbar.fontColor,v._dropdownMenu.appendChild(E),ee(E,"touchstart",function(mt){w=!0},v.allDOMEventHandlers),ee(E,"mousemove",function(){w||(this.style.backgroundColor=v.toolbar.itemBackgroundColorOnHover,this.style.color=v.toolbar.fontColorOnHover)},v.allDOMEventHandlers,!0),ee(E,"mouseout",function(){w||(this.style.backgroundColor=v.toolbar.itemBackgroundColor,this.style.color=v.toolbar.fontColor)},v.allDOMEventHandlers,!0),ee(E,"click",function(){v.exportChart({format:"jpeg",fileName:v.exportFileName}),Vi(v._dropdownMenu)},v.allDOMEventHandlers,!0),E=document.createElement("div"),le(E,{padding:"12px 8px 12px 8px"}),E.innerHTML=v._cultureInfo.savePNGText,E.style.backgroundColor=v.toolbar.itemBackgroundColor,E.style.color=v.toolbar.fontColor,v._dropdownMenu.appendChild(E),ee(E,"touchstart",function(mt){w=!0},v.allDOMEventHandlers),ee(E,"mousemove",function(){w||(this.style.backgroundColor=v.toolbar.itemBackgroundColorOnHover,this.style.color=v.toolbar.fontColorOnHover)},v.allDOMEventHandlers,!0),ee(E,"mouseout",function(){w||(this.style.backgroundColor=v.toolbar.itemBackgroundColor,this.style.color=v.toolbar.fontColor)},v.allDOMEventHandlers,!0),ee(E,"click",function(){v.exportChart({format:"png",fileName:v.exportFileName}),Vi(v._dropdownMenu)},v.allDOMEventHandlers,!0))}function ci(v,w,E){for(v*=ui,w*=ui,v=E.getImageData(v,w,2,2).data,w=!0,E=0;4>E;E++)if(v[E]!==v[E+4]|v[E]!==v[E+8]|v[E]!==v[E+12]){w=!1;break}return w?v[0]<<16|v[1]<<8|v[2]:0}function ne(v,w,E){return v in w?w[v]:E[v]}function bn(v,w,E,K){N&&Dr?(K=!P(K)&&K?v.getContext("2d",{willReadFrequently:!0}):v.getContext("2d"),hs=K.webkitBackingStorePixelRatio||K.mozBackingStorePixelRatio||K.msBackingStorePixelRatio||K.oBackingStorePixelRatio||K.backingStorePixelRatio||1,ui=To/hs,v.width=w*ui,v.height=E*ui,To!==hs&&(v.style.width=w+"px",v.style.height=E+"px",K.scale(ui,ui))):(v.width=w,v.height=E)}function xa(v){if(!nd){var w=!1,E=!1;typeof on.Chart.creditHref>"u"?(v.creditHref=Ni("iuuqr;..b`ow`rkr/bnl."),v.creditText=Ni("B`ow`rKR/bnl")):(w=v.updateOption("creditText"),E=v.updateOption("creditHref")),v.creditHref&&v.creditText&&(v._creditLink||(v._creditLink=document.createElement("a"),v._creditLink.setAttribute("class","canvasjs-chart-credit"),v._creditLink.setAttribute("title","JavaScript Charts"),le(v._creditLink,{outline:"none",margin:"0px",position:"absolute",right:"2px",top:v.height-14+"px",color:"dimgrey",textDecoration:"none",fontSize:"11px",fontFamily:"Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"}),v._creditLink.setAttribute("tabIndex",-1),v._creditLink.setAttribute("target","_blank")),(v.renderCount===0||w||E)&&(v._creditLink.setAttribute("href",v.creditHref),v._creditLink.innerHTML=v.creditText),v._creditLink&&v.creditHref&&v.creditText?(v._creditLink.parentElement||v._canvasJSContainer.appendChild(v._creditLink),v._creditLink.style.top=v.height-14+"px"):v._creditLink.parentElement&&v._canvasJSContainer.removeChild(v._creditLink))}}function ki(v,w,E){ya&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var K=document.createElement("canvas");return K.setAttribute("class","canvasjs-chart-canvas"),bn(K,v,w,E),N||typeof G_vmlCanvasManager>"u"||G_vmlCanvasManager.initElement(K),K}function le(v,w){for(var E in w)v.style[E]=w[E]}function Ke(v,w,E){w.getAttribute("state")||(w.style.backgroundColor=v.toolbar.itemBackgroundColor,w.style.color=v.toolbar.fontColor,w.style.border="none",le(w,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),w.getAttribute("state")!==E&&(w.setAttribute("state",E),w.setAttribute("type","button"),le(w,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),w.innerHTML="<img src='"+ad[E].image+"' alt='"+v._cultureInfo[E+"Text"]+"' />",le(w.childNodes[0],{height:"95%",pointerEvents:"none"})),w.setAttribute("title",v._cultureInfo[E+"Text"])}function Te(){for(var v=null,w=0;w<arguments.length;w++)v=arguments[w],v.style&&(v.style.display="inline")}function Vi(){for(var v=null,w=0;w<arguments.length;w++)(v=arguments[w])&&v.style&&(v.style.display="none")}function va(v,w,E,K,dt){return v===null||typeof v>"u"?typeof E>"u"?w:E:(v=parseFloat(v.toString())*(0<=v.toString().indexOf("%")?w/100:1),typeof K<"u"&&(v=Math.min(K,v),typeof dt<"u"&&(v=Math.max(dt,v))),!isNaN(v)&&v<=w&&0<=v?v:typeof E>"u"?w:E)}function Ie(v,w,E,K,dt){this._defaultsKey=v,this._themeOptionsKey=w,this._index=K,this.parent=dt,this._eventListeners=[],v={},this.theme&&P(this.parent)&&P(w)&&P(K)?v=P(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[w]&&(K===null?v=this.parent.themeOptions[w]:0<this.parent.themeOptions[w].length&&(K=Math.min(this.parent.themeOptions[w].length-1,K),v=this.parent.themeOptions[w][K])),this.themeOptions=v,this.options=E||{_isPlaceholder:!0},this.setOptions(this.options,v)}function Kn(v,w,E,K,dt){typeof dt>"u"&&(dt=0),this._padding=dt,this._x1=v,this._y1=w,this._x2=E,this._y2=K,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function te(v,w){te.base.constructor.call(this,"TextBlock",null,w,null,null),this.ctx=v,this._isDirty=!0,this._wrappedText=null,this._initialize()}function xn(v,w){xn.base.constructor.call(this,"Toolbar","toolbar",w,null,v),this.chart=v,this.canvas=v.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function vn(v,w){if(vn.base.constructor.call(this,"Title","title",w,null,v),this.chart=v,this.canvas=v.canvas,this.ctx=this.chart.ctx,this.optionsName="title",P(this.options.margin)&&v.options.subtitles){for(var E=v.options.subtitles,K=0;K<E.length;K++)if((P(E[K].horizontalAlign)&&this.horizontalAlign==="center"||E[K].horizontalAlign===this.horizontalAlign)&&(P(E[K].verticalAlign)&&this.verticalAlign==="top"||E[K].verticalAlign===this.verticalAlign)&&!E[K].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}}typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Jn(v,w,E){Jn.base.constructor.call(this,"Subtitle","subtitles",w,E,v),this.chart=v,this.canvas=v.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function Hn(){this.pool=[]}function yn(v){var w;v&&It[v]&&(w=It[v]),yn.base.constructor.call(this,"CultureInfo",null,w,null,null)}var ya=!1,Li={},N=!!document.createElement("canvas").getContext,on={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly",selectedColorSet:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:N?"transparent":null,margin:5,wrap:!0,maxWidth:null,textAlign:"center",dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,textAlign:"center",dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:N?"transparent":null,borderColor:N?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:N?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",updated:null,hidden:null,publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:N?"transparent":null,titleBorderColor:N?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,titleTextAlign:"left",labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:N?"transparent":null,labelBorderColor:N?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",labelTextAlign:"left",prefix:"",suffix:"",includeZero:!1,tickLength:5,tickColor:"black",tickThickness:1,tickPlacement:"outside",lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"#A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:N?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:N?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,labelTextAlign:"left",showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelTextAlign:"left",labelBackgroundColor:N?"grey":null,labelBorderColor:N?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:N?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,updated:null,hidden:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelTextAlign:"left",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelBorderColor:null,indexLabelBorderThickness:0,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,explodeOnClick:!0,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:!1,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:N?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:N?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",textAlign:"left",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},It={en:{}},I=N?"Trebuchet MS, Helvetica, sans-serif":"Arial",$=N?"Impact, Charcoal, sans-serif":"Arial",q={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},tt,ht,rt,Ft,ae;ht="#333333",rt="#000000",tt="#666666",ae=Ft="#000000";var Ot=20,bt=14,Ye={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:$,fontSize:32,fontColor:ht,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:$,fontSize:bt,fontColor:ht,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:I,indexLabelFontSize:bt,indexLabelFontColor:ht,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:I,titleFontSize:Ot,titleFontColor:ht,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:bt,labelFontColor:rt,labelFontWeight:"normal",lineThickness:1,lineColor:tt,tickThickness:1,tickColor:tt,gridThickness:0,gridColor:tt,stripLines:[{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:ae,color:Ft,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:I,titleFontSize:Ot,titleFontColor:ht,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:bt,labelFontColor:rt,labelFontWeight:"normal",lineThickness:1,lineColor:tt,tickThickness:1,tickColor:tt,gridThickness:0,gridColor:tt,stripLines:[{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:ae,color:Ft,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:I,titleFontSize:Ot,titleFontColor:ht,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:bt,labelFontColor:rt,labelFontWeight:"normal",lineThickness:1,lineColor:tt,tickThickness:1,tickColor:tt,gridThickness:1,gridColor:tt,stripLines:[{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:ae,color:Ft,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:I,titleFontSize:Ot,titleFontColor:ht,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:bt,labelFontColor:rt,labelFontWeight:"normal",lineThickness:1,lineColor:tt,tickThickness:1,tickColor:tt,gridThickness:1,gridColor:tt,stripLines:[{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:ae,color:Ft,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:I,fontSize:14,fontColor:ht,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:I,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};rt=ht="#F5F5F5",tt="#FFFFFF",Ft="#40BAF1",ae="#F5F5F5";var Ot=20,bt=14,$t={colorSet:"colorSet2",title:{fontFamily:I,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:I,fontSize:bt,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:I,indexLabelFontSize:bt,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:I,titleFontSize:Ot,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:I,labelFontSize:bt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:I,titleFontSize:Ot,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:I,labelFontSize:bt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:I,titleFontSize:Ot,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:I,labelFontSize:bt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:I,titleFontSize:Ot,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:I,labelFontSize:bt,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:I,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:I,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1},toolbar:{itemBackgroundColor:"white",itemBackgroundColorOnHover:"#2196f3",buttonBorderColor:"#2196f3",buttonBorderThickness:1,fontColor:"black",fontColorOnHover:"white"}};rt=ht="#F5F5F5",tt="#FFFFFF",Ft="#40BAF1",ae="#F5F5F5",Ot=20,bt=14,$={colorSet:"colorSet1",backgroundColor:"#2A2A2A",title:{fontFamily:$,fontSize:32,fontColor:ht,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:$,fontSize:bt,fontColor:ht,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:I,indexLabelFontSize:bt,indexLabelFontColor:rt,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:I,titleFontSize:Ot,titleFontColor:rt,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:bt,labelFontColor:rt,labelFontWeight:"normal",lineThickness:1,lineColor:tt,tickThickness:1,tickColor:tt,gridThickness:0,gridColor:tt,stripLines:[{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ae,color:Ft,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:I,titleFontSize:Ot,titleFontColor:rt,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:bt,labelFontColor:rt,labelFontWeight:"normal",lineThickness:1,lineColor:tt,tickThickness:1,tickColor:tt,gridThickness:0,gridColor:tt,stripLines:[{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ae,color:Ft,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:I,titleFontSize:Ot,titleFontColor:rt,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:bt,labelFontColor:rt,labelFontWeight:"normal",lineThickness:1,lineColor:tt,tickThickness:1,tickColor:tt,gridThickness:1,gridColor:tt,stripLines:[{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ae,color:Ft,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:I,titleFontSize:Ot,titleFontColor:rt,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:bt,labelFontColor:rt,labelFontWeight:"normal",lineThickness:1,lineColor:tt,tickThickness:1,tickColor:tt,gridThickness:1,gridColor:tt,stripLines:[{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ae,color:Ft,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:I,fontSize:14,fontColor:ht,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:I,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:rt,backgroundColor:"rgba(0, 0, 0, .7)"}},tt="#FFFFFF",rt=ht="#FAFAFA",Ft="#40BAF1",ae="#F5F5F5";var Ot=20,bt=14,Ae={light1:Ye,light2:$t,dark1:$,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:I,fontSize:32,fontColor:ht,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:I,fontSize:bt,fontColor:ht,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{itemBackgroundColor:"#666666",itemBackgroundColorOnHover:"#FF7372",buttonBorderColor:"#FF7372",buttonBorderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:I,indexLabelFontSize:bt,indexLabelFontColor:rt,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:I,titleFontSize:Ot,titleFontColor:rt,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:bt,labelFontColor:rt,labelFontWeight:"normal",lineThickness:1,lineColor:tt,tickThickness:1,tickColor:tt,gridThickness:0,gridColor:tt,stripLines:[{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ae,color:Ft,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:I,titleFontSize:Ot,titleFontColor:rt,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:bt,labelFontColor:rt,labelFontWeight:"normal",lineThickness:1,lineColor:tt,tickThickness:1,tickColor:tt,gridThickness:0,gridColor:tt,stripLines:[{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ae,color:Ft,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:I,titleFontSize:Ot,titleFontColor:rt,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:bt,labelFontColor:rt,labelFontWeight:"normal",lineThickness:0,lineColor:tt,tickThickness:1,tickColor:tt,gridThickness:1,gridColor:tt,stripLines:[{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ae,color:Ft,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:I,titleFontSize:Ot,titleFontColor:rt,titleFontWeight:"normal",labelFontFamily:I,labelFontSize:bt,labelFontColor:rt,labelFontWeight:"normal",lineThickness:0,lineColor:tt,tickThickness:1,tickColor:tt,gridThickness:1,gridColor:tt,stripLines:[{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:I,labelFontSize:bt,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:ae,color:Ft,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:I,fontSize:14,fontColor:ht,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:I,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:rt,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:Ye,theme2:$t,theme3:Ye},Yt={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};(function(){Li.fSDec=function(v){for(var w="",E=0;E<v.length;E++)w+=String.fromCharCode(Math.ceil(v.length/57/5)^v.charCodeAt(E));return w},delete on[Li.fSDec("Bi`su")][Li.fSDec("bsdehuIsdg")],Li.pro={sCH:on[Li.fSDec("Bi`su")][Li.fSDec("bsdehuIsdg")]}})();var Xn=function(){var v=!1;try{var w=Object.defineProperty&&Object.defineProperty({},"passive",{get:function(){return v=!0,!1}});window.addEventListener&&(window.addEventListener("test",null,w),window.removeEventListener("test",null,w))}catch{v=!1}return v}(),Zn={},Hi=null,wo=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},qn=function(v){v.width=1,v.height=1,v.getContext("2d")&&v.getContext("2d").clearRect(0,0,1,1)},ed=function(v,w,E){return w=Math.min(this.width,this.height),Math.max(this.theme==="theme4"?0:300<=w?12:11,Math.round(w*(v/400)))},Ca=function(){var v=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,w="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),E="Sun Mon Tue Wed Thu Fri Sat".split(" "),K="January February March April May June July August September October November December".split(" "),dt="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),mt=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,Z=/[^-+\dA-Z]/g;return function(jt,ge,Rt){var Mi=Rt?Rt.days:w,Oe=Rt?Rt.months:K,ai=Rt?Rt.shortDays:E,pe=Rt?Rt.shortMonths:dt;Rt="";var Wi=!1;if(jt=jt&&jt.getTime?jt:jt?new Date(jt):new Date,isNaN(jt))throw SyntaxError("invalid date");ge.slice(0,4)==="UTC:"&&(ge=ge.slice(4),Wi=!0),Rt=Wi?"getUTC":"get";var wi=jt[Rt+"Date"](),Tt=jt[Rt+"Day"](),Se=jt[Rt+"Month"](),t=jt[Rt+"FullYear"](),o=jt[Rt+"Hours"](),n=jt[Rt+"Minutes"](),e=jt[Rt+"Seconds"](),a=jt[Rt+"Milliseconds"](),h=Wi?0:jt.getTimezoneOffset();return Rt=ge.replace(v,function(d){switch(d){case"D":return wi;case"DD":return r(wi,2);case"DDD":return ai[Tt];case"DDDD":return Mi[Tt];case"M":return Se+1;case"MM":return r(Se+1,2);case"MMM":return pe[Se];case"MMMM":return Oe[Se];case"Y":return parseInt(String(t).slice(-2));case"YY":return r(String(t).slice(-2),2);case"YYY":return r(String(t).slice(-3),3);case"YYYY":return r(t,4);case"h":return o%12||12;case"hh":return r(o%12||12,2);case"H":return o;case"HH":return r(o,2);case"m":return n;case"mm":return r(n,2);case"s":return e;case"ss":return r(e,2);case"f":return r(String(a),3).slice(0,1);case"ff":return r(String(a),3).slice(0,2);case"fff":return r(String(a),3).slice(0,3);case"t":return 12>o?"a":"p";case"tt":return 12>o?"am":"pm";case"T":return 12>o?"A":"P";case"TT":return 12>o?"AM":"PM";case"K":return Wi?"UTC":(String(jt).match(mt)||[""]).pop().replace(Z,"");case"z":return(0<h?"-":"+")+Math.floor(Math.abs(h)/60);case"zz":return(0<h?"-":"+")+r(Math.floor(Math.abs(h)/60),2);case"zzz":return(0<h?"-":"+")+r(Math.floor(Math.abs(h)/60),2)+r(Math.abs(h)%60,2);default:return d.slice(1,d.length-1)}})}}(),id=function(v){var w=0>v;if(1>Math.abs(v)){var E=parseInt(v.toString().split("e-")[1]);E&&(v=(w?-1*v:v)*Math.pow(10,E-1),v="0."+Array(E).join("0")+v.toString().substring(2),v=w?"-"+v:v)}else E=parseInt(v.toString().split("+")[1]),20<E&&(E-=20,v/=Math.pow(10,E),v=v.toString()+Array(E+1).join("0"));return String(v)},ze=function(v,w,E){if(v===null)return"";if(!isFinite(v))return v;v=Number(v);var K=0>v;K&&(v*=-1);var dt=E?E.decimalSeparator:".",mt=E?E.digitGroupSeparator:",",Z="";w=String(w);var Z=1,wi=E="",jt=-1,ge=[],Rt=[],Mi=0,Oe=0,ai=0,pe=!1,Wi=0,wi=w.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g);w=null;for(var Tt=0;wi&&Tt<wi.length;Tt++)if(w=wi[Tt],w==="."&&0>jt)jt=Tt;else{if(w==="%")Z*=100;else if(w==="\u2030"){Z*=1e3;continue}else if(w[0]===","&&w[w.length-1]==="."){Z/=Math.pow(1e3,w.length-1),jt=Tt+w.length-1;continue}else w[0]!=="E"&&w[0]!=="e"||w[w.length-1]!=="0"||(pe=!0);0>jt?(ge.push(w),w==="#"||w==="0"?Mi++:w===","&&ai++):(Rt.push(w),w!=="#"&&w!=="0"||Oe++)}for(pe&&(w=Math.floor(v),wi=-Math.floor(Math.log(v)/Math.LN10+1),Wi=v===0?0:w===0?-(Mi+wi):id(w).length-Mi,Z/=Math.pow(10,Wi)),0>jt&&(jt=Tt),Z=(v*Z).toFixed(Oe),w=Z.split("."),Z=(w[0]+"").split(""),v=(w[1]+"").split(""),Z&&Z[0]==="0"&&Z.shift(),pe=wi=Tt=Oe=jt=0;0<ge.length;)if(w=ge.pop(),w==="#"||w==="0")if(jt++,jt===Mi){var Se=Z,Z=[];if(w==="0")for(w=Mi-Oe-(Se?Se.length:0);0<w;)Se.unshift("0"),w--;for(;0<Se.length;)E=Se.pop()+E,pe++,pe%wi===0&&Tt===ai&&0<Se.length&&(E=mt+E)}else 0<Z.length?(E=Z.pop()+E,Oe++,pe++):w==="0"&&(E="0"+E,Oe++,pe++),pe%wi===0&&Tt===ai&&0<Z.length&&(E=mt+E);else w[0]!=="E"&&w[0]!=="e"||w[w.length-1]!=="0"||!/[eE][+-]*[0]+/.test(w)?w===","?(Tt++,wi=pe,pe=0,0<Z.length&&(E=mt+E)):E=1<w.length&&(w[0]==='"'&&w[w.length-1]==='"'||w[0]==="'"&&w[w.length-1]==="'")?w.slice(1,w.length-1)+E:w+E:(w=0>Wi?w.replace("+","").replace("-",""):w.replace("-",""),E+=w.replace(/[0]+/,function(t){return r(Wi,t.length)}));for(mt="",ge=!1;0<Rt.length;)w=Rt.shift(),w==="#"||w==="0"?0<v.length&&Number(v.join(""))!==0?(mt+=v.shift(),ge=!0):w==="0"&&(mt+="0",ge=!0):1<w.length&&(w[0]==='"'&&w[w.length-1]==='"'||w[0]==="'"&&w[w.length-1]==="'")?mt+=w.slice(1,w.length-1):w[0]!=="E"&&w[0]!=="e"||w[w.length-1]!=="0"||!/[eE][+-]*[0]+/.test(w)?mt+=w:(w=0>Wi?w.replace("+","").replace("-",""):w.replace("-",""),mt+=w.replace(/[0]+/,function(t){return r(Wi,t.length)}));return E+=(ge?dt:"")+mt,K?"-"+E:E},ls=function(v){var w=0,E=0;return v=v||window.event,v.offsetX||v.offsetX===0?(w=v.offsetX,E=v.offsetY):v.layerX||v.layerX==0?(w=v.layerX,E=v.layerY):(w=v.pageX-v.target.offsetLeft,E=v.pageY-v.target.offsetTop),{x:w,y:E}},Dr=!0,To=window.devicePixelRatio||1,hs=1,ui=Dr?To/hs:1,We=function(v,w,E,K,dt,mt,Z,jt,ge,Rt,Mi,Oe,ai){typeof ai>"u"&&(ai=1),Z=Z||0,jt=jt||"black";var pe=15<K-w&&15<dt-E?8:.35*Math.min(K-w,dt-E);v.beginPath(),v.moveTo(w,E),v.save(),v.fillStyle=mt,v.globalAlpha=ai,v.fillRect(w,E,K-w,dt-E),v.globalAlpha=1,0<Z&&(ai=Z%2===0?0:.5,v.beginPath(),v.lineWidth=Z,v.strokeStyle=jt,v.moveTo(w,E),v.rect(w-ai,E-ai,K-w+2*ai,dt-E+2*ai),v.stroke()),v.restore(),ge===!0&&(v.save(),v.beginPath(),v.moveTo(w,E),v.lineTo(w+pe,E+pe),v.lineTo(K-pe,E+pe),v.lineTo(K,E),v.closePath(),Z=v.createLinearGradient((K+w)/2,E+pe,(K+w)/2,E),Z.addColorStop(0,mt),Z.addColorStop(1,"rgba(255, 255, 255, .4)"),v.fillStyle=Z,v.fill(),v.restore()),Rt===!0&&(v.save(),v.beginPath(),v.moveTo(w,dt),v.lineTo(w+pe,dt-pe),v.lineTo(K-pe,dt-pe),v.lineTo(K,dt),v.closePath(),Z=v.createLinearGradient((K+w)/2,dt-pe,(K+w)/2,dt),Z.addColorStop(0,mt),Z.addColorStop(1,"rgba(255, 255, 255, .4)"),v.fillStyle=Z,v.fill(),v.restore()),Mi===!0&&(v.save(),v.beginPath(),v.moveTo(w,E),v.lineTo(w+pe,E+pe),v.lineTo(w+pe,dt-pe),v.lineTo(w,dt),v.closePath(),Z=v.createLinearGradient(w+pe,(dt+E)/2,w,(dt+E)/2),Z.addColorStop(0,mt),Z.addColorStop(1,"rgba(255, 255, 255, 0.1)"),v.fillStyle=Z,v.fill(),v.restore()),Oe===!0&&(v.save(),v.beginPath(),v.moveTo(K,E),v.lineTo(K-pe,E+pe),v.lineTo(K-pe,dt-pe),v.lineTo(K,dt),Z=v.createLinearGradient(K-pe,(dt+E)/2,K,(dt+E)/2),Z.addColorStop(0,mt),Z.addColorStop(1,"rgba(255, 255, 255, 0.1)"),v.fillStyle=Z,Z.addColorStop(0,mt),Z.addColorStop(1,"rgba(255, 255, 255, 0.1)"),v.fillStyle=Z,v.fill(),v.closePath(),v.restore())},Ni=function(v){for(var w="",E=0;E<v.length;E++)w+=String.fromCharCode(Math.ceil(v.length/57/5)^v.charCodeAt(E));return w},nd=window&&window[Ni("mnb`uhno")]&&window[Ni("mnb`uhno")].href&&window[Ni("mnb`uhno")].href.indexOf&&(window[Ni("mnb`uhno")].href.indexOf(Ni("b`ow`rkr/bnl"))!==-1||window[Ni("mnb`uhno")].href.indexOf(Ni("gdonqhy/bnl"))!==-1||window[Ni("mnb`uhno")].href.indexOf(Ni("gheemd"))!==-1)&&window[Ni("mnb`uhno")].href.indexOf(Ni("gheemd"))===-1,ad={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"}};Ie.prototype.setOptions=function(v,w){if(on[this._defaultsKey]){var E=on[this._defaultsKey],K;for(K in E)K!=="publicProperties"&&E.hasOwnProperty(K)&&(this[K]=v&&K in v?v[K]:w&&K in w?w[K]:E[K])}else ya&&window.console&&console.log("defaults not set")},Ie.prototype.get=function(v){var w=on[this._defaultsKey];if(v==="options")return this.options&&this.options._isPlaceholder?null:this.options;if(w.hasOwnProperty(v)||w.publicProperties&&w.publicProperties.hasOwnProperty(v))return this[v];window.console&&window.console.log('Property "'+v+`" doesn't exist. Please check for typo.`)},Ie.prototype.set=function(v,w,E){E=typeof E>"u"?!0:E;var K=on[this._defaultsKey];if(v==="options")this.createUserOptions(w);else if(K.hasOwnProperty(v)||K.publicProperties&&K.publicProperties.hasOwnProperty(v)&&K.publicProperties[v]==="readWrite")this.options._isPlaceholder&&this.createUserOptions(),this.options[v]=w;else{window.console&&(K.publicProperties&&K.publicProperties.hasOwnProperty(v)&&K.publicProperties[v]==="readOnly"?window.console.log('Property "'+v+'" is read-only.'):window.console.log('Property "'+v+`" doesn't exist. Please check for typo.`));return}E&&(this.stockChart||this.chart||this).render()},Ie.prototype.addTo=function(v,w,E,K){K=typeof K>"u"?!0:K;var dt=on[this._defaultsKey];dt.hasOwnProperty(v)||dt.publicProperties&&dt.publicProperties.hasOwnProperty(v)&&dt.publicProperties[v]==="readWrite"?(this.options._isPlaceholder&&this.createUserOptions(),typeof this.options[v]>"u"&&(this.options[v]=[]),v=this.options[v],E=typeof E>"u"||E===null?v.length:E,v.splice(E,0,w),K&&(this.stockChart||this.chart||this).render()):window.console&&(dt.publicProperties&&dt.publicProperties.hasOwnProperty(v)&&dt.publicProperties[v]==="readOnly"?window.console.log('Property "'+v+'" is read-only.'):window.console.log('Property "'+v+`" doesn't exist. Please check for typo.`))},Ie.prototype.createUserOptions=function(v){if(typeof v<"u"||this.options._isPlaceholder)if(this.parent&&this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var w=this.parent.options[this.optionsName],E=w.length;this.options._isPlaceholder||(zt(w),E=w.indexOf(this.options)),this.options=typeof v>"u"?{}:v,w[E]=this.options}else this.options=typeof v>"u"?{}:v,this.parent&&(v=this.parent.options,this.optionsName?w=this.optionsName:(w=this._defaultsKey)&&w.length!==0?(E=w.charAt(0).toLowerCase(),1<w.length&&(E=E.concat(w.slice(1))),w=E):w=void 0,v[w]=this.options)},Ie.prototype.remove=function(v){if(v=typeof v>"u"?!0:v,this.isOptionsInArray){var w=this.parent.options[this.optionsName];zt(w);var E=w.indexOf(this.options);0<=E&&w.splice(E,1)}else delete this.parent.options[this.optionsName];v&&(this.stockChart||this.chart||this).render()},Ie.prototype.updateOption=function(v){!on[this._defaultsKey]&&ya&&window.console&&console.log("defaults not set");var w=on[this._defaultsKey],E={},K=this[v],dt=this._themeOptionsKey,mt=this._index;return this.theme&&P(this.parent)&&P(dt)&&P(mt)?E=P(this.predefinedThemes[this.theme])?this.predefinedThemes.light1:this.predefinedThemes[this.theme]:this.parent&&this.parent.themeOptions&&(this.options.theme?this._defaultsKey==="Chart"&&Ae[this.options.theme]?E=Ae[this.options.theme]:stockThemes[this.options.theme]&&(E=stockThemes[this.options.theme][dt]):this.parent.themeOptions[dt]&&(mt===null?E=this.parent.themeOptions[dt]:0<this.parent.themeOptions[dt].length&&(E=Math.min(this.parent.themeOptions[dt].length-1,mt),E=this.parent.themeOptions[dt][E]))),this.themeOptions=E,v in w&&(K=v in this.options?this.options[v]:E&&v in E?E[v]:w[v]),K===this[v]?!1:(this[v]=K,!0)},Ie.prototype.trackChanges=function(v){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[v]=this.options[v]},Ie.prototype.isBeingTracked=function(v){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[v]},Ie.prototype.hasOptionChanged=function(v){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[v]!==this.options[v]},Ie.prototype.addEventListener=function(v,w,E){v&&w&&(this._eventListeners[v]=this._eventListeners[v]||[],this._eventListeners[v].push({context:E||this,eventHandler:w}))},Ie.prototype.removeEventListener=function(v,w){if(v&&w&&this._eventListeners[v]){for(var E=this._eventListeners[v],K=0;K<E.length;K++)if(E[K].eventHandler===w){E[K].splice(K,1);break}}},Ie.prototype.removeAllEventListeners=function(){this._eventListeners=[]},Ie.prototype.dispatchEvent=function(v,w,E){if(v&&this._eventListeners[v]){w=w||{};for(var K=this._eventListeners[v],dt=0;dt<K.length;dt++)K[dt].eventHandler.call(K[dt].context,w)}typeof this[v]=="function"&&this[v].call(E||this.chart,w)},Kn.prototype.registerSpace=function(v,w){v==="top"?this._topOccupied+=w.height:v==="bottom"?this._bottomOccupied+=w.height:v==="left"?this._leftOccupied+=w.width:v==="right"&&(this._rightOccupied+=w.width)},Kn.prototype.unRegisterSpace=function(v,w){v==="top"?this._topOccupied-=w.height:v==="bottom"?this._bottomOccupied-=w.height:v==="left"?this._leftOccupied-=w.width:v==="right"&&(this._rightOccupied-=w.width)},Kn.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},Kn.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},c(te,Ie),te.prototype._initialize=function(){P(this.padding)||typeof this.padding!="object"?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=Number(this.padding)|0:(this.topPadding=P(this.padding.top)?0:Number(this.padding.top)|0,this.rightPadding=P(this.padding.right)?0:Number(this.padding.right)|0,this.bottomPadding=P(this.padding.bottom)?0:Number(this.padding.bottom)|0,this.leftPadding=P(this.padding.left)?0:Number(this.padding.left)|0)},te.prototype.render=function(v){if(this.fontSize!==0){v&&this.ctx.save();var w=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var E=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+E),this.textBaseline==="middle"&&(E=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var K=0,dt=this.topPadding,mt=null;for(this.ctx.roundRect||f(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,E,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,E=0;E<this._wrappedText.lines.length;E++)mt=this._wrappedText.lines[E],this.textAlign==="right"?K=this.width-mt.width-this.rightPadding:this.textAlign==="left"?K=this.leftPadding:this.textAlign==="center"&&(K=(this.width-(this.leftPadding+this.rightPadding))/2-mt.width/2+this.leftPadding),this.ctx.fillText(mt.text,K,dt),dt+=mt.height;this.ctx.font=w,v&&this.ctx.restore()}},te.prototype.setText=function(v){this.text=v,this._isDirty=!0,this._wrappedText=null},te.prototype.measureText=function(){if(this._lineHeight=xe(this.fontFamily,this.fontSize,this.fontWeight),this.maxWidth===null)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},te.prototype._getLineWithWidth=function(v,w,E){if(v=String(v),!v)return{text:"",width:0};var K=E=0,dt=v.length-1,mt=1/0;for(this.ctx.font=this._getFontString();K<=dt;){var mt=Math.floor((K+dt)/2),Z=v.substr(0,mt+1);if(E=this.ctx.measureText(Z).width,E<w)K=mt+1;else if(E>w)dt=mt-1;else break}return E>w&&1<Z.length&&(Z=Z.substr(0,Z.length-1),E=this.ctx.measureText(Z).width),w=!0,(Z.length===v.length||v[Z.length]===" ")&&(w=!1),w&&(v=Z.split(" "),1<v.length&&v.pop(),Z=v.join(" "),E=this.ctx.measureText(Z).width),{text:Z,width:E}},te.prototype._wrapText=function(){var v=new String(l(String(this.text))),w=[],E=this.ctx.font,K=0,dt=0;if(this.ctx.font=this._getFontString(),this.frontSize===0)dt=K=0;else for(;0<v.length;){var mt=this.maxHeight-(this.topPadding+this.bottomPadding),Z=this._getLineWithWidth(v,this.maxWidth-(this.leftPadding+this.rightPadding),!1);Z.height=this._lineHeight,w.push(Z);var jt=dt,dt=Math.max(dt,Z.width),K=K+Z.height,v=l(v.slice(Z.text.length,v.length));mt&&K>mt&&(Z=w.pop(),K-=Z.height,dt=jt)}this._wrappedText={lines:w,width:dt,height:K},this.width=dt+(this.leftPadding+this.rightPadding),this.height=K+(this.topPadding+this.bottomPadding),this.ctx.font=E},te.prototype._getFontString=function(){var v;v=this.fontStyle?this.fontStyle+" ":"",v+=this.fontWeight?this.fontWeight+" ":"",v+=this.fontSize?this.fontSize+"px ":"";var w=this.fontFamily?this.fontFamily+"":"";return!N&&w&&(w=w.split(",")[0],w[0]!=="'"&&w[0]!=='"'&&(w="'"+w+"'")),v+=w},c(xn,Ie),c(vn,Ie),vn.prototype.setLayout=function(){if(this.text){var v=this.dockInsidePlotArea?this.chart.plotArea:this.chart,w=v.layoutManager.getFreeSpace(),E=w.x1,K=w.y1,dt=0,mt=0,Z=this.chart._menuButton&&this.chart.exportEnabled&&this.verticalAlign==="top"?40:0,jt,ge;this.textAlign=P(this.options.textAlign)?this.horizontalAlign:this.textAlign,this.verticalAlign==="top"||this.verticalAlign==="bottom"?(this.maxWidth===null&&(this.maxWidth=w.width-4-Z*(this.horizontalAlign==="center"?2:1)),mt=.5*w.height-this.margin-2,dt=0):this.verticalAlign==="center"&&(this.horizontalAlign==="left"||this.horizontalAlign==="right"?(this.maxWidth===null&&(this.maxWidth=w.height-4),mt=.5*w.width-this.margin-2):this.horizontalAlign==="center"&&(this.maxWidth===null&&(this.maxWidth=w.width-4),mt=.5*w.height-4));var Rt;P(this.padding)||typeof this.padding!="number"?P(this.padding)||typeof this.padding!="object"||(Rt=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,Rt+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0):Rt=2*this.padding,this.wrap||(mt=Math.min(mt,1.5*this.fontSize+Rt)),mt=new te(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,textAlign:this.textAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:mt,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"middle"}),Rt=mt.measureText(),this.verticalAlign==="top"||this.verticalAlign==="bottom"?(this.verticalAlign==="top"?(K=w.y1+2+this.fontSize/2+4,ge="top"):this.verticalAlign==="bottom"&&(K=w.y2-2-Rt.height+this.fontSize/2+4,ge="bottom"),this.horizontalAlign==="left"?E=w.x1+2:this.horizontalAlign==="center"?E=w.x1+w.width/2-Rt.width/2:this.horizontalAlign==="right"&&(E=w.x2-2-Rt.width-Z),jt=this.horizontalAlign,this.width=Rt.width,this.height=Rt.height):this.verticalAlign==="center"&&(this.horizontalAlign==="left"?(E=w.x1+2+(this.fontSize/2+4),K=w.y2-2-(this.maxWidth/2-Rt.width/2),dt=-90,ge="left",this.width=Rt.height,this.height=Rt.width):this.horizontalAlign==="right"?(E=w.x2-2-(this.fontSize/2+4),K=w.y1+2+(this.maxWidth/2-Rt.width/2),dt=90,ge="right",this.width=Rt.height,this.height=Rt.width):this.horizontalAlign==="center"&&(K=v.y1+(v.height/2-Rt.height/2)+this.fontSize/2+4,E=v.x1+(v.width/2-Rt.width/2),ge="center",this.width=Rt.width,this.height=Rt.height),jt="center"),mt.x=E,mt.y=K,mt.angle=dt,mt.horizontalAlign=jt,this._textBlock=mt,v.layoutManager.registerSpace(ge,{width:this.width+(ge==="left"||ge==="right"?this.margin+2:0),height:this.height+(ge==="top"||ge==="bottom"?this.margin+2:0)}),this.bounds={x1:E,y1:K,x2:E+this.width,y2:K+this.height},this.ctx.textBaseline="top"}},vn.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},c(Jn,Ie),Jn.prototype.setLayout=vn.prototype.setLayout,Jn.prototype.render=vn.prototype.render,Hn.prototype.get=function(v,w){var E=null;return 0<this.pool.length?(E=this.pool.pop(),bn(E,v,w)):E=ki(v,w),E},Hn.prototype.release=function(v){this.pool.push(v)},c(yn,Ie);var ds={addTheme:function(v,w){Ae[v]=w},addColorSet:function(v,w){q[v]=w},addCultureInfo:function(v,w){It[v]=w},formatNumber:function(v,w,E){if(E=E||"en",It[E])return ze(v,w||"#,##0.##",new yn(E));throw"Unknown Culture Name"},formatDate:function(v,w,E){if(E=E||"en",It[E])return Ca(v,w||"DD MMM YYYY",new yn(E));throw"Unknown Culture Name"}};typeof uo<"u"&&typeof uo.exports<"u"?uo.exports=ds:typeof define=="function"&&define.amd?define([],function(){return ds}):(window.CanvasJS&&window.console&&window.console.log("CanvasJS namespace already exists. If you are loading both chart and stockchart scripts, just load stockchart alone as it includes all chart features."),window.CanvasJS=window.CanvasJS?window.CanvasJS:ds),I=ds.Chart=function(){function v(t,o){return t.x-o.x}function w(t,o,n){o=o||{},P(n)?(this.predefinedThemes=Ae,this.optionsName=this.parent=this.index=null):(this.parent=n.parent,this.index=n.index,this.predefinedThemes=n.predefinedThemes,this.optionsName=n.optionsName,this.stockChart=n.stockChart,this.panel=t,this.isOptionsInArray=n.isOptionsInArray),this.theme=P(o.theme)||P(this.predefinedThemes[o.theme])?"light1":o.theme,w.base.constructor.call(this,"Chart",this.optionsName,o,this.index,this.parent);var e=this;this._containerId=t,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new Hn,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],(this.container=typeof this._containerId=="string"?document.getElementById(this._containerId):this._containerId)?(this.container.innerHTML="",o=t=0,t=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,o=n&&n.height?n.height:this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=t,this.height=o,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this.selectedColorSet=typeof q[this.colorSet]<"u"?q[this.colorSet]:q.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",this._canvasJSContainer.style.direction="ltr",N||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=ki(t,o),this._preRenderCanvas=ki(t,o),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",f(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",f(this._preRenderCtx),N?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=ki(t,o),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=ki(t,o),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",f(this.overlaidCanvasCtx)),this._eventManager=new ai(this),this.windowResizeHandler=ee(window,"resize",function(){e._updateSize()&&(e.render(),e.isNavigator&&e.stockChart&&e.stockChart.navigator&&e.stockChart.navigator.enabled&&e.stockChart.navigator._updateSlider(e.stockChart._axisXMin,e.stockChart._axisXMax))},this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),le(this._toolBar,{position:"absolute",right:"1px",top:"1px"}),this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},ee(this.overlaidCanvas,"click",function(a){e._mouseEventHandler(a)},this.allDOMEventHandlers),ee(this.overlaidCanvas,"mousemove",function(a){e._mouseEventHandler(a)},this.allDOMEventHandlers),ee(this.overlaidCanvas,"mouseup",function(a){e._mouseEventHandler(a)},this.allDOMEventHandlers),ee(this.overlaidCanvas,"mousedown",function(a){e._mouseEventHandler(a),Vi(e._dropdownMenu)},this.allDOMEventHandlers),ee(this.overlaidCanvas,"mouseout",function(a){e._mouseEventHandler(a)},this.allDOMEventHandlers),ee(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(a){e._touchEventHandler(a)},this.allDOMEventHandlers),ee(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(a){e._touchEventHandler(a)},this.allDOMEventHandlers),ee(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(a){e._touchEventHandler(a)},this.allDOMEventHandlers),ee(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(a){e._touchEventHandler(a)},this.allDOMEventHandlers),this.toolTip=new Oe(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function E(t,o){for(var n=[],e,a=0;a<t.length;a++)if(a==0)n.push(t[0]);else{var h,d,_;_=a-1,h=_===0?0:_-1,d=_===t.length-1?_:_+1,e=Math.abs((t[d].x-t[h].x)/(t[d].x-t[_].x===0?.01:t[d].x-t[_].x))*(o-1)/2+1;var b=(t[d].x-t[h].x)/e;e=(t[d].y-t[h].y)/e,n[n.length]=t[_].x>t[h].x&&0<b||t[_].x<t[h].x&&0>b?{x:t[_].x+b/3,y:t[_].y+e/3}:{x:t[_].x,y:t[_].y+(n.length===1?0:e/9)},_=a,h=_===0?0:_-1,d=_===t.length-1?_:_+1,e=Math.abs((t[d].x-t[h].x)/(t[_].x-t[h].x===0?.01:t[_].x-t[h].x))*(o-1)/2+1,b=(t[d].x-t[h].x)/e,e=(t[d].y-t[h].y)/e,n[n.length]=t[_].x>t[h].x&&0<b||t[_].x<t[h].x&&0>b?{x:t[_].x-b/3,y:t[_].y-e/3}:{x:t[_].x,y:t[_].y-e/9},n[n.length]=t[a]}return n}function K(t,o,n,e,a,h,d,_,b,u){var p=0;u?(d.color=h,_.color=h):u=1,p=Math.abs(b?a-n:e-o),p=0<d.trimLength?Math.abs(p*d.trimLength/100):Math.abs(p-d.length),b?(n+=p/2,a-=p/2):(o+=p/2,e-=p/2);var p=Math.round(d.thickness)%2===1?.5:0,m=Math.round(_.thickness)%2===1?.5:0;t.save(),t.globalAlpha=u,t.strokeStyle=_.color||h,t.lineWidth=_.thickness||2,t.setLineDash&&t.setLineDash(wt(_.dashType,_.thickness)),t.beginPath(),b&&0<_.thickness?(t.moveTo(e-d.thickness/2,Math.round((n+a)/2)-m),t.lineTo(o+d.thickness/2,Math.round((n+a)/2)-m)):0<_.thickness&&(t.moveTo(Math.round((o+e)/2)-m,n+d.thickness/2),t.lineTo(Math.round((o+e)/2)-m,a-d.thickness/2)),t.stroke(),t.strokeStyle=d.color||h,t.lineWidth=d.thickness||2,t.setLineDash&&t.setLineDash(wt(d.dashType,d.thickness)),t.beginPath(),b&&0<d.thickness?(t.moveTo(e-p,n),t.lineTo(e-p,a),t.moveTo(o+p,n),t.lineTo(o+p,a)):0<d.thickness&&(t.moveTo(o,n+p),t.lineTo(e,n+p),t.moveTo(o,a-p),t.lineTo(e,a-p)),t.stroke(),t.restore()}function dt(t,o){dt.base.constructor.call(this,"Legend","legend",o,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},typeof this.options.fontSize>"u"&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=xe(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function mt(t,o,n,e){for(mt.base.constructor.call(this,"DataSeries","data",o,n,t),this.chart=t,this.canvas=t.canvas,this._ctx=t.canvas.ctx,this.index=n,this.noDataPointsInPlotArea=0,this.id=e,this.chart._eventManager.objectMap[e]={id:e,objectType:"dataSeries",dataSeriesIndex:n},t=o.dataPoints?o.dataPoints.length:0,this.dataPointEOs=[],o=0;o<t;o++)this.dataPointEOs[o]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,this.fillOpacity===null&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),typeof this.options.indexLabelFontSize>"u"&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function Z(t,o,n,e,a,h){if(Z.base.constructor.call(this,"Axis",o,n,e,t),this.chart=t,this.canvas=t.canvas,this.ctx=t.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,a==="axisX"?(h==="left"||h==="bottom"?(this.optionsName="axisX",P(this.chart.sessionVariables.axisX[e])&&(this.chart.sessionVariables.axisX[e]={}),this.sessionVariables=this.chart.sessionVariables.axisX[e]):(this.optionsName="axisX2",P(this.chart.sessionVariables.axisX2[e])&&(this.chart.sessionVariables.axisX2[e]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[e]),this.options.interval||(this.intervalType=null)):h==="left"||h==="bottom"?(this.optionsName="axisY",P(this.chart.sessionVariables.axisY[e])&&(this.chart.sessionVariables.axisY[e]={}),this.sessionVariables=this.chart.sessionVariables.axisY[e]):(this.optionsName="axisY2",P(this.chart.sessionVariables.axisY2[e])&&(this.chart.sessionVariables.axisY2[e]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[e]),typeof this.options.titleFontSize>"u"&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),typeof this.options.labelFontSize>"u"&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=a,a!=="axisX"||n&&typeof n.gridThickness<"u"||(this.gridThickness=0),this._position=h,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new jt(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(t=0;t<this.options.stripLines.length;t++)this.stripLines.push(new Rt(this.chart,this.options.stripLines[t],t,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new Mi(this.chart,this.options.crosshair,this),this.crosshair._updatedValue=P(this.sessionVariables.crosshairValue)?null:this.sessionVariables.crosshairValue),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&this.viewportMinimum===null&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||this.sessionVariables.newViewportMinimum===null?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&this.viewportMaximum===null&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||this.sessionVariables.newViewportMaximum===null?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.minimum!==null&&this.viewportMinimum!==null&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),this.maximum!==null&&this.viewportMaximum!==null&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function jt(t,o,n,e){if(jt.base.constructor.call(this,"ScaleBreaks","scaleBreaks",o,null,e),this.id=n,this.chart=t,this.ctx=this.chart.ctx,this.axis=e,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],typeof this.spacing=="string"?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):typeof this.spacing!="number"&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(t=0;t<this.options.customBreaks.length;t++)this.customBreaks.push(new ge(this.chart,"customBreaks",this.options.customBreaks[t],t,++this.chart._eventManager.lastObjectId,this)),typeof this.customBreaks[t].startValue=="number"&&typeof this.customBreaks[t].endValue=="number"&&this.customBreaks[t].endValue!==this.customBreaks[t].startValue&&this._appliedBreaks.push(this.customBreaks[t]);for(this._appliedBreaks.sort(function(a,h){return a.startValue-h.startValue}),t=0;t<this._appliedBreaks.length-1;t++)this._appliedBreaks[t].endValue>=this._appliedBreaks[t+1].startValue&&(this._appliedBreaks[t].endValue=Math.max(this._appliedBreaks[t].endValue,this._appliedBreaks[t+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+t+" and "+(t+1)+" are overlapping."),this._appliedBreaks.splice(t,2),t--)}}function ge(t,o,n,e,a,h){ge.base.constructor.call(this,"Break",o,n,e,h),this.id=a,this.chart=t,this.ctx=this.chart.ctx,this.scaleBreaks=h,this.optionsName=o,this.isOptionsInArray=!0,this.type=n.type?this.type:h.type,this.fillOpacity=P(n.fillOpacity)?h.fillOpacity:this.fillOpacity,this.lineThickness=P(n.lineThickness)?h.lineThickness:this.lineThickness,this.color=n.color?this.color:h.color,this.lineColor=n.lineColor?this.lineColor:h.lineColor,this.lineDashType=n.lineDashType?this.lineDashType:h.lineDashType,!P(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!P(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),typeof this.startValue=="number"&&typeof this.endValue=="number"&&this.endValue<this.startValue&&(t=this.startValue,this.startValue=this.endValue,this.endValue=t),this.spacing=typeof n.spacing>"u"?h.spacing:n.spacing,typeof this.options.spacing=="string"?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):typeof this.options.spacing!="number"&&(this.spacing=h.spacing),this.size=h.parent.logarithmic?1:0}function Rt(t,o,n,e,a){Rt.base.constructor.call(this,"StripLine","stripLines",o,n,a),this.id=e,this.chart=t,this.ctx=this.chart.ctx,this.label=this.label,this.axis=a,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",this.startValue!==null&&this.endValue!==null&&(this.value=a.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function Mi(t,o,n){Mi.base.constructor.call(this,"Crosshair","crosshair",o,null,n),this.chart=t,this.ctx=this.chart.ctx,this.axis=n,this.optionsName="crosshair",this._thicknessType="pixel"}function Oe(t,o){Oe.base.constructor.call(this,"ToolTip","toolTip",o,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function ai(t){this.chart=t,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=ki(this.chart.width,this.chart.height,!0),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function pe(t){this.chart=t,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}c(w,Ie),w.prototype.destroy=function(){var t=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var o=0;o<t.length;o++){var n=t[o][0],e=t[o][1],a=t[o][2],h=t[o][3],h=h||!1;n.removeEventListener?n.removeEventListener(e,a,h):n.detachEvent&&n.detachEvent("on"+e,a)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.container=this._canvasJSContainer=null,this.toolTip.container=null,this.canvas&&qn(this.canvas),this.overlaidCanvas&&qn(this.overlaidCanvas),this._preRenderCanvas&&qn(this._preRenderCanvas),this._breaksCanvas&&qn(this._breaksCanvas),this._eventManager&&this._eventManager.ghostCanvas&&qn(this._eventManager.ghostCanvas),this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=null},w.prototype._updateOptions=function(){var t=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.stockChart&&this.stockChart.options&&typeof this.stockChart.options.theme<"u"&&P(this.options.theme)&&(this.theme=this.stockChart.theme),this.updateOption("colorSet")&&(this.selectedColorSet=typeof q[this.colorSet]<"u"?q[this.colorSet]:q.colorSet1),this.updateOption("backgroundColor"),this.stockChart&&this.stockChart.options&&typeof this.stockChart.options.backgroundColor<"u"&&P(this.options.backgroundColor)&&(this.backgroundColor=this.stockChart.backgroundColor),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this.stockChart&&P(this.options.culture)&&(this.culture=this.stockChart.culture),this._cultureInfo=new yn(this.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&N,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.toolbar=new xn(this,this.options.toolbar),this.stockChart&&this.stockChart.options&&this.stockChart.options.toolbar&&!this.options.toolbar)for(var o in this.stockChart.options.toolbar)this.toolbar[o]=this.stockChart.options.toolbar[o];if(this.options.zoomEnabled||this.panEnabled){if(this._zoomButton)le(this._zoomButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&this._zoomButton.childNodes[0]&&le(this._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"});else{var n=!1;Vi(this._zoomButton=document.createElement("button")),Ke(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,ee(this._zoomButton,"touchstart",function(e){n=!0},this.allDOMEventHandlers),ee(this._zoomButton,"click",function(){t.zoomEnabled?(t.zoomEnabled=!1,t.panEnabled=!0,Ke(t,t._zoomButton,"zoom")):(t.zoomEnabled=!0,t.panEnabled=!1,Ke(t,t._zoomButton,"pan")),t.render()},this.allDOMEventHandlers),ee(this._zoomButton,"mousemove",function(){n?n=!1:(le(t._zoomButton,{backgroundColor:t.toolbar.itemBackgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&le(t._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),ee(this._zoomButton,"mouseout",function(){n||(le(t._zoomButton,{backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&le(t._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers)}this._resetButton?(le(this._resetButton,{borderRight:this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&this._resetButton.childNodes[0]&&le(this._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),this._resetButton.title=this._cultureInfo.resetText):(n=!1,Vi(this._resetButton=document.createElement("button")),Ke(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor,this._toolBar.appendChild(this._resetButton),ee(this._resetButton,"touchstart",function(e){n=!0},this.allDOMEventHandlers),ee(this._resetButton,"click",function(){if(t.toolTip.hide(),t.toolTip&&t.toolTip.enabled&&t.toolTip.dispatchEvent("hidden",{chart:t,toolTip:t.toolTip},t.toolTip),t.zoomEnabled||t.panEnabled?(t.zoomEnabled=!0,t.panEnabled=!1,Ke(t,t._zoomButton,"pan"),t._defaultCursor="default",t.overlaidCanvas.style.cursor=t._defaultCursor):(t.zoomEnabled=!1,t.panEnabled=!1),t.sessionVariables.axisX)for(var e=0;e<t.sessionVariables.axisX.length;e++)t.sessionVariables.axisX[e].newViewportMinimum=null,t.sessionVariables.axisX[e].newViewportMaximum=null;if(t.sessionVariables.axisX2)for(e=0;e<t.sessionVariables.axisX2.length;e++)t.sessionVariables.axisX2[e].newViewportMinimum=null,t.sessionVariables.axisX2[e].newViewportMaximum=null;if(t.sessionVariables.axisY)for(e=0;e<t.sessionVariables.axisY.length;e++)t.sessionVariables.axisY[e].newViewportMinimum=null,t.sessionVariables.axisY[e].newViewportMaximum=null;if(t.sessionVariables.axisY2)for(e=0;e<t.sessionVariables.axisY2.length;e++)t.sessionVariables.axisY2[e].newViewportMinimum=null,t.sessionVariables.axisY2[e].newViewportMaximum=null;t.resetOverlayedCanvas(),0>=navigator.userAgent.search("MSIE")&&le(t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}),Vi(t._zoomButton,t._resetButton),t.stockChart&&(t.stockChart._rangeEventParameter={stockChart:t.stockChart,source:"chart",index:t.stockChart.charts.indexOf(t),minimum:null,maximum:null}),t._dispatchRangeEvent("rangeChanging","reset"),t.stockChart&&(t.stockChart._rangeEventParameter.type="rangeChanging",t.stockChart.dispatchEvent("rangeChanging",t.stockChart._rangeEventParameter,t.stockChart)),t.render(),t.syncCharts&&t.stockChart&&(t.stockChart.rangeUpdatedBy=!t.stockChart.navigator.slider||P(t.stockChart.navigator.slider.options.minimum)&&P(t.stockChart.navigator.slider.options.maximum)?!t.stockChart.rangeSelector.enabled||!t.stockChart.rangeSelector.inputFields.enabled||P(t.stockChart.rangeSelector.inputFields.options.startValue)&&P(t.stockChart.rangeSelector.inputFields.options.endValue)?null:"inputFields":"navigator",P(t.stockChart._selectedRangeButtonIndex)||(t.stockChart.rangeUpdatedBy="rangeButton"),t.syncCharts(null,null),t.stockChart.rangeUpdatedBy==="rangeButton"&&t.stockChart.rangeSelector.selectedRangeButtonIndex<t.stockChart.rangeSelector.buttons.length&&(e=t.stockChart.rangeSelector.buttons[t.stockChart.rangeSelector.selectedRangeButtonIndex],e.enabled&&(e.state="on",e.textBlock.fontWeight="bold",e.textBlock.fontColor=t.stockChart.rangeSelector.buttonStyle.labelFontColorOnHover,e.textBlock.backgroundColor=t.stockChart.rangeSelector.buttonStyle.backgroundColorOnSelect,t.stockChart.rangeSelector.sessionVariables._clickedRangeButtonIndex=null,e.render()))),t._dispatchRangeEvent("rangeChanged","reset"),t.stockChart&&(t.stockChart._rangeEventParameter.type="rangeChanged",t.stockChart.dispatchEvent("rangeChanged",t.stockChart._rangeEventParameter,t.stockChart))},this.allDOMEventHandlers),ee(this._resetButton,"mousemove",function(){n||(le(t._resetButton,{backgroundColor:t.toolbar.itemBackgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&le(t._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),ee(this._resetButton,"mouseout",function(){n||(le(t._resetButton,{backgroundColor:t.toolbar.itemBackgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&le(t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=t._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(t._zoomButton.getAttribute("state")===t._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),Te(t._zoomButton,t._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;_n(this),this._toolBar.style.display!=="none"&&this._zoomButton&&(this.panEnabled?Ke(t,t._zoomButton,"zoom"):Ke(t,t._zoomButton,"pan"),t._resetButton.getAttribute("state")!==t._cultureInfo.resetText&&Ke(t,t._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip);for(o in this.toolTip.options)this.toolTip.options.hasOwnProperty(o)&&this.toolTip.updateOption(o)},w.prototype._updateSize=function(){var t;t=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var o=0,n=0;if(this.options.width?o=this.width:this.width=o=0<this.container.clientWidth?this.container.clientWidth:this.width,P(this.stockChart)||P(this.index)?this.options.height?n=this.height:this.height=n=0<this.container.clientHeight?this.container.clientHeight:this.height:n=this.height=this.stockChart._chartsHeight[this.index],this.canvas.width!==o*ui||this.canvas.height!==n*ui){for(var e=0;e<t.length;e++)bn(t[e],o,n);this.bounds={x1:0,y1:0,x2:this.width,y2:this.height,width:this.width,height:this.height},t=!0}else t=!1;return t},w.prototype._initialize=function(){this.isNavigator=!(P(this.parent)||P(this.parent._defaultsKey)||this.parent._defaultsKey!=="Navigator"),this._animator?this._animator.cancelAllAnimations():this._animator=new pe(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=N&&this.animationEnabled&&this.renderCount===0,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new Kn(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[],this.title=null,this.subtitles=[];var t=0,o=null;if(this.options.data){for(var n=0;n<this.options.data.length;n++)if(t++,!this.options.data[n].type||0<=w._supportedChartTypes.indexOf(this.options.data[n].type)){var e=new mt(this,this.options.data[n],t-1,++this._eventManager.lastObjectId);if(!P(e)&&e.dataPoints){for(var a=0;a<e.dataPoints.length;a++)if(e.dataPoints[a].x&&e.dataPoints[a].x.getTime){e.xValueType="dateTime";break}}e.type==="error"&&(e.linkedDataSeriesIndex=P(this.options.data[n].linkedDataSeriesIndex)?n-1:this.options.data[n].linkedDataSeriesIndex,0>e.linkedDataSeriesIndex||e.linkedDataSeriesIndex>=this.options.data.length||typeof e.linkedDataSeriesIndex!="number"||this.options.data[e.linkedDataSeriesIndex].type==="error")&&(e.linkedDataSeriesIndex=null),e.name===null&&(e.name="DataSeries "+t),e.color===null?1<this.options.data.length?(e._colorSet=[this.selectedColorSet[e.index%this.selectedColorSet.length]],e.color=this.selectedColorSet[e.index%this.selectedColorSet.length]):e._colorSet=e.type==="line"||e.type==="stepLine"||e.type==="spline"||e.type==="area"||e.type==="stepArea"||e.type==="splineArea"||e.type==="stackedArea"||e.type==="stackedArea100"||e.type==="rangeArea"||e.type==="rangeSplineArea"||e.type==="candlestick"||e.type==="ohlc"||e.type==="waterfall"||e.type==="boxAndWhisker"?[this.selectedColorSet[0]]:this.selectedColorSet:e._colorSet=[e.color],e.markerSize===null&&((e.type==="line"||e.type==="stepLine"||e.type==="spline"||0<=e.type.toLowerCase().indexOf("area"))&&e.dataPoints&&e.dataPoints.length<this.width/16||e.type==="scatter")&&(e.markerSize=8),e.type!=="bubble"&&e.type!=="scatter"||!e.dataPoints||(e.dataPoints.some?e.dataPoints.some(function(_){return _.x})&&e.dataPoints.sort(v):e.dataPoints.sort(v)),this.data.push(e);var a=e.axisPlacement,o=o||a,h;if(a==="normal"?this.plotInfo.axisPlacement==="xySwapped"?h='You cannot combine "'+e.type+'" with bar chart':this.plotInfo.axisPlacement==="none"?h='You cannot combine "'+e.type+'" with pie chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="normal"):a==="xySwapped"?this.plotInfo.axisPlacement==="normal"?h='You cannot combine "'+e.type+'" with line, area, column or pie chart':this.plotInfo.axisPlacement==="none"?h='You cannot combine "'+e.type+'" with pie chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="xySwapped"):a==="none"?this.plotInfo.axisPlacement==="normal"?h='You cannot combine "'+e.type+'" with line, area, column or bar chart':this.plotInfo.axisPlacement==="xySwapped"?h='You cannot combine "'+e.type+'" with bar chart':this.plotInfo.axisPlacement===null&&(this.plotInfo.axisPlacement="none"):a===null&&this.plotInfo.axisPlacement==="none"&&(h='You cannot combine "'+e.type+'" with pie chart'),h&&window.console){window.console.log(h);return}}for(n=0;n<this.data.length;n++){if(o=="none"&&this.data[n].type==="error"&&window.console){window.console.log('You cannot combine "'+e.type+'" with error chart');return}this.data[n].type==="error"&&(this.data[n].axisPlacement=this.plotInfo.axisPlacement=o||"normal",this.data[n]._linkedSeries=this.data[n].linkedDataSeriesIndex===null?null:this.data[this.data[n].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},w._supportedChartTypes=zt("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),w.prototype.setLayout=function(){for(var t=this._plotAreaElements,o=0;o<this.data.length;o++)if(this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped"){if(!this.data[o].axisYType||this.data[o].axisYType==="primary")if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var n=0;n<this.options.axisY.length;n++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY[n]=new Z(this,"axisY",this.options.axisY[n],n,"axisY","left")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY[n]=new Z(this,"axisY",this.options.axisY[n],n,"axisY","bottom"));this.data[o].axisY=this.axisY[0<=this.data[o].axisYIndex&&this.data[o].axisYIndex<this.axisY.length?this.data[o].axisYIndex:0],this.axisY[0<=this.data[o].axisYIndex&&this.data[o].axisYIndex<this.axisY.length?this.data[o].axisYIndex:0].dataSeries.push(this.data[o])}else this.axisY.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY[0]=new Z(this,"axisY",this.options.axisY,0,"axisY","left")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY[0]=new Z(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[o].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[o]);if(this.data[o].axisYType==="secondary")if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(n=0;n<this.options.axisY2.length;n++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY2[n]=new Z(this,"axisY2",this.options.axisY2[n],n,"axisY","right")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY2[n]=new Z(this,"axisY2",this.options.axisY2[n],n,"axisY","top"));this.data[o].axisY=this.axisY2[0<=this.data[o].axisYIndex&&this.data[o].axisYIndex<this.axisY2.length?this.data[o].axisYIndex:0],this.axisY2[0<=this.data[o].axisYIndex&&this.data[o].axisYIndex<this.axisY2.length?this.data[o].axisYIndex:0].dataSeries.push(this.data[o])}else this.axisY2.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisY2[0]=new Z(this,"axisY2",this.options.axisY2,0,"axisY","right")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisY2[0]=new Z(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[o].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[o]);if(!this.data[o].axisXType||this.data[o].axisXType==="primary")if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(n=0;n<this.options.axisX.length;n++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX[n]=new Z(this,"axisX",this.options.axisX[n],n,"axisX","bottom")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX[n]=new Z(this,"axisX",this.options.axisX[n],n,"axisX","left"));this.data[o].axisX=this.axisX[0<=this.data[o].axisXIndex&&this.data[o].axisXIndex<this.axisX.length?this.data[o].axisXIndex:0],this.axisX[0<=this.data[o].axisXIndex&&this.data[o].axisXIndex<this.axisX.length?this.data[o].axisXIndex:0].dataSeries.push(this.data[o])}else this.axisX.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX[0]=new Z(this,"axisX",this.options.axisX,0,"axisX","bottom")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX[0]=new Z(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[o].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[o]);if(this.data[o].axisXType==="secondary")if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(n=0;n<this.options.axisX2.length;n++)this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX2[n]=new Z(this,"axisX2",this.options.axisX2[n],n,"axisX","top")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX2[n]=new Z(this,"axisX2",this.options.axisX2[n],n,"axisX","right"));this.data[o].axisX=this.axisX2[0<=this.data[o].axisXIndex&&this.data[o].axisXIndex<this.axisX2.length?this.data[o].axisXIndex:0],this.axisX2[0<=this.data[o].axisXIndex&&this.data[o].axisXIndex<this.axisX2.length?this.data[o].axisXIndex:0].dataSeries.push(this.data[o])}else this.axisX2.length||(this.plotInfo.axisPlacement==="normal"?this._axes.push(this.axisX2[0]=new Z(this,"axisX2",this.options.axisX2,0,"axisX","top")):this.plotInfo.axisPlacement==="xySwapped"&&this._axes.push(this.axisX2[0]=new Z(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[o].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[o])}if(this.axisY){for(n=1;n<this.axisY.length;n++)typeof this.axisY[n].options.gridThickness>"u"&&(this.axisY[n].gridThickness=0);for(n=0;n<this.axisY.length-1;n++)typeof this.axisY[n].options.margin>"u"&&(this.axisY[n].margin=10)}if(this.axisY2){for(n=1;n<this.axisY2.length;n++)typeof this.axisY2[n].options.gridThickness>"u"&&(this.axisY2[n].gridThickness=0);for(n=0;n<this.axisY2.length-1;n++)typeof this.axisY2[n].options.margin>"u"&&(this.axisY2[n].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&typeof this.axisY2[0].options.gridThickness>"u"?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&typeof this.axisY[0].options.gridThickness>"u"&&(this.axisY[0].gridThickness=0)),this.axisX)for(n=0;n<this.axisX.length;n++)typeof this.axisX[n].options.gridThickness>"u"&&(this.axisX[n].gridThickness=0);if(this.axisX2)for(n=0;n<this.axisX2.length;n++)typeof this.axisX2[n].options.gridThickness>"u"&&(this.axisX2[n].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&typeof this.axisX2[0].options.gridThickness>"u"?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&typeof this.axisX[0].options.gridThickness>"u"&&(this.axisX[0].gridThickness=0)),n=!1,0<this._axes.length&&this.options.zoomEnabled&&(this.zoomEnabled||this.panEnabled)){for(o=0;o<this._axes.length;o++)if(!P(this._axes[o].viewportMinimum)||!P(this._axes[o].viewportMaximum)){n=!0;break}}if(n?(Te(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._zoomButton.style.borderRight=this.toolbar.buttonBorderThickness+"px solid "+this.toolbar.buttonBorderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.buttonBorderThickness:0)+"px solid "+this.toolbar.buttonBorderColor):(Vi(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.buttonBorderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),fe(this),this._processData(),this.options.title&&(this.title=new vn(this,this.options.title),this.title.dockInsidePlotArea?t.push(this.title):this.title.setLayout()),this.options.subtitles)for(o=0;o<this.options.subtitles.length;o++)n=new Jn(this,this.options.subtitles[o],o),this.subtitles.push(n),n.dockInsidePlotArea?t.push(n):n.setLayout();for(this.legend=new dt(this,this.options.legend),o=0;o<this.data.length;o++)(this.data[o].showInLegend||this.data[o].type==="pie"||this.data[o].type==="doughnut"||this.data[o].type==="funnel"||this.data[o].type==="pyramid")&&this.legend.dataSeries.push(this.data[o]);for(this.legend.dockInsidePlotArea?t.push(this.legend):this.legend.setLayout(),o=0;o<this._axes.length;o++)if(this._axes[o].scaleBreaks&&this._axes[o].scaleBreaks._appliedBreaks.length){N?(this._breaksCanvas=ki(this.width,this.height,!0),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=ki(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this.plotInfo.axisPlacement!=="normal"&&this.plotInfo.axisPlacement!=="xySwapped"||Z.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},w.prototype.renderElements=function(){if(this.height&&this.width){var e=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var t=0;t<this.subtitles.length;t++)this.subtitles[t].dockInsidePlotArea||this.subtitles[t].render();if(this.legend.dockInsidePlotArea||this.legend.render(),this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped")Z.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else if(this.plotInfo.axisPlacement==="none")this.preparePlotArea();else return;for(t=0;t<e.length;t++)e[t].setLayout(),e[t].render();var o=[];if(this.animatedRender){var n=ki(this.width,this.height);n.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}xa(this);var e=this.ctx.miterLimit,a;for(this.ctx.miterLimit=3,N&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),t=0;t<this.plotInfo.plotTypes.length;t++)for(var h=this.plotInfo.plotTypes[t],d=0;d<h.plotUnits.length;d++){var _=h.plotUnits[d],b=null;_.targetCanvas&&qn(_.targetCanvas),_.targetCanvas=null,this.animatedRender&&(_.targetCanvas=ki(this.width,this.height),_.targetCanvasCtx=_.targetCanvas.getContext("2d"),a=_.targetCanvasCtx.miterLimit,_.targetCanvasCtx.miterLimit=3),_.type==="line"?b=this.renderLine(_):_.type==="stepLine"?b=this.renderStepLine(_):_.type==="spline"?b=this.renderSpline(_):_.type==="column"?b=this.renderColumn(_):_.type==="bar"?b=this.renderBar(_):_.type==="area"?b=this.renderArea(_):_.type==="stepArea"?b=this.renderStepArea(_):_.type==="splineArea"?b=this.renderSplineArea(_):_.type==="stackedColumn"?b=this.renderStackedColumn(_):_.type==="stackedColumn100"?b=this.renderStackedColumn100(_):_.type==="stackedBar"?b=this.renderStackedBar(_):_.type==="stackedBar100"?b=this.renderStackedBar100(_):_.type==="stackedArea"?b=this.renderStackedArea(_):_.type==="stackedArea100"?b=this.renderStackedArea100(_):_.type==="bubble"?b=b=this.renderBubble(_):_.type==="scatter"?b=this.renderScatter(_):_.type==="pie"?this.renderPie(_):_.type==="doughnut"?this.renderPie(_):_.type==="funnel"?b=this.renderFunnel(_):_.type==="pyramid"?b=this.renderFunnel(_):_.type==="candlestick"?b=this.renderCandlestick(_):_.type==="ohlc"?b=this.renderCandlestick(_):_.type==="rangeColumn"?b=this.renderRangeColumn(_):_.type==="error"?b=this.renderError(_):_.type==="rangeBar"?b=this.renderRangeBar(_):_.type==="rangeArea"?b=this.renderRangeArea(_):_.type==="rangeSplineArea"?b=this.renderRangeSplineArea(_):_.type==="waterfall"?b=this.renderWaterfall(_):_.type==="boxAndWhisker"&&(b=this.renderBoxAndWhisker(_));for(var u=0;u<_.dataSeriesIndexes.length;u++)this._dataInRenderedOrder.push(this.data[_.dataSeriesIndexes[u]]);this.animatedRender&&(_.targetCanvasCtx.miterLimit=a,b&&o.push(b))}this.ctx.miterLimit=e,this.animatedRender&&this._breaksCanvasCtx&&o.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:Tt.fadeInAnimation,easingFunction:Tt.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(a=ki(this.width,this.height).getContext("2d"),f(a),o.push(this.renderIndexLabels(a)));var p=this;if(0<o.length)p.disableToolTip=!0,p._animator.animate(200,p.animationDuration,function(m){p.ctx.clearRect(0,0,p.width,p.height),p.ctx.drawImage(n,0,0,Math.floor(p.width*ui),Math.floor(p.height*ui),0,0,p.width,p.height);for(var g=0;g<o.length;g++)b=o[g],1>m&&typeof b.startTimePercent<"u"?m>=b.startTimePercent&&b.animationCallback(b.easingFunction(m-b.startTimePercent,0,1,1-b.startTimePercent),b):b.animationCallback(b.easingFunction(m,0,1,1),b);p.dispatchEvent("dataAnimationIterationEnd",{chart:p})},function(){o=[];for(var m=0;m<p.plotInfo.plotTypes.length;m++)for(var g=p.plotInfo.plotTypes[m],s=0;s<g.plotUnits.length;s++){var y=g.plotUnits[s];y.targetCanvas&&qn(y.targetCanvas),y.targetCanvas=null}n=null,p.disableToolTip=!1,p.dispatchEvent("dataAnimationEnd",{chart:p})});else{if(p._breaksCanvas)if(N)p.plotArea.ctx.drawImage(p._breaksCanvas,0,0,this.width,this.height);else for(u=0;u<p._axes.length;u++)p._axes[u].createMask();0<p._indexLabels.length&&p.renderIndexLabels(),p.dispatchEvent("dataAnimationIterationEnd",{chart:p}),p.dispatchEvent("dataAnimationEnd",{chart:p})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||this._zoomButton.style.display==="none"||Vi(this._zoomButton,this._resetButton),P(this.toolTip._xValue)||P(this.toolTip._dataSeriesIndex)||this.toolTip.showAtX(this.toolTip._xValue,this.toolTip._dataSeriesIndex),this.toolTip._updateToolTip(),this.renderCount++,ya&&(p=this,setTimeout(function(){var m=document.getElementById("ghostCanvasCopy");m&&(bn(m,p.width,p.height),m.getContext("2d").drawImage(p._eventManager.ghostCanvas,0,0))},2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),u=0;u<this._axes.length;u++)this._axes[u].maskCanvas&&(delete this._axes[u].maskCanvas,delete this._axes[u].maskCtx)}},w.prototype.render=function(t){t&&(this.options=t),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas&&qn(this._preRenderCanvas)},w.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},w.prototype.categoriseDataSeries=function(){for(var t="",o=0;o<this.data.length;o++)if(t=this.data[o],t.dataPoints&&t.dataPoints.length!==0&&t.visible&&0<=w._supportedChartTypes.indexOf(t.type)){for(var n=null,e=!1,a=null,h=!1,d=0;d<this.plotInfo.plotTypes.length;d++)if(this.plotInfo.plotTypes[d].type===t.type){e=!0,n=this.plotInfo.plotTypes[d];break}for(e||(n={type:t.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(n)),d=0;d<n.plotUnits.length;d++)if(n.plotUnits[d].axisYType===t.axisYType&&n.plotUnits[d].axisXType===t.axisXType&&n.plotUnits[d].axisYIndex===t.axisYIndex&&n.plotUnits[d].axisXIndex===t.axisXIndex){h=!0,a=n.plotUnits[d];break}h||(a={type:t.type,previousDataSeriesCount:0,index:n.plotUnits.length,plotType:n,axisXType:t.axisXType,axisYType:t.axisYType,axisYIndex:t.axisYIndex,axisXIndex:t.axisXIndex,axisY:t.axisYType==="primary"?this.axisY[0<=t.axisYIndex&&t.axisYIndex<this.axisY.length?t.axisYIndex:0]:this.axisY2[0<=t.axisYIndex&&t.axisYIndex<this.axisY2.length?t.axisYIndex:0],axisX:t.axisXType==="primary"?this.axisX[0<=t.axisXIndex&&t.axisXIndex<this.axisX.length?t.axisXIndex:0]:this.axisX2[0<=t.axisXIndex&&t.axisXIndex<this.axisX2.length?t.axisXIndex:0],dataSeriesIndexes:[],yTotals:[],yAbsTotals:[]},n.plotUnits.push(a)),n.totalDataSeries++,a.dataSeriesIndexes.push(o),t.plotUnit=a}for(o=0;o<this.plotInfo.plotTypes.length;o++)for(n=this.plotInfo.plotTypes[o],d=t=0;d<n.plotUnits.length;d++)n.plotUnits[d].previousDataSeriesCount=t,t+=n.plotUnits[d].dataSeriesIndexes.length},w.prototype.assignIdToDataPoints=function(){for(var t=0;t<this.data.length;t++){var o=this.data[t];if(o.dataPoints)for(var n=o.dataPoints.length,e=0;e<n;e++)o.dataPointIds[e]=++this._eventManager.lastObjectId}},w.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var t=0;t<this.plotInfo.plotTypes.length;t++)for(var o=this.plotInfo.plotTypes[t],n=0;n<o.plotUnits.length;n++){var e=o.plotUnits[n];e.type==="line"||e.type==="stepLine"||e.type==="spline"||e.type==="column"||e.type==="area"||e.type==="stepArea"||e.type==="splineArea"||e.type==="bar"||e.type==="bubble"||e.type==="scatter"?this._processMultiseriesPlotUnit(e):e.type==="stackedColumn"||e.type==="stackedBar"||e.type==="stackedArea"?this._processStackedPlotUnit(e):e.type==="stackedColumn100"||e.type==="stackedBar100"||e.type==="stackedArea100"?this._processStacked100PlotUnit(e):e.type==="candlestick"||e.type==="ohlc"||e.type==="rangeColumn"||e.type==="rangeBar"||e.type==="rangeArea"||e.type==="rangeSplineArea"||e.type==="error"||e.type==="boxAndWhisker"?this._processMultiYPlotUnit(e):e.type==="waterfall"&&this._processSpecificPlotUnit(e)}this.calculateAutoBreaks()},w.prototype._processMultiseriesPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var o=t.axisY.dataInfo,n=t.axisX.dataInfo,e,a,h=!1,d=0;d<t.dataSeriesIndexes.length;d++){var _=this.data[t.dataSeriesIndexes[d]],b=0,u=!1,p=!1,m;if(_.axisPlacement==="normal"||_.axisPlacement==="xySwapped")var g=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,s=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((_.dataPoints[b].x&&_.dataPoints[b].x.getTime||_.xValueType==="dateTime")&&(h=!0),b=0;b<_.dataPoints.length;b++){if(typeof _.dataPoints[b].x>"u"&&(_.dataPoints[b].x=b+(t.axisX.logarithmic?1:0)),_.dataPoints[b].x.getTime?(h=!0,e=_.dataPoints[b].x.getTime()):e=_.dataPoints[b].x,a=_.dataPoints[b].y,e<n.min&&(n.min=e),e>n.max&&(n.max=e),a<o.min&&typeof a=="number"&&(o.min=a),a>o.max&&typeof a=="number"&&(o.max=a),0<b){if(t.axisX.logarithmic){var y=e/_.dataPoints[b-1].x;1>y&&(y=1/y),n.minDiff>y&&y!==1&&(n.minDiff=y)}else y=e-_.dataPoints[b-1].x,0>y&&(y*=-1),n.minDiff>y&&y!==0&&(n.minDiff=y);a!==null&&_.dataPoints[b-1].y!==null&&(t.axisY.logarithmic?(y=a/_.dataPoints[b-1].y,1>y&&(y=1/y),o.minDiff>y&&y!==1&&(o.minDiff=y)):(y=a-_.dataPoints[b-1].y,0>y&&(y*=-1),o.minDiff>y&&y!==0&&(o.minDiff=y)))}if(e<g&&!u)a!==null&&(m=e);else{if(!u&&(u=!0,0<b)){b-=2;continue}if(e>s&&!p)p=!0;else if(e>s&&p)continue;_.dataPoints[b].label&&(t.axisX.labels[e]=_.dataPoints[b].label),e<n.viewPortMin&&(n.viewPortMin=e),e>n.viewPortMax&&(n.viewPortMax=e),a===null?n.viewPortMin===e&&m<e&&(n.viewPortMin=m):(a<o.viewPortMin&&typeof a=="number"&&(o.viewPortMin=a),a>o.viewPortMax&&typeof a=="number"&&(o.viewPortMax=a))}}_.axisX.valueType=_.xValueType=h?"dateTime":"number"}},w.prototype._processStackedPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var o=t.axisY.dataInfo,n=t.axisX.dataInfo,e,a,h=!1,d=[],_=[],b=1/0,u=-1/0,p={},m=0;m<t.dataSeriesIndexes.length;m++){var g=this.data[t.dataSeriesIndexes[m]],s=0,y=!1,M=!1,T;if(g.axisPlacement==="normal"||g.axisPlacement==="xySwapped")var x=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:-1/0,D=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((g.dataPoints[s].x&&g.dataPoints[s].x.getTime||g.xValueType==="dateTime")&&(h=!0),s=0;s<g.dataPoints.length;s++){if(typeof g.dataPoints[s].x>"u"&&(g.dataPoints[s].x=s+(t.axisX.logarithmic?1:0)),g.dataPoints[s].x.getTime?(h=!0,e=g.dataPoints[s].x.getTime()):e=g.dataPoints[s].x,a=P(g.dataPoints[s].y)?0:g.dataPoints[s].y,e<n.min&&(n.min=e),e>n.max&&(n.max=e),0<s){if(t.axisX.logarithmic){var C=e/g.dataPoints[s-1].x;1>C&&(C=1/C),n.minDiff>C&&C!==1&&(n.minDiff=C)}else C=e-g.dataPoints[s-1].x,0>C&&(C*=-1),n.minDiff>C&&C!==0&&(n.minDiff=C);a!==null&&g.dataPoints[s-1].y!==null&&(t.axisY.logarithmic?0<a&&(C=a/g.dataPoints[s-1].y,1>C&&(C=1/C),o.minDiff>C&&C!==1&&(o.minDiff=C)):(C=a-g.dataPoints[s-1].y,0>C&&(C*=-1),o.minDiff>C&&C!==0&&(o.minDiff=C)))}if(e<x&&!y)g.dataPoints[s].y!==null&&(T=e);else{if(!y&&(y=!0,0<s)){s-=2;continue}if(e>D&&!M)M=!0;else if(e>D&&M)continue;g.dataPoints[s].label&&(t.axisX.labels[e]=g.dataPoints[s].label),e<n.viewPortMin&&(n.viewPortMin=e),e>n.viewPortMax&&(n.viewPortMax=e),g.dataPoints[s].y===null?n.viewPortMin===e&&T<e&&(n.viewPortMin=T):(p[e]=(p[e]||0)+g.dataPoints[s].y,g.dataPointEOs[s].cumulativeY=p[e],t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+a,t.yAbsTotals[e]=(t.yAbsTotals[e]?t.yAbsTotals[e]:0)+Math.abs(a),0<=a?d[e]?d[e]+=a:(d[e]=a,b=Math.min(a,b)):_[e]?_[e]+=a:(_[e]=a,u=Math.max(a,u)))}}t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(o.dataPointYPositiveSums?(o.dataPointYPositiveSums.push.apply(o.dataPointYPositiveSums,d),o.dataPointYNegativeSums.push.apply(o.dataPointYPositiveSums,_)):(o.dataPointYPositiveSums=d,o.dataPointYNegativeSums=_)),g.axisX.valueType=g.xValueType=h?"dateTime":"number"}for(s in d)d.hasOwnProperty(s)&&!isNaN(s)&&(t=d[s],t<o.min&&(o.min=Math.min(t,b)),t>o.max&&(o.max=t),s<n.viewPortMin||s>n.viewPortMax||(t<o.viewPortMin&&(o.viewPortMin=Math.min(t,b)),t>o.viewPortMax&&(o.viewPortMax=t)));for(s in _)_.hasOwnProperty(s)&&!isNaN(s)&&(t=_[s],t<o.min&&(o.min=t),t>o.max&&(o.max=Math.max(t,u)),s<n.viewPortMin||s>n.viewPortMax||(t<o.viewPortMin&&(o.viewPortMin=t),t>o.viewPortMax&&(o.viewPortMax=Math.max(t,u))))}},w.prototype._processStacked100PlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var o=t.axisY.dataInfo,n=t.axisX.dataInfo,e,a,h=!1,d=!1,_=!1,b={},u=[],p=0;p<t.dataSeriesIndexes.length;p++){var m=this.data[t.dataSeriesIndexes[p]],g=0,s=!1,y=!1,M;if(m.axisPlacement==="normal"||m.axisPlacement==="xySwapped")var T=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:-1/0,x=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((m.dataPoints[g].x&&m.dataPoints[g].x.getTime||m.xValueType==="dateTime")&&(h=!0),g=0;g<m.dataPoints.length;g++){if(typeof m.dataPoints[g].x>"u"&&(m.dataPoints[g].x=g+(t.axisX.logarithmic?1:0)),m.dataPoints[g].x.getTime?(h=!0,e=m.dataPoints[g].x.getTime()):e=m.dataPoints[g].x,a=P(m.dataPoints[g].y)?null:m.dataPoints[g].y,e<n.min&&(n.min=e),e>n.max&&(n.max=e),0<g){if(t.axisX.logarithmic){var D=e/m.dataPoints[g-1].x;1>D&&(D=1/D),n.minDiff>D&&D!==1&&(n.minDiff=D)}else D=e-m.dataPoints[g-1].x,0>D&&(D*=-1),n.minDiff>D&&D!==0&&(n.minDiff=D);P(a)||m.dataPoints[g-1].y===null||(t.axisY.logarithmic?0<a&&(D=a/m.dataPoints[g-1].y,1>D&&(D=1/D),o.minDiff>D&&D!==1&&(o.minDiff=D)):(D=a-m.dataPoints[g-1].y,0>D&&(D*=-1),o.minDiff>D&&D!==0&&(o.minDiff=D)))}if(e<T&&!s)a!==null&&(M=e);else{if(!s&&(s=!0,0<g)){g-=2;continue}if(e>x&&!y)y=!0;else if(e>x&&y)continue;m.dataPoints[g].label&&(t.axisX.labels[e]=m.dataPoints[g].label),e<n.viewPortMin&&(n.viewPortMin=e),e>n.viewPortMax&&(n.viewPortMax=e),a===null?n.viewPortMin===e&&M<e&&(n.viewPortMin=M):(b[e]=(b[e]||0)+m.dataPoints[g].y,m.dataPointEOs[g].cumulativeY=b[e],t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+a,t.yAbsTotals[e]=(t.yAbsTotals[e]?t.yAbsTotals[e]:0)+Math.abs(a),0<=a?d=!0:0>a&&(_=!0),u[e]=u[e]?u[e]+Math.abs(a):Math.abs(a))}}m.axisX.valueType=m.xValueType=h?"dateTime":"number"}t.axisY.logarithmic?(o.max=P(o.viewPortMax)?99*Math.pow(t.axisY.logarithmBase,-.05):Math.max(o.viewPortMax,99*Math.pow(t.axisY.logarithmBase,-.05)),o.min=P(o.viewPortMin)?1:Math.min(o.viewPortMin,1)):d&&!_?(o.max=P(o.viewPortMax)?99:Math.max(o.viewPortMax,99),o.min=P(o.viewPortMin)?1:Math.min(o.viewPortMin,1)):d&&_?(o.max=P(o.viewPortMax)?99:Math.max(o.viewPortMax,99),o.min=P(o.viewPortMin)?-99:Math.min(o.viewPortMin,-99)):!d&&_&&(o.max=P(o.viewPortMax)?-1:Math.max(o.viewPortMax,-1),o.min=P(o.viewPortMin)?-99:Math.min(o.viewPortMin,-99)),o.viewPortMin=o.min,o.viewPortMax=o.max,t.dataPointYSums=u}},w.prototype._processMultiYPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var o=t.axisY.dataInfo,n=t.axisX.dataInfo,e,a,h,d,_=!1,b=0;b<t.dataSeriesIndexes.length;b++){var u=this.data[t.dataSeriesIndexes[b]],p=0,m=!1,g=!1,s,y,M;if(u.axisPlacement==="normal"||u.axisPlacement==="xySwapped")var T=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,x=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((u.dataPoints[p].x&&u.dataPoints[p].x.getTime||u.xValueType==="dateTime")&&(_=!0),p=0;p<u.dataPoints.length;p++){if(typeof u.dataPoints[p].x>"u"&&(u.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),u.dataPoints[p].x.getTime?(_=!0,e=u.dataPoints[p].x.getTime()):e=u.dataPoints[p].x,(a=u.dataPoints[p].y)&&a.length){h=Math.min.apply(null,a),d=Math.max.apply(null,a),y=!0;for(var D=0;D<a.length;D++)a.k===null&&(y=!1);y&&(m||(M=s),s=e)}if(e<n.min&&(n.min=e),e>n.max&&(n.max=e),h<o.min&&(o.min=h),d>o.max&&(o.max=d),0<p&&(t.axisX.logarithmic?(y=e/u.dataPoints[p-1].x,1>y&&(y=1/y),n.minDiff>y&&y!==1&&(n.minDiff=y)):(y=e-u.dataPoints[p-1].x,0>y&&(y*=-1),n.minDiff>y&&y!==0&&(n.minDiff=y)),a&&a[0]!==null&&u.dataPoints[p-1].y&&u.dataPoints[p-1].y[0]!==null&&(t.axisY.logarithmic?(y=a[0]/u.dataPoints[p-1].y[0],1>y&&(y=1/y),o.minDiff>y&&y!==1&&(o.minDiff=y)):(y=a[0]-u.dataPoints[p-1].y[0],0>y&&(y*=-1),o.minDiff>y&&y!==0&&(o.minDiff=y)))),!(e<T)||m){if(!m&&(m=!0,0<p)){p-=2,s=M;continue}if(e>x&&!g)g=!0;else if(e>x&&g)continue;if(u.dataPoints[p].label&&(t.axisX.labels[e]=u.dataPoints[p].label),e<n.viewPortMin&&(n.viewPortMin=e),e>n.viewPortMax&&(n.viewPortMax=e),n.viewPortMin===e&&a){for(D=0;D<a.length;D++)if(a[D]===null&&s<e){n.viewPortMin=s;break}}a===null?n.viewPortMin===e&&s<e&&(n.viewPortMin=s):(h<o.viewPortMin&&(o.viewPortMin=h),d>o.viewPortMax&&(o.viewPortMax=d))}}u.axisX.valueType=u.xValueType=_?"dateTime":"number"}},w.prototype._processSpecificPlotUnit=function(t){if(t.type==="waterfall"&&t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var o=t.axisY.dataInfo,n=t.axisX.dataInfo,e,a,h=!1,d=0;d<t.dataSeriesIndexes.length;d++){var _=this.data[t.dataSeriesIndexes[d]],b=0,u=!1,p=!1,m=e=0;if(_.axisPlacement==="normal"||_.axisPlacement==="xySwapped")var g=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:t.axisX.options&&t.axisX.options.viewportMinimum?t.axisX.options.viewportMinimum:t.axisX.options&&t.axisX.options.minimum?t.axisX.options.minimum:t.axisX.logarithmic?0:-1/0,s=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:t.axisX.options&&t.axisX.options.viewportMaximum?t.axisX.options.viewportMaximum:t.axisX.options&&t.axisX.options.maximum?t.axisX.options.maximum:1/0;for((_.dataPoints[b].x&&_.dataPoints[b].x.getTime||_.xValueType==="dateTime")&&(h=!0),b=0;b<_.dataPoints.length;b++)typeof _.dataPoints[b].isCumulativeSum<"u"&&_.dataPoints[b].isCumulativeSum===!0?(_.dataPointEOs[b].cumulativeSumYStartValue=0,_.dataPointEOs[b].cumulativeSum=b===0?0:_.dataPointEOs[b-1].cumulativeSum,_.dataPoints[b].y=b===0?0:_.dataPointEOs[b-1].cumulativeSum):typeof _.dataPoints[b].isIntermediateSum<"u"&&_.dataPoints[b].isIntermediateSum===!0?(_.dataPointEOs[b].cumulativeSumYStartValue=m,_.dataPointEOs[b].cumulativeSum=b===0?0:_.dataPointEOs[b-1].cumulativeSum,_.dataPoints[b].y=b===0?0:e,m=b===0?0:_.dataPointEOs[b-1].cumulativeSum,e=0):(a=typeof _.dataPoints[b].y!="number"?0:_.dataPoints[b].y,_.dataPointEOs[b].cumulativeSumYStartValue=b===0?0:_.dataPointEOs[b-1].cumulativeSum,_.dataPointEOs[b].cumulativeSum=b===0?a:_.dataPointEOs[b-1].cumulativeSum+a,e+=a);for(b=0;b<_.dataPoints.length;b++)if(typeof _.dataPoints[b].x>"u"&&(_.dataPoints[b].x=b+(t.axisX.logarithmic?1:0)),_.dataPoints[b].x.getTime?(h=!0,e=_.dataPoints[b].x.getTime()):e=_.dataPoints[b].x,a=_.dataPoints[b].y,e<n.min&&(n.min=e),e>n.max&&(n.max=e),_.dataPointEOs[b].cumulativeSum<o.min&&(o.min=_.dataPointEOs[b].cumulativeSum),_.dataPointEOs[b].cumulativeSum>o.max&&(o.max=_.dataPointEOs[b].cumulativeSum),0<b&&(t.axisX.logarithmic?(m=e/_.dataPoints[b-1].x,1>m&&(m=1/m),n.minDiff>m&&m!==1&&(n.minDiff=m)):(m=e-_.dataPoints[b-1].x,0>m&&(m*=-1),n.minDiff>m&&m!==0&&(n.minDiff=m)),a!==null&&_.dataPoints[b-1].y!==null&&(t.axisY.logarithmic?(a=_.dataPointEOs[b].cumulativeSum/_.dataPointEOs[b-1].cumulativeSum,1>a&&(a=1/a),o.minDiff>a&&a!==1&&(o.minDiff=a)):(a=_.dataPointEOs[b].cumulativeSum-_.dataPointEOs[b-1].cumulativeSum,0>a&&(a*=-1),o.minDiff>a&&a!==0&&(o.minDiff=a)))),!(e<g)||u){if(!u&&(u=!0,0<b)){b-=2;continue}if(e>s&&!p)p=!0;else if(e>s&&p)continue;_.dataPoints[b].label&&(t.axisX.labels[e]=_.dataPoints[b].label),e<n.viewPortMin&&(n.viewPortMin=e),e>n.viewPortMax&&(n.viewPortMax=e),0<b&&(_.dataPointEOs[b-1].cumulativeSum<o.viewPortMin&&(o.viewPortMin=_.dataPointEOs[b-1].cumulativeSum),_.dataPointEOs[b-1].cumulativeSum>o.viewPortMax&&(o.viewPortMax=_.dataPointEOs[b-1].cumulativeSum)),_.dataPointEOs[b].cumulativeSum<o.viewPortMin&&(o.viewPortMin=_.dataPointEOs[b].cumulativeSum),_.dataPointEOs[b].cumulativeSum>o.viewPortMax&&(o.viewPortMax=_.dataPointEOs[b].cumulativeSum)}_.axisX.valueType=_.xValueType=h?"dateTime":"number"}},w.prototype.calculateAutoBreaks=function(){function t(y,M,T,x){return x?(T=Math.pow(Math.min(T*y/M,M/y),.2),1>=T&&(T=Math.pow(1>y?1/y:Math.min(M/y,y),.25)),{startValue:y*T,endValue:M/T}):(T=.2*Math.min(T-M+y,M-y),0>=T&&(T=.25*Math.min(M-y,Math.abs(y))),{startValue:y+T,endValue:M-T})}function o(y){if(y.dataSeriesIndexes&&!(1>y.dataSeriesIndexes.length)){var M=y.axisX.scaleBreaks&&y.axisX.scaleBreaks.autoCalculate&&1<=y.axisX.scaleBreaks.maxNumberOfAutoBreaks,T=y.axisY.scaleBreaks&&y.axisY.scaleBreaks.autoCalculate&&1<=y.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(M||T)for(var J=y.axisY.dataInfo,O=y.axisX.dataInfo,x,D=O.min,C=O.max,R=J.min,L=J.max,O=O._dataRanges,J=J._dataRanges,it,j=0,G=0;G<y.dataSeriesIndexes.length;G++){var X=a.data[y.dataSeriesIndexes[G]];if(!(4>X.dataPoints.length)){for(j=0;j<X.dataPoints.length;j++)if(M&&(it=(C+1-D)*Math.max(parseFloat(y.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,x=X.dataPoints[j].x.getTime?X.dataPoints[j].x.getTime():X.dataPoints[j].x,it=Math.floor((x-D)/it),x<O[it].min&&(O[it].min=x),x>O[it].max&&(O[it].max=x)),T){var W=(L+1-R)*Math.max(parseFloat(y.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((x=y.type==="waterfall"?X.dataPointEOs[j].cumulativeSum:X.dataPoints[j].y)&&x.length)for(var F=0;F<x.length;F++)it=Math.floor((x[F]-R)/W),x[F]<J[it].min&&(J[it].min=x[F]),x[F]>J[it].max&&(J[it].max=x[F]);else P(x)||(it=Math.floor((x-R)/W),x<J[it].min&&(J[it].min=x),x>J[it].max&&(J[it].max=x))}}}}}function n(y){if(y.dataSeriesIndexes&&!(1>y.dataSeriesIndexes.length)&&y.axisX.scaleBreaks&&y.axisX.scaleBreaks.autoCalculate&&1<=y.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var M=y.axisX.dataInfo,T=M.min,x=M.max,D=M._dataRanges,C,R=0,L=0;L<y.dataSeriesIndexes.length;L++){var O=a.data[y.dataSeriesIndexes[L]];if(!(4>O.dataPoints.length))for(R=0;R<O.dataPoints.length;R++)C=(x+1-T)*Math.max(parseFloat(y.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,M=O.dataPoints[R].x.getTime?O.dataPoints[R].x.getTime():O.dataPoints[R].x,C=Math.floor((M-T)/C),M<D[C].min&&(D[C].min=M),M>D[C].max&&(D[C].max=M)}}for(var e,a=this,h=!1,d=0;d<this._axes.length;d++)if(this._axes[d].scaleBreaks&&this._axes[d].scaleBreaks.autoCalculate&&1<=this._axes[d].scaleBreaks.maxNumberOfAutoBreaks){h=!0,this._axes[d].dataInfo._dataRanges=[];for(var _=0;_<100/Math.max(parseFloat(this._axes[d].scaleBreaks.collapsibleThreshold)||10,10);_++)this._axes[d].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(h){for(d=0;d<this.plotInfo.plotTypes.length;d++)for(h=this.plotInfo.plotTypes[d],_=0;_<h.plotUnits.length;_++)e=h.plotUnits[_],e.type==="line"||e.type==="stepLine"||e.type==="spline"||e.type==="column"||e.type==="area"||e.type==="stepArea"||e.type==="splineArea"||e.type==="bar"||e.type==="bubble"||e.type==="scatter"||e.type==="candlestick"||e.type==="ohlc"||e.type==="rangeColumn"||e.type==="rangeBar"||e.type==="rangeArea"||e.type==="rangeSplineArea"||e.type==="waterfall"||e.type==="error"||e.type==="boxAndWhisker"?o(e):0<=e.type.indexOf("stacked")&&n(e);for(d=0;d<this._axes.length;d++)if(this._axes[d].dataInfo._dataRanges){var b=this._axes[d].dataInfo.min;e=(this._axes[d].dataInfo.max+1-b)*Math.max(parseFloat(this._axes[d].scaleBreaks.collapsibleThreshold)||10,10)/100;var u=this._axes[d].dataInfo._dataRanges,p,m,h=[];if(this._axes[d].dataInfo.dataPointYPositiveSums){var g=this._axes[d].dataInfo.dataPointYPositiveSums;p=u;for(_ in g)if(g.hasOwnProperty(_)&&!isNaN(_)&&(m=g[_],!P(m))){var s=Math.floor((m-b)/e);m<p[s].min&&(p[s].min=m),m>p[s].max&&(p[s].max=m)}delete this._axes[d].dataInfo.dataPointYPositiveSums}if(this._axes[d].dataInfo.dataPointYNegativeSums){g=this._axes[d].dataInfo.dataPointYNegativeSums,p=u;for(_ in g)g.hasOwnProperty(_)&&!isNaN(_)&&(m=-1*g[_],P(m)||(s=Math.floor((m-b)/e),m<p[s].min&&(p[s].min=m),m>p[s].max&&(p[s].max=m)));delete this._axes[d].dataInfo.dataPointYNegativeSums}for(_=0;_<u.length-1;_++)if(p=u[_].max,isFinite(p))for(;_<u.length-1;)if(b=u[_+1].min,isFinite(b)){m=b-p,m>e&&h.push({diff:m,start:p,end:b});break}else _++;if(this._axes[d].scaleBreaks.customBreaks)for(_=0;_<this._axes[d].scaleBreaks.customBreaks.length;_++)for(e=0;e<h.length;e++)(this._axes[d].scaleBreaks.customBreaks[_].startValue<=h[e].start&&h[e].start<=this._axes[d].scaleBreaks.customBreaks[_].endValue||this._axes[d].scaleBreaks.customBreaks[_].startValue<=h[e].start&&h[e].start<=this._axes[d].scaleBreaks.customBreaks[_].endValue||h[e].start<=this._axes[d].scaleBreaks.customBreaks[_].startValue&&this._axes[d].scaleBreaks.customBreaks[_].startValue<=h[e].end||h[e].start<=this._axes[d].scaleBreaks.customBreaks[_].endValue&&this._axes[d].scaleBreaks.customBreaks[_].endValue<=h[e].end)&&(h.splice(e,1),e--);for(h.sort(function(M,T){return T.diff-M.diff}),_=0;_<Math.min(h.length,this._axes[d].scaleBreaks.maxNumberOfAutoBreaks);_++)e=t(h[_].start,h[_].end,this._axes[d].logarithmic?this._axes[d].dataInfo.max/this._axes[d].dataInfo.min:this._axes[d].dataInfo.max-this._axes[d].dataInfo.min,this._axes[d].logarithmic),this._axes[d].scaleBreaks.autoBreaks.push(new ge(this,"autoBreaks",e,_,++this._eventManager.lastObjectId,this._axes[d].scaleBreaks)),this._axes[d].scaleBreaks._appliedBreaks.push(this._axes[d].scaleBreaks.autoBreaks[this._axes[d].scaleBreaks.autoBreaks.length-1]);this._axes[d].scaleBreaks._appliedBreaks.sort(function(M,T){return M.startValue-T.startValue})}}},w.prototype.renderCrosshairs=function(t,o){for(var n=0;n<this.axisX.length;n++)this.axisX[n]!=t&&this.axisX[n].crosshair&&this.axisX[n].crosshair.enabled&&!this.axisX[n].crosshair._hidden&&(o&&this.sessionVariables.mouseX>this.plotArea.x1&&this.sessionVariables.mouseX<this.plotArea.x2&&this.sessionVariables.mouseY>this.plotArea.y1&&this.sessionVariables.mouseY<this.plotArea.y2?this.plotInfo&&this.plotInfo.axisPlacement==="xySwapped"?this.axisX[n].crosshair.render(null,this.sessionVariables.mouseY,this.axisX[n].convertPixelToValue(this.sessionVariables.mouseY)):this.axisX[n].crosshair.render(this.sessionVariables.mouseX,null,this.axisX[n].convertPixelToValue(this.sessionVariables.mouseX)):o||this.axisX[n].showCrosshair(this.axisX[n].crosshair._updatedValue));for(n=0;n<this.axisX2.length;n++)this.axisX2[n]!=t&&this.axisX2[n].crosshair&&this.axisX2[n].crosshair.enabled&&!this.axisX2[n].crosshair._hidden&&(o&&this.sessionVariables.mouseX>this.plotArea.x1&&this.sessionVariables.mouseX<this.plotArea.x2&&this.sessionVariables.mouseY>this.plotArea.y1&&this.sessionVariables.mouseY<this.plotArea.y2?this.plotInfo&&this.plotInfo.axisPlacement==="xySwapped"?this.axisX2[n].crosshair.render(null,this.sessionVariables.mouseY,this.axisX2[n].convertPixelToValue(this.sessionVariables.mouseY)):this.axisX2[n].crosshair.render(this.sessionVariables.mouseX,null,this.axisX2[n].convertPixelToValue(this.sessionVariables.mouseX)):o||this.axisX2[n].showCrosshair(this.axisX2[n].crosshair._updatedValue));for(n=0;n<this.axisY.length;n++)this.axisY[n]!=t&&this.axisY[n].crosshair&&this.axisY[n].crosshair.enabled&&!this.axisY[n].crosshair._hidden&&(o&&this.sessionVariables.mouseX>this.plotArea.x1&&this.sessionVariables.mouseX<this.plotArea.x2&&this.sessionVariables.mouseY>this.plotArea.y1&&this.sessionVariables.mouseY<this.plotArea.y2?this.plotInfo&&this.plotInfo.axisPlacement==="xySwapped"?this.axisY[n].crosshair.render(this.sessionVariables.mouseX,null,this.axisY[n].convertPixelToValue(this.sessionVariables.mouseX)):this.axisY[n].crosshair.render(null,this.sessionVariables.mouseY,this.axisY[n].convertPixelToValue(this.sessionVariables.mouseY)):o||this.axisY[n].showCrosshair(this.axisY[n].crosshair._updatedValue));for(n=0;n<this.axisY2.length;n++)this.axisY2[n]!=t&&this.axisY2[n].crosshair&&this.axisY2[n].crosshair.enabled&&!this.axisY2[n].crosshair._hidden&&(o&&this.sessionVariables.mouseX>this.plotArea.x1&&this.sessionVariables.mouseX<this.plotArea.x2&&this.sessionVariables.mouseY>this.plotArea.y1&&this.sessionVariables.mouseY<this.plotArea.y2?this.plotInfo&&this.plotInfo.axisPlacement==="xySwapped"?this.axisY2[n].crosshair.render(this.sessionVariables.mouseX,null,this.axisY2[n].convertPixelToValue(this.sessionVariables.mouseX)):this.axisY2[n].crosshair.render(null,this.sessionVariables.mouseY,this.axisY2[n].convertPixelToValue(this.sessionVariables.mouseY)):o||this.axisY2[n].showCrosshair(this.axisY2[n].crosshair._updatedValue))},w.prototype.getDataPointAtXY=function(t,o,n){n=n||!1;for(var e=[],a=this._dataInRenderedOrder.length-1;0<=a;a--){var h=null;(h=this._dataInRenderedOrder[a].getDataPointAtXY(t,o,n))&&e.push(h)}for(t=null,o=!1,n=0;n<e.length;n++)if((e[n].dataSeries.type==="line"||e[n].dataSeries.type==="stepLine"||e[n].dataSeries.type==="area"||e[n].dataSeries.type==="stepArea")&&(a=ne("markerSize",e[n].dataPoint,e[n].dataSeries)||8,e[n].distance<=a/2)){o=!0;break}for(n=0;n<e.length;n++)o&&e[n].dataSeries.type!=="line"&&e[n].dataSeries.type!=="stepLine"&&e[n].dataSeries.type!=="area"&&e[n].dataSeries.type!=="stepArea"||(t?e[n].distance<=t.distance&&(t=e[n]):t=e[n]);return t},w.prototype.getObjectAtXY=function(t,o,n){var e=null;if(n=this.getDataPointAtXY(t,o,n||!1))e=n.dataSeries.dataPointIds[n.dataPointIndex];else if(N)e=ci(t,o,this._eventManager.ghostCtx);else for(n=0;n<this.legend.items.length;n++){var a=this.legend.items[n];t>=a.x1&&t<=a.x2&&o>=a.y1&&o<=a.y2&&(e=a.id)}return e},w.prototype.getAutoFontSize=ed,w.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},w.prototype.clearCanvas=wo,w.prototype.attachEvent=function(t){this._events.push(t)},w.prototype._touchEventHandler=function(t){if(t.changedTouches&&this.interactivityEnabled){var o=[],n=t.changedTouches,e=n?n[0]:t,a=null;switch(t.type){case"touchstart":case"MSPointerDown":o=["mousemove","mousedown"],this._lastTouchData=ls(e),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":o=["mousemove"];break;case"touchend":case"MSPointerUp":var h=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0,o=this._lastTouchEventType==="touchstart"||this._lastTouchEventType==="MSPointerDown"||300>h?["mouseup","click"]:["mouseup"];break;default:return}if(!(n&&1<n.length)){a=ls(e),a.time=new Date;try{var d=a.y-this._lastTouchData.y,h=a.time-this._lastTouchData.time;(1<Math.abs(d)&&this._lastTouchData.scroll||5<Math.abs(d)&&250>h)&&(this._lastTouchData.scroll=!0)}catch{}if(this._lastTouchEventType=t.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(n=0;n<o.length;n++)a=o[n],d=document.createEvent("MouseEvent"),d.initMouseEvent(a,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(d),(!P(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<h||a==="click")&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.cancelable&&t.preventDefault())}}},w.prototype._dispatchRangeEvent=function(t,o){var n={chart:this};n.type=t,n.trigger=o;var e=[];this.axisX&&0<this.axisX.length&&e.push("axisX"),this.axisX2&&0<this.axisX2.length&&e.push("axisX2"),this.axisY&&0<this.axisY.length&&e.push("axisY"),this.axisY2&&0<this.axisY2.length&&e.push("axisY2");for(var a=0;a<e.length;a++)if(P(n[e[a]])&&(n[e[a]]=[]),e[a]==="axisY")for(var h=0;h<this.axisY.length;h++)n[e[a]].push({viewportMinimum:this[e[a]][h].sessionVariables.newViewportMinimum,viewportMaximum:this[e[a]][h].sessionVariables.newViewportMaximum});else if(e[a]==="axisY2")for(h=0;h<this.axisY2.length;h++)n[e[a]].push({viewportMinimum:this[e[a]][h].sessionVariables.newViewportMinimum,viewportMaximum:this[e[a]][h].sessionVariables.newViewportMaximum});else if(e[a]==="axisX")for(h=0;h<this.axisX.length;h++)n[e[a]].push({viewportMinimum:this[e[a]][h].sessionVariables.newViewportMinimum,viewportMaximum:this[e[a]][h].sessionVariables.newViewportMaximum});else if(e[a]==="axisX2")for(h=0;h<this.axisX2.length;h++)n[e[a]].push({viewportMinimum:this[e[a]][h].sessionVariables.newViewportMinimum,viewportMaximum:this[e[a]][h].sessionVariables.newViewportMaximum});this.dispatchEvent(t,n,this)},w.prototype._mouseEventHandler=function(t){function o(){w.capturedEventParam&&(a=w.capturedEventParam,d=a.bounds,e==="mouseup"&&(w.capturedEventParam=null,a.chart.overlaidCanvas.releaseCapture?a.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",a.chart._mouseEventHandler,!1)),a.hasOwnProperty(e)&&(e!=="mouseup"||a.chart.overlaidCanvas.releaseCapture?t.target!==a.chart.overlaidCanvas&&N||a[e].call(a.context,n.x,n.y):t.target!==a.chart.overlaidCanvas&&(a.chart.isDrag=!1)))}typeof t.target>"u"&&t.srcElement&&(t.target=t.srcElement);var n=ls(t),e=t.type,a,h;if(t.which?h=t.which==3:t.button&&(h=t.button==2),this._ignoreNextEvent)o(),this._ignoreNextEvent=!1;else if(o(),this.interactivityEnabled){t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault();var d;if(ya&&window.console&&(window.console.log(e+" --> x: "+n.x+"; y:"+n.y),h&&window.console.log(t.which),e==="mouseup"&&window.console.log("mouseup")),!h){if(!w.capturedEventParam&&this._events){for(h=0;h<this._events.length;h++)if(this._events[h].hasOwnProperty(e))if(a=this._events[h],d=a.bounds,n.x>=d.x1&&n.x<=d.x2&&n.y>=d.y1&&n.y<=d.y2){a[e].call(a.context,n.x,n.y),e==="mousedown"&&a.capture===!0?(w.capturedEventParam=a,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):e==="mouseup"&&(a.chart.overlaidCanvas.releaseCapture?a.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}else a=null;t.target.style.cursor=a&&a.cursor?a.cursor:this._defaultCursor}if(h=this.plotArea,n.x<h.x1||n.x>h.x2||n.y<h.y1||n.y>h.y2){for(this.toolTip&&this.toolTip.enabled?(this.toolTip.hide(),this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip)):this.resetOverlayedCanvas(),h=0;h<this.axisX.length;h++)this.axisX[h].crosshair&&this.axisX[h].crosshair.enabled&&(this.axisX[h].crosshair.hide(),this.axisX[h].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[h].options},this.axisX[h].crosshair));for(h=0;h<this.axisX2.length;h++)this.axisX2[h].crosshair&&this.axisX2[h].crosshair.enabled&&(this.axisX2[h].crosshair.hide(),this.axisX2[h].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[h].options},this.axisX2[h].crosshair));for(h=0;h<this.axisY.length;h++)this.axisY[h].crosshair&&this.axisY[h].crosshair.enabled&&(this.axisY[h].crosshair.hide(),this.axisY[h].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[h].options},this.axisY[h].crosshair));for(h=0;h<this.axisY2.length;h++)this.axisY2[h].crosshair&&this.axisY2[h].crosshair.enabled&&(this.axisY2[h].crosshair.hide(),this.axisY2[h].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[h].options},this.axisY2[h].crosshair))}this.sessionVariables.mouseX=n.x,this.sessionVariables.mouseY=n.y,this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(t)}}},w.prototype._plotAreaMouseDown=function(t,o){this.isDrag=!0,this.dragStartPoint={x:t,y:o}},w.prototype._plotAreaMouseUp=function(t,o){if((this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped")&&this.isDrag){var n=o-this.dragStartPoint.y,e=t-this.dragStartPoint.x,_=0<=this.zoomType.indexOf("x"),d=0<=this.zoomType.indexOf("y"),a=!1;if(this.resetOverlayedCanvas(),this.plotInfo.axisPlacement==="xySwapped")var h=d,d=_,_=h;if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(_=d=0;_<this._axes.length;_++)n=this._axes[_],n.logarithmic?n.viewportMinimum<n.minimum?(d=n.minimum/n.viewportMinimum,n.sessionVariables.newViewportMinimum=n.viewportMinimum*d,n.sessionVariables.newViewportMaximum=n.viewportMaximum*d,a=!0):n.viewportMaximum>n.maximum&&(d=n.viewportMaximum/n.maximum,n.sessionVariables.newViewportMinimum=n.viewportMinimum/d,n.sessionVariables.newViewportMaximum=n.viewportMaximum/d,a=!0):n.viewportMinimum<n.minimum?(d=n.minimum-n.viewportMinimum,n.sessionVariables.newViewportMinimum=n.viewportMinimum+d,n.sessionVariables.newViewportMaximum=n.viewportMaximum+d,a=!0):n.viewportMaximum>n.maximum&&(d=n.viewportMaximum-n.maximum,n.sessionVariables.newViewportMinimum=n.viewportMinimum-d,n.sessionVariables.newViewportMaximum=n.viewportMaximum-d,a=!0);else if((!_||2<Math.abs(e))&&(!d||2<Math.abs(n))&&this.zoomEnabled){if(!this.dragStartPoint)return;n=_?this.dragStartPoint.x:this.plotArea.x1,e=d?this.dragStartPoint.y:this.plotArea.y1,_=_?t:this.plotArea.x2,d=d?o:this.plotArea.y2,2<Math.abs(n-_)&&2<Math.abs(e-d)&&this._zoomPanToSelectedRegion(n,e,_,d)&&(a=!0)}a&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.stockChart&&(this.stockChart._rangeEventParameter||(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:this.stockChart.sessionVariables._axisXMin,maximum:this.stockChart.sessionVariables._axisXMax}),this.stockChart._rangeEventParameter.type="rangeChanging",this.stockChart.dispatchEvent("rangeChanging",this.stockChart._rangeEventParameter,this.stockChart)),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),this.stockChart&&(this.stockChart.rangeUpdatedBy="chart",this.stockChart._rangeEventParameter.type="rangeChanged",this.stockChart.dispatchEvent("rangeChanged",this.stockChart._rangeEventParameter,this.stockChart)),a&&this.zoomEnabled&&this._zoomButton.style.display==="none"&&(Te(this._zoomButton,this._resetButton),Ke(this,this._zoomButton,"pan"),Ke(this,this._resetButton,"reset")))}}if(this.isDrag=!1,this.plotInfo.axisPlacement!=="none"){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].renderCrosshair(t,o);if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].renderCrosshair(t,o);if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].renderCrosshair(t,o);if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].renderCrosshair(t,o);if(this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].crosshair.renderLabel()}},w.prototype._plotAreaMouseMove=function(t,o){if(this.isDrag&&this.plotInfo.axisPlacement!=="none"){var n=0,e=0,a=n=null,a=0<=this.zoomType.indexOf("x"),h=0<=this.zoomType.indexOf("y"),d=this;if(this.plotInfo.axisPlacement==="xySwapped"&&(n=h,h=a,a=n),n=this.dragStartPoint.x-t,e=this.dragStartPoint.y-o,2<Math.abs(n)&&8>Math.abs(n)&&(this.panEnabled||this.zoomEnabled)){this.toolTip.hide(),this.toolTip&&this.toolTip.enabled&&this.toolTip.dispatchEvent("hidden",{chart:this,toolTip:this.toolTip},this.toolTip);for(var _=0;_<this.axisX.length;_++)this.axisX[_].crosshair&&this.axisX[_].crosshair.enabled&&(this.axisX[_].crosshair.hide(),this.axisX[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX[_].options},this.axisX[_].crosshair));for(_=0;_<this.axisX2.length;_++)this.axisX2[_].crosshair&&this.axisX2[_].crosshair.enabled&&(this.axisX2[_].crosshair.hide(),this.axisX2[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisX2[_].options},this.axisX2[_].crosshair));for(_=0;_<this.axisY.length;_++)this.axisY[_].crosshair&&this.axisY[_].crosshair.enabled&&(this.axisY[_].crosshair.hide(),this.axisY[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY[_].options},this.axisY[_].crosshair));for(_=0;_<this.axisY2.length;_++)this.axisY2[_].crosshair&&this.axisY2[_].crosshair.enabled&&(this.axisY2[_].crosshair.hide(),this.axisY2[_].crosshair.dispatchEvent("hidden",{chart:this,axis:this.axisY2[_].options},this.axisY2[_].crosshair))}else this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(t,o);if((!a||2<Math.abs(n)||!h||2<Math.abs(e))&&(this.panEnabled||this.zoomEnabled)){if(this.panEnabled)a={x1:a?this.plotArea.x1+n:this.plotArea.x1,y1:h?this.plotArea.y1+e:this.plotArea.y1,x2:a?this.plotArea.x2+n:this.plotArea.x2,y2:h?this.plotArea.y2+e:this.plotArea.y2},clearTimeout(d._panTimerId),d._panTimerId=setTimeout(function(p,m,g,s){return function(){d._zoomPanToSelectedRegion(p,m,g,s,!0)&&(d._dispatchRangeEvent("rangeChanging","pan"),d.stockChart&&(d.stockChart._rangeEventParameter.type="rangeChanging",d.stockChart.dispatchEvent("rangeChanging",d.stockChart._rangeEventParameter,d.stockChart)),d.render(),d._dispatchRangeEvent("rangeChanged","pan"),d.stockChart&&(d.stockChart._rangeEventParameter.type="rangeChanged",d.stockChart.dispatchEvent("rangeChanged",d.stockChart._rangeEventParameter,d.stockChart)),d.dragStartPoint.x=t,d.dragStartPoint.y=o)}}(a.x1,a.y1,a.x2,a.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),n=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var e=a?this.dragStartPoint.x:this.plotArea.x1,_=h?this.dragStartPoint.y:this.plotArea.y1,b=a?t-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,u=h?o-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(e,_,a?t:this.plotArea.x2-this.plotArea.x1,h?o:this.plotArea.y2-this.plotArea.y1,this.zoomType!=="xy").isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(e,_,b,u),this.overlaidCanvasCtx.globalAlpha=n}}}else if(this.toolTip.mouseMoveHandler(t,o),this.plotInfo.axisPlacement!=="none"){if(this.sessionVariables.crosshairShownByPixel=!0,this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].renderCrosshair(t,o);if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].renderCrosshair(t,o);if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].renderCrosshair(t,o);if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].renderCrosshair(t,o);if(this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].crosshair.renderLabel();if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].crosshair.renderLabel();if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].crosshair.renderLabel();if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].crosshair.renderLabel()}},w.prototype._zoomPanToSelectedRegion=function(t,o,n,e,a){if(t=this.validateRegion(t,o,n,e,a),o=t.axesWithValidRange,n=t.axesRanges,t.isValid)for(e=0;e<o.length;e++)a=n[e],o[e].setViewPortRange(a.val1,a.val2),this.syncCharts&&this.zoomType!="y"&&this.syncCharts(a.val1,a.val2),this.stockChart&&(this.stockChart._rangeEventParameter={stockChart:this.stockChart,source:"chart",index:this.stockChart.charts.indexOf(this),minimum:a.val1,maximum:a.val2});return t.isValid},w.prototype.validateRegion=function(t,o,n,e,a){a=a||!1;for(var h=0<=this.zoomType.indexOf("x"),d=0<=this.zoomType.indexOf("y"),_=!1,b=[],u=[],p=[],m=0;m<this._axes.length;m++)(this._axes[m].type==="axisX"&&h||this._axes[m].type==="axisY"&&d)&&u.push(this._axes[m]);for(d=0;d<u.length;d++){var m=u[d],h=!1,y=m.convertPixelToValue({x:t,y:o}),s=m.convertPixelToValue({x:n,y:e});if(y>s)var g=s,s=y,y=g;if(m.scaleBreaks)for(g=0;!h&&g<m.scaleBreaks._appliedBreaks.length;g++)h=m.scaleBreaks._appliedBreaks[g].startValue<=y&&m.scaleBreaks._appliedBreaks[g].endValue>=s;if(isFinite(m.dataInfo.minDiff)){if(g=m.getApparentDifference(y,s,null,!0),!(h||!(this.panEnabled&&m.scaleBreaks&&m.scaleBreaks._appliedBreaks.length)&&(m.logarithmic&&g<Math.pow(m.dataInfo.minDiff,3)||!m.logarithmic&&g<3*Math.abs(m.dataInfo.minDiff))||y<m.minimum||s>m.maximum))b.push(m),p.push({val1:y,val2:s}),_=!0;else if(!a){_=!1;break}}}return{isValid:_,axesWithValidRange:b,axesRanges:p}},w.prototype.preparePlotArea=function(){var t=this.plotArea;if(!N&&(0<t.x1||0<t.y1)&&t.ctx.translate(t.x1,t.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var o=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var n=this.axisY[0];t.x1=o.x1<o.x2?o.x1:n.lineCoordinates.x1,t.y1=o.y1<n.lineCoordinates.y1?o.y1:n.lineCoordinates.y1,t.x2=o.x2>n.lineCoordinates.x2?o.x2:n.lineCoordinates.x2,t.y2=o.y1>n.lineCoordinates.y2?o.y1:n.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(n=this.axisY2[0],t.x1=o.x1<o.x2?o.x1:n.lineCoordinates.x1,t.y1=o.y1<n.lineCoordinates.y1?o.y1:n.lineCoordinates.y1,t.x2=o.x2>n.lineCoordinates.x2?o.x2:n.lineCoordinates.x2,t.y2=o.y2>n.lineCoordinates.y2?o.y2:n.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1)}else o=this.layoutManager.getFreeSpace(),t.x1=o.x1,t.x2=o.x2,t.y1=o.y1,t.y2=o.y2,t.width=o.width,t.height=o.height;N||(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.style.left=t.x1+"px",t.canvas.style.top=t.y1+"px",(0<t.x1||0<t.y1)&&t.ctx.translate(-t.x1,-t.y1)),t.layoutManager=new Kn(t.x1,t.y1,t.x2,t.y2,2)},w.prototype.renderIndexLabels=function(t){var o=t||this.plotArea.ctx,n=this.plotArea,e=0,a=0,h=0,d=a=h=0,_=0,b=e=0,u=0;for(t=0;t<this._indexLabels.length;t++){var p=this._indexLabels[t],m=p.chartType.toLowerCase(),g,s,_=ne("indexLabelFontColor",p.dataPoint,p.dataSeries),y=ne("indexLabelFontSize",p.dataPoint,p.dataSeries),b=ne("indexLabelFontFamily",p.dataPoint,p.dataSeries),u=ne("indexLabelFontStyle",p.dataPoint,p.dataSeries);g=ne("indexLabelFontWeight",p.dataPoint,p.dataSeries);var M=ne("indexLabelBackgroundColor",p.dataPoint,p.dataSeries);s=ne("indexLabelBorderColor",p.dataPoint,p.dataSeries);var h=ne("indexLabelBorderThickness",p.dataPoint,p.dataSeries),a=ne("indexLabelMaxWidth",p.dataPoint,p.dataSeries),d=ne("indexLabelWrap",p.dataPoint,p.dataSeries),T=ne("indexLabelLineDashType",p.dataPoint,p.dataSeries),x=ne("indexLabelLineColor",p.dataPoint,p.dataSeries),D=P(p.dataPoint.indexLabelLineThickness)?P(p.dataSeries.options.indexLabelLineThickness)?0:p.dataSeries.options.indexLabelLineThickness:p.dataPoint.indexLabelLineThickness,e=0<D?Math.min(10,(this.plotInfo.axisPlacement==="normal"?this.plotArea.height:this.plotArea.width)<<0):0,C={percent:null,total:null},R=null;(0<=p.dataSeries.type.indexOf("stacked")||p.dataSeries.type==="pie"||p.dataSeries.type==="doughnut")&&(C=this.getPercentAndTotal(p.dataSeries,p.dataPoint)),(p.dataSeries.indexLabelFormatter||p.dataPoint.indexLabelFormatter)&&(R={chart:this,dataSeries:p.dataSeries,dataPoint:p.dataPoint,index:p.indexKeyword,total:C.total,percent:C.percent});var L=p.dataPoint.indexLabelFormatter?p.dataPoint.indexLabelFormatter(R):p.dataPoint.indexLabel?this.replaceKeywordsWithValue(p.dataPoint.indexLabel,p.dataPoint,p.dataSeries,null,p.indexKeyword):p.dataSeries.indexLabelFormatter?p.dataSeries.indexLabelFormatter(R):p.dataSeries.indexLabel?this.replaceKeywordsWithValue(p.dataSeries.indexLabel,p.dataPoint,p.dataSeries,null,p.indexKeyword):null;if(L!==null&&L!==""){var C=ne("indexLabelPlacement",p.dataPoint,p.dataSeries),R=ne("indexLabelOrientation",p.dataPoint,p.dataSeries),O=ne("indexLabelTextAlign",p.dataPoint,p.dataSeries),J=p.direction,it=p.dataSeries.axisX,j=p.dataSeries.axisY,G=!1,M=new te(o,{x:0,y:0,maxWidth:a||.5*this.width,maxHeight:d?5*y:1.5*y,angle:R==="horizontal"?0:-90,text:L,padding:0,backgroundColor:M,borderColor:s,borderThickness:h,textAlign:O,fontSize:y,fontFamily:b,fontWeight:g,fontColor:_,fontStyle:u,textBaseline:"middle"});if(M.measureText(),p.dataSeries.indexLabelMaxWidth=M.maxWidth,m==="stackedarea100"){if(p.point.x<n.x1||p.point.x>n.x2||p.point.y<n.y1-1||p.point.y>n.y2+1)continue}else if(m==="rangearea"||m==="rangesplinearea"){if(p.dataPoint.x<it.viewportMinimum||p.dataPoint.x>it.viewportMaximum||Math.max.apply(null,p.dataPoint.y)<j.viewportMinimum||Math.min.apply(null,p.dataPoint.y)>j.viewportMaximum)continue}else if(0<=m.indexOf("line")||0<=m.indexOf("area")||0<=m.indexOf("bubble")||0<=m.indexOf("scatter")){if(p.dataPoint.x<it.viewportMinimum||p.dataPoint.x>it.viewportMaximum||p.dataPoint.y<j.viewportMinimum||p.dataPoint.y>j.viewportMaximum)continue}else if(0<=m.indexOf("column")){if(p.dataPoint.x<it.viewportMinimum||p.dataPoint.x>it.viewportMaximum||(0<p.dataPoint.y.length?Math.max.apply(null,p.dataPoint.y):p.dataPoint.y)<j.viewportMinimum||(0<p.dataPoint.y.length?Math.max.apply(null,p.dataPoint.y):p.dataPoint.y)>j.viewportMaximum)continue}else if(m==="waterfall"||m==="error"&&!p.axisSwapped){if(p.dataPoint.x<it.viewportMinimum||p.dataPoint.x>it.viewportMaximum||p.bounds.y1>n.y2||p.bounds.y2<n.y1)continue}else if(0<=m.indexOf("bar")||m==="error"){if(p.dataPoint.x<it.viewportMinimum||p.dataPoint.x>it.viewportMaximum||p.bounds.x1>n.x2||p.bounds.x2<n.x1)continue}else if(m==="candlestick"||m==="ohlc"){if(p.dataPoint.x<it.viewportMinimum||p.dataPoint.x>it.viewportMaximum||Math.max.apply(null,p.dataPoint.y)<j.viewportMinimum||Math.min.apply(null,p.dataPoint.y)>j.viewportMaximum)continue}else if(p.dataPoint.x<it.viewportMinimum||p.dataPoint.x>it.viewportMaximum)continue;d=_=2,R==="horizontal"?(b=M.width,u=M.height):(u=M.width,b=M.height),this.plotInfo.axisPlacement==="normal"?(0<=m.indexOf("line")||0<=m.indexOf("area")?(C="auto",_=4):0<=m.indexOf("stacked")?C==="auto"&&(C="inside"):(m==="bubble"||m==="scatter")&&(C="inside"),g=p.point.x-b/2+(R==="horizontal"?0:M._lineHeight/2),C!=="inside"?(a=n.y1,h=n.y2,0<J?(s=p.point.y+M._lineHeight/2-u-_-e,s<a&&(s=C==="auto"?Math.max(p.point.y,a)+M._lineHeight/2+_+e:a+M._lineHeight/2+_+e,G=s+(R==="horizontal"?u-M._lineHeight/2:0)>p.point.y,!G||0<=m.indexOf("line")||0<=m.indexOf("area")||(s-=e))):(s=p.point.y+M._lineHeight/2+_+e,s>h-u+M._lineHeight/2-_&&(s=C==="auto"?Math.min(p.point.y,h)+M._lineHeight/2-u-_-e:h+M._lineHeight/2-u-_-e,G=s-(R==="horizontal"?M._lineHeight/2:u)<p.point.y,!G||0<=m.indexOf("line")||0<=m.indexOf("area")||(s+=e)))):(Math.max(p.bounds.y1,n.y1),h=Math.min(p.bounds.y2,n.y2)-u+M._lineHeight/2,e=0<=m.indexOf("range")||m==="error"?0<J?Math.max(p.bounds.y1,n.y1)+M._lineHeight/2+_:Math.min(p.bounds.y2,n.y2)+M._lineHeight/2-u-_:(Math.max(p.bounds.y1,n.y1)+Math.min(p.bounds.y2,n.y2))/2-u/2+M._lineHeight/2,0<J?(s=e,(m==="bubble"||m==="scatter")&&(s=p.point.y-u/2+M._lineHeight/2,u>p.bounds.y2-p.bounds.y1&&(s-=u/2+_),0>s-M._lineHeight/2&&(s+=Math.abs(s-M._lineHeight/2)<=(p.bounds.y2-p.bounds.y1)/2+_?Math.abs(s-M._lineHeight/2):(p.bounds.y2-p.bounds.y1)/2+_))):(s=Math.min(p.point.y,e),s>h-u-_&&(m==="bubble"||m==="scatter")&&(s=Math.min(p.point.y+_,n.y2-u-_))),s=Math.min(s,h))):(0<=m.indexOf("line")||0<=m.indexOf("area")||0<=m.indexOf("scatter")?(C="auto",d=4):0<=m.indexOf("stacked")?C==="auto"&&(C="inside"):m==="bubble"&&(C="inside"),s=p.point.y+M._lineHeight/2-u/2,C!=="inside"?(h=n.x1,a=n.x2,0>J?(g=p.point.x-b+(R==="horizontal"?0:M._lineHeight/2)-d-e,(R==="horizontal"?g:g-M._lineHeight/2)<h&&(g=C==="auto"?Math.max(p.point.x,h)+(R==="horizontal"?0:M._lineHeight/2)+_+e:h+(R==="horizontal"?0:M._lineHeight/2)+d,(G=g+b-(R==="horizontal"?0:M._lineHeight/2)>p.point.x)&&(g-=e))):(g=p.point.x+(R==="horizontal"?0:M._lineHeight/2)+d+e,(R==="horizontal"?g:g-M._lineHeight/2)>a-b-d-e&&(g=C==="auto"?Math.min(p.point.x,a)-(R==="horizontal"?b:b-M._lineHeight/2)-d-e:a-b-d+(R==="horizontal"?0:M._lineHeight/2),(G=g-(R==="horizontal"?0:M._lineHeight/2)<p.point.x)&&(g+=e)))):(h=Math.max(p.bounds.x1,n.x1),Math.min(p.bounds.x2,n.x2),e=0<=m.indexOf("range")||m==="error"?0>J?Math.max(p.bounds.x1,n.x1):Math.min(p.bounds.x2,n.x2)-b-d+(R==="horizontal"?0:M._lineHeight/2):(Math.max(p.bounds.x1,n.x1)+Math.min(p.bounds.x2,n.x2))/2-b/2+(R==="horizontal"?0:M._lineHeight/2),g=0>J?e:Math.min(p.point.x,e),g=Math.max(g,h+(R==="horizontal"?0:M._lineHeight/2+_)))),R==="vertical"&&(s+=u-M._lineHeight/2,0<="ohlc candlestick boxandwhisker column rangecolumn stackedcolumn stackedcolumn100 error".split(" ").indexOf(m)&&(G=0<J?s+(R==="horizontal"?u-M._lineHeight/2:0)>p.point.y:s-(R==="horizontal"?M._lineHeight/2:u)<p.point.y),m==="bubble"||m==="scatter")&&(g+=M._lineHeight/2-y/2),M.x=g,M.y=s,M.render(!0),D&&C!=="inside"&&(0>m.indexOf("bar")&&(m!=="error"||!p.axisSwapped)&&p.point.x>n.x1&&p.point.x<n.x2||!G)&&("ohlc candlestick boxandwhisker column rangecolumn stackedcolumn stackedcolumn100 error".split(" ").indexOf(m)===-1&&(m!=="error"||p.axisSwapped)&&p.point.y>n.y1&&p.point.y<n.y2||!G)&&(o.lineWidth=D,o.strokeStyle=x||"gray",o.setLineDash&&o.setLineDash(wt(T,D)),o.beginPath(),o.moveTo(p.point.x,p.point.y),0<=m.indexOf("bar")||m==="error"&&p.axisSwapped?o.lineTo(g+(0<p.direction?0:b)+(R==="vertical"?-M._lineHeight/2:0),s+(R==="vertical"?-u/2:u/2-M._lineHeight/2)):0<=m.indexOf("column")||m==="error"&&!p.axisSwapped?o.lineTo(g+b/2-(R==="horizontal"?0:M._lineHeight/2),s+(R==="vertical"?s-u<p.point.y?0:-u:(s-M._lineHeight/2<p.point.y?u:0)-M._lineHeight/2)):0<=m.indexOf("waterfall")?o.lineTo(g+b/2-(R==="horizontal"?0:M._lineHeight/2),R==="vertical"?0<J&&s<p.point.y?s:0>J&&s-u>p.point.y?s-u:p.point.y:0<J&&s+u-M._lineHeight/2<p.point.y?s+u-M._lineHeight/2:0>J&&s-M._lineHeight/2>p.point.y?s-M._lineHeight/2:p.point.y):o.lineTo(g+b/2-(R==="horizontal"?0:M._lineHeight/2),s+(R==="vertical"?s-u<p.point.y?0:-u:(s+u-M._lineHeight/2<p.point.y?u:0)-M._lineHeight/2)),o.stroke())}}for(o={source:o,dest:this.plotArea.ctx,animationCallback:Tt.fadeInAnimation,easingFunction:Tt.easing.easeInQuad,animationBase:0,startTimePercent:.7},t=0;t<this._indexLabels.length;t++)p=this._indexLabels[t],M=ne("indexLabelBackgroundColor",p.dataPoint,p.dataSeries),p.dataSeries.indexLabelBackgroundColor=P(M)?N?"transparent":null:M;return o},w.prototype.renderLine=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,n=N?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=this._eventManager.ghostCtx;n.save();var a=this.plotArea;n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip();for(var h=[],d,_=0;_<t.dataSeriesIndexes.length;_++){var b=t.dataSeriesIndexes[_],u=this.data[b];n.lineWidth=u.lineThickness;var p=u.dataPoints,m="solid";if(n.setLineDash){var g=wt(u.nullDataLineDashType,u.lineThickness),m=u.lineDashType,s=wt(m,u.lineThickness);n.setLineDash(s)}var y=u.id;this._eventManager.objectMap[y]={objectType:"dataSeries",dataSeriesIndex:b},y=z(y),e.strokeStyle=y,e.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;var y=u._colorSet,M=y=u.lineColor=u.options.lineColor?u.options.lineColor:y[0];n.strokeStyle=y;var T=!0,x=0,D,C;if(n.beginPath(),0<p.length){for(var R=!1,x=0;x<p.length;x++)if(D=p[x].x.getTime?p[x].x.getTime():p[x].x,!(D<t.axisX.dataInfo.viewPortMin||D>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!R)))if(typeof p[x].y!="number")0<x&&!(u.connectNullData||R||T)&&(n.stroke(),N&&e.stroke()),R=!0;else{D=t.axisX.convertValueToPixel(D),C=t.axisY.convertValueToPixel(p[x].y);var L=u.dataPointIds[x];if(this._eventManager.objectMap[L]={id:L,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:x,x1:D,y1:C},T||R?(!T&&u.connectNullData?(n.setLineDash&&(u.options.nullDataLineDashType||m===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(n.stroke(),n.beginPath(),n.moveTo(d.x,d.y),m=u.nullDataLineDashType,n.setLineDash(g)),n.lineTo(D,C),N&&e.lineTo(D,C)):(n.beginPath(),n.moveTo(D,C),N&&(e.beginPath(),e.moveTo(D,C))),R=T=!1):(n.lineTo(D,C),N&&e.lineTo(D,C),x%500==0&&(n.stroke(),n.beginPath(),n.moveTo(D,C),N&&(e.stroke(),e.beginPath(),e.moveTo(D,C)))),d={x:D,y:C},x<p.length-1&&(M!==(p[x].lineColor||y)||m!==(p[x].lineDashType||u.lineDashType))&&(n.stroke(),n.beginPath(),n.moveTo(D,C),M=p[x].lineColor||y,n.strokeStyle=M,n.setLineDash&&(p[x].lineDashType?(m=p[x].lineDashType,n.setLineDash(wt(m,u.lineThickness))):(m=u.lineDashType,n.setLineDash(s)))),p[x].markerSize!==0&&(0<p[x].markerSize||0<u.markerSize)){var O=u.getMarkerProperties(x,D,C,n);h.push(O),L=z(L),N&&h.push({x:D,y:C,ctx:e,type:O.type,size:O.size,color:L,borderColor:L,borderThickness:O.borderThickness})}(p[x].indexLabel||u.indexLabel||p[x].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:p[x],dataSeries:u,point:{x:D,y:C},direction:0>p[x].y===t.axisY.reversed?1:-1,color:y})}n.stroke(),N&&e.stroke()}}return Se.drawMarkers(h),N&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),e.beginPath()),n.restore(),n.beginPath(),{source:o,dest:this.plotArea.ctx,animationCallback:Tt.xClipAnimation,easingFunction:Tt.easing.linear,animationBase:0}}},w.prototype.renderStepLine=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,n=N?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=this._eventManager.ghostCtx;n.save();var a=this.plotArea;n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip();for(var h=[],d,_=0;_<t.dataSeriesIndexes.length;_++){var b=t.dataSeriesIndexes[_],u=this.data[b];n.lineWidth=u.lineThickness;var p=u.dataPoints,m="solid";if(n.setLineDash){var g=wt(u.nullDataLineDashType,u.lineThickness),m=u.lineDashType,s=wt(m,u.lineThickness);n.setLineDash(s)}var y=u.id;this._eventManager.objectMap[y]={objectType:"dataSeries",dataSeriesIndex:b},y=z(y),e.strokeStyle=y,e.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;var y=u._colorSet,M=y=u.lineColor=u.options.lineColor?u.options.lineColor:y[0];n.strokeStyle=y;var T=!0,x=0,D,C;if(n.beginPath(),0<p.length){for(var R=!1,x=0;x<p.length;x++)if(D=p[x].getTime?p[x].x.getTime():p[x].x,!(D<t.axisX.dataInfo.viewPortMin||D>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!R)))if(typeof p[x].y!="number")0<x&&!(u.connectNullData||R||T)&&(n.stroke(),N&&e.stroke()),R=!0;else{var L=C;D=t.axisX.convertValueToPixel(D),C=t.axisY.convertValueToPixel(p[x].y);var O=u.dataPointIds[x];this._eventManager.objectMap[O]={id:O,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:x,x1:D,y1:C},T||R?(!T&&u.connectNullData?(n.setLineDash&&(u.options.nullDataLineDashType||m===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(n.stroke(),n.beginPath(),n.moveTo(d.x,d.y),m=u.nullDataLineDashType,n.setLineDash(g)),n.lineTo(D,L),n.lineTo(D,C),N&&(e.lineTo(D,L),e.lineTo(D,C))):(n.beginPath(),n.moveTo(D,C),N&&(e.beginPath(),e.moveTo(D,C))),R=T=!1):(n.lineTo(D,L),N&&e.lineTo(D,L),n.lineTo(D,C),N&&e.lineTo(D,C),x%500==0&&(n.stroke(),n.beginPath(),n.moveTo(D,C),N&&(e.stroke(),e.beginPath(),e.moveTo(D,C)))),d={x:D,y:C},x<p.length-1&&(M!==(p[x].lineColor||y)||m!==(p[x].lineDashType||u.lineDashType))&&(n.stroke(),n.beginPath(),n.moveTo(D,C),M=p[x].lineColor||y,n.strokeStyle=M,n.setLineDash&&(p[x].lineDashType?(m=p[x].lineDashType,n.setLineDash(wt(m,u.lineThickness))):(m=u.lineDashType,n.setLineDash(s)))),p[x].markerSize!==0&&(0<p[x].markerSize||0<u.markerSize)&&(L=u.getMarkerProperties(x,D,C,n),h.push(L),O=z(O),N&&h.push({x:D,y:C,ctx:e,type:L.type,size:L.size,color:O,borderColor:O,borderThickness:L.borderThickness})),(p[x].indexLabel||u.indexLabel||p[x].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:p[x],dataSeries:u,point:{x:D,y:C},direction:0>p[x].y===t.axisY.reversed?1:-1,color:y})}n.stroke(),N&&e.stroke()}}return Se.drawMarkers(h),N&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),e.beginPath()),n.restore(),n.beginPath(),{source:o,dest:this.plotArea.ctx,animationCallback:Tt.xClipAnimation,easingFunction:Tt.easing.linear,animationBase:0}}},w.prototype.renderSpline=function(t){function o(O){if(O=E(O,2),0<O.length){e.beginPath(),N&&a.beginPath(),e.moveTo(O[0].x,O[0].y),O[0].newStrokeStyle&&(e.strokeStyle=O[0].newStrokeStyle),O[0].newLineDashArray&&e.setLineDash(O[0].newLineDashArray),N&&a.moveTo(O[0].x,O[0].y);for(var J=0;J<O.length-3;J+=3)e.bezierCurveTo(O[J+1].x,O[J+1].y,O[J+2].x,O[J+2].y,O[J+3].x,O[J+3].y),N&&a.bezierCurveTo(O[J+1].x,O[J+1].y,O[J+2].x,O[J+2].y,O[J+3].x,O[J+3].y),(0<J&&J%3e3===0||O[J+3].newStrokeStyle||O[J+3].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(O[J+3].x,O[J+3].y),O[J+3].newStrokeStyle&&(e.strokeStyle=O[J+3].newStrokeStyle),O[J+3].newLineDashArray&&e.setLineDash(O[J+3].newLineDashArray),N&&(a.stroke(),a.beginPath(),a.moveTo(O[J+3].x,O[J+3].y)));e.stroke(),N&&a.stroke()}}var n=t.targetCanvasCtx||this.plotArea.ctx,e=N?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx;e.save();var h=this.plotArea;e.beginPath(),e.rect(h.x1,h.y1,h.width,h.height),e.clip();for(var d=[],_=0;_<t.dataSeriesIndexes.length;_++){var b=t.dataSeriesIndexes[_],u=this.data[b];e.lineWidth=u.lineThickness;var p=u.dataPoints,m="solid";if(e.setLineDash){var g=wt(u.nullDataLineDashType,u.lineThickness),m=u.lineDashType,s=wt(m,u.lineThickness);e.setLineDash(s)}var y=u.id;this._eventManager.objectMap[y]={objectType:"dataSeries",dataSeriesIndex:b},y=z(y),a.strokeStyle=y,a.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;var y=u._colorSet,M=y=u.lineColor=u.options.lineColor?u.options.lineColor:y[0];e.strokeStyle=y;var T=0,x,D,C=[];if(e.beginPath(),0<p.length){for(D=!1,T=0;T<p.length;T++)if(x=p[T].getTime?p[T].x.getTime():p[T].x,!(x<t.axisX.dataInfo.viewPortMin||x>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!D)))if(typeof p[T].y!="number")0<T&&!D&&(u.connectNullData?e.setLineDash&&0<C.length&&(u.options.nullDataLineDashType||!p[T-1].lineDashType)&&(C[C.length-1].newLineDashArray=g,m=u.nullDataLineDashType):(o(C),C=[])),D=!0;else{x=t.axisX.convertValueToPixel(x),D=t.axisY.convertValueToPixel(p[T].y);var R=u.dataPointIds[T];if(this._eventManager.objectMap[R]={id:R,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:T,x1:x,y1:D},C[C.length]={x,y:D},T<p.length-1&&(M!==(p[T].lineColor||y)||m!==(p[T].lineDashType||u.lineDashType))&&(M=p[T].lineColor||y,C[C.length-1].newStrokeStyle=M,e.setLineDash&&(p[T].lineDashType?(m=p[T].lineDashType,C[C.length-1].newLineDashArray=wt(m,u.lineThickness)):(m=u.lineDashType,C[C.length-1].newLineDashArray=s))),p[T].markerSize!==0&&(0<p[T].markerSize||0<u.markerSize)){var L=u.getMarkerProperties(T,x,D,e);d.push(L),R=z(R),N&&d.push({x,y:D,ctx:a,type:L.type,size:L.size,color:R,borderColor:R,borderThickness:L.borderThickness})}(p[T].indexLabel||u.indexLabel||p[T].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:p[T],dataSeries:u,point:{x,y:D},direction:0>p[T].y===t.axisY.reversed?1:-1,color:y}),D=!1}}o(C)}return Se.drawMarkers(d),N&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(h.x1,h.y1,h.width,h.height),a.beginPath()),e.restore(),e.beginPath(),{source:n,dest:this.plotArea.ctx,animationCallback:Tt.xClipAnimation,easingFunction:Tt.easing.linear,animationBase:0}}},w.prototype.renderColumn=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,n=N?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=null,a=this.plotArea,u=0,h,d,_,b=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,.9*(this.plotArea.width/t.plotType.totalDataSeries))<<0,m=t.axisX.dataInfo.minDiff;for(isFinite(m)||(m=.3*Math.abs(t.axisX.range)),m=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:.9*(a.width*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&u>p&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<u&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),m<u&&(m=u),m>p&&(m=p),n.save(),N&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),N&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),p=0;p<t.dataSeriesIndexes.length;p++){var g=t.dataSeriesIndexes[p],s=this.data[g],y=s.dataPoints;if(0<y.length){for(var M=!!(5<m&&s.bevelEnabled),u=0;u<y.length;u++)if(y[u].getTime?_=y[u].x.getTime():_=y[u].x,!(_<t.axisX.dataInfo.viewPortMin||_>t.axisX.dataInfo.viewPortMax)&&typeof y[u].y=="number"){h=t.axisX.convertValueToPixel(_),d=t.axisY.convertValueToPixel(y[u].y),h=t.axisX.reversed?h+t.plotType.totalDataSeries*m/2-(t.previousDataSeriesCount+p)*m<<0:h-t.plotType.totalDataSeries*m/2+(t.previousDataSeriesCount+p)*m<<0;var T=t.axisX.reversed?h-m<<0:h+m<<0,x;0<=y[u].y?x=b:(x=d,d=b),d>x&&(e=d,d=x,x=e),e=y[u].color?y[u].color:s._colorSet[u%s._colorSet.length],We(n,t.axisX.reversed?T:h,d,t.axisX.reversed?h:T,x,e,0,null,M&&(t.axisY.reversed?0>y[u].y:0<=y[u].y),(t.axisY.reversed?0<=y[u].y:0>y[u].y)&&M,!1,!1,s.fillOpacity),e=s.dataPointIds[u],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:u,x1:h,y1:d,x2:T,y2:x},e=z(e),N&&We(this._eventManager.ghostCtx,t.axisX.reversed?T:h,d,t.axisX.reversed?h:T,x,e,0,null,!1,!1,!1,!1),(y[u].indexLabel||s.indexLabel||y[u].indexLabelFormatter||s.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:y[u],dataSeries:s,point:{x:h+(T-h)/2,y:0>y[u].y===t.axisY.reversed?d:x},direction:0>y[u].y===t.axisY.reversed?1:-1,bounds:{x1:h,y1:Math.min(d,x),x2:T,y2:Math.max(d,x)},color:e})}}}return N&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Tt.yScaleAnimation,easingFunction:Tt.easing.easeOutQuart,animationBase:b<t.axisY.bounds.y1?t.axisY.bounds.y1:b>t.axisY.bounds.y2?t.axisY.bounds.y2:b}}},w.prototype.renderStackedColumn=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,n=N?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=null,a=this.plotArea,h=[],d=[],_=[],b=[],g=0,u,p,m=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),g=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0,y=t.axisX.dataInfo.minDiff;for(isFinite(y)||(y=.3*Math.abs(t.axisX.range)),y=this.options.dataPointWidth?this.dataPointWidth:.9*(a.width*(t.axisX.logarithmic?Math.log(y)/Math.log(t.axisX.range):Math.abs(y)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&g>s&&(g=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<g&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,g)),y<g&&(y=g),y>s&&(y=s),n.save(),N&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),N&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),s=0;s<t.dataSeriesIndexes.length;s++){var M=t.dataSeriesIndexes[s],T=this.data[M],x=T.dataPoints;if(0<x.length){var D=!!(5<y&&T.bevelEnabled);for(n.strokeStyle="#4572A7 ",g=0;g<x.length;g++)if(e=x[g].x.getTime?x[g].x.getTime():x[g].x,!(e<t.axisX.dataInfo.viewPortMin||e>t.axisX.dataInfo.viewPortMax)&&typeof x[g].y=="number"){u=t.axisX.convertValueToPixel(e),u=u-t.plotType.plotUnits.length*y/2+t.index*y<<0;var C=u+y<<0,R;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<x[g].y)_[e]=x[g].y+(_[e]?_[e]:0),0<_[e]&&(p=t.axisY.convertValueToPixel(_[e]),R=typeof h[e]<"u"?h[e]:m,h[e]=p);else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=x[g].y)b[e]=x[g].y+(b[e]?b[e]:0),R=t.axisY.convertValueToPixel(b[e]),p=typeof d[e]<"u"?d[e]:m,d[e]=R;else if(p=t.axisY.convertValueToPixel(x[g].y),0<=x[g].y){var L=typeof h[e]<"u"?h[e]:0;p-=L,R=m-L,h[e]=L+(R-p)}else L=d[e]?d[e]:0,R=p+L,p=m+L,d[e]=L+(R-p);e=x[g].color?x[g].color:T._colorSet[g%T._colorSet.length],We(n,u,t.axisY.reversed?R:p,C,t.axisY.reversed?p:R,e,0,null,D&&(t.axisY.reversed?0>x[g].y:0<=x[g].y),(t.axisY.reversed?0<=x[g].y:0>x[g].y)&&D,!1,!1,T.fillOpacity),e=T.dataPointIds[g],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:M,dataPointIndex:g,x1:u,y1:p,x2:C,y2:R},e=z(e),N&&We(this._eventManager.ghostCtx,u,p,C,R,e,0,null,!1,!1,!1,!1),(x[g].indexLabel||T.indexLabel||x[g].indexLabelFormatter||T.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:x[g],dataSeries:T,point:{x:u+(C-u)/2,y:0<=x[g].y?p:R},direction:0>x[g].y===t.axisY.reversed?1:-1,bounds:{x1:u,y1:Math.min(p,R),x2:C,y2:Math.max(p,R)},color:e})}}}return N&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Tt.yScaleAnimation,easingFunction:Tt.easing.easeOutQuart,animationBase:m<t.axisY.bounds.y1?t.axisY.bounds.y1:m>t.axisY.bounds.y2?t.axisY.bounds.y2:m}}},w.prototype.renderStackedColumn100=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,n=N?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=null,a=this.plotArea,h=[],d=[],_=[],b=[],g=0,u,p,m=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),g=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0,y=t.axisX.dataInfo.minDiff;for(isFinite(y)||(y=.3*Math.abs(t.axisX.range)),y=this.options.dataPointWidth?this.dataPointWidth:.9*(a.width*(t.axisX.logarithmic?Math.log(y)/Math.log(t.axisX.range):Math.abs(y)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&g>s&&(g=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<g&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,g)),y<g&&(y=g),y>s&&(y=s),n.save(),N&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),N&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),s=0;s<t.dataSeriesIndexes.length;s++){var M=t.dataSeriesIndexes[s],T=this.data[M],x=T.dataPoints;if(0<x.length){for(var D=!!(5<y&&T.bevelEnabled),g=0;g<x.length;g++)if(e=x[g].x.getTime?x[g].x.getTime():x[g].x,!(e<t.axisX.dataInfo.viewPortMin||e>t.axisX.dataInfo.viewPortMax)&&typeof x[g].y=="number"){u=t.axisX.convertValueToPixel(e),p=t.dataPointYSums[e]!==0?100*(x[g].y/t.dataPointYSums[e]):0,u=u-t.plotType.plotUnits.length*y/2+t.index*y<<0;var C=u+y<<0,R;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<x[g].y){if(_[e]=p+(typeof _[e]<"u"?_[e]:0),0>=_[e])continue;p=t.axisY.convertValueToPixel(_[e]),R=h[e]?h[e]:m,h[e]=p}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=x[g].y)b[e]=p+(typeof b[e]<"u"?b[e]:0),R=t.axisY.convertValueToPixel(b[e]),p=d[e]?d[e]:m,d[e]=R;else if(p=t.axisY.convertValueToPixel(p),0<=x[g].y){var L=typeof h[e]<"u"?h[e]:0;p-=L,R=m-L,t.dataSeriesIndexes.length-1===s&&1>=Math.abs(a.y1-p)&&(p=a.y1),h[e]=L+(R-p)}else L=typeof d[e]<"u"?d[e]:0,R=p+L,p=m+L,t.dataSeriesIndexes.length-1===s&&1>=Math.abs(a.y2-R)&&(R=a.y2),d[e]=L+(R-p);e=x[g].color?x[g].color:T._colorSet[g%T._colorSet.length],We(n,u,t.axisY.reversed?R:p,C,t.axisY.reversed?p:R,e,0,null,D&&(t.axisY.reversed?0>x[g].y:0<=x[g].y),(t.axisY.reversed?0<=x[g].y:0>x[g].y)&&D,!1,!1,T.fillOpacity),e=T.dataPointIds[g],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:M,dataPointIndex:g,x1:u,y1:p,x2:C,y2:R},e=z(e),N&&We(this._eventManager.ghostCtx,u,p,C,R,e,0,null,!1,!1,!1,!1),(x[g].indexLabel||T.indexLabel||x[g].indexLabelFormatter||T.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:x[g],dataSeries:T,point:{x:u+(C-u)/2,y:0<=x[g].y?p:R},direction:0>x[g].y===t.axisY.reversed?1:-1,bounds:{x1:u,y1:Math.min(p,R),x2:C,y2:Math.max(p,R)},color:e})}}}return N&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Tt.yScaleAnimation,easingFunction:Tt.easing.easeOutQuart,animationBase:m<t.axisY.bounds.y1?t.axisY.bounds.y1:m>t.axisY.bounds.y2?t.axisY.bounds.y2:m}}},w.prototype.renderBar=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,n=N?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=null,a=this.plotArea,u=0,h,d,_,b=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,.9*(this.plotArea.height/t.plotType.totalDataSeries))<<0,m=t.axisX.dataInfo.minDiff;for(isFinite(m)||(m=.3*Math.abs(t.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:.9*(a.height*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&u>p&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<u&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),m<u&&(m=u),m>p&&(m=p),n.save(),N&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),N&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),p=0;p<t.dataSeriesIndexes.length;p++){var g=t.dataSeriesIndexes[p],s=this.data[g],y=s.dataPoints;if(0<y.length){var M=!!(5<m&&s.bevelEnabled);for(n.strokeStyle="#4572A7 ",u=0;u<y.length;u++)if(y[u].getTime?_=y[u].x.getTime():_=y[u].x,!(_<t.axisX.dataInfo.viewPortMin||_>t.axisX.dataInfo.viewPortMax)&&typeof y[u].y=="number"){d=t.axisX.convertValueToPixel(_),h=t.axisY.convertValueToPixel(y[u].y),d=t.axisX.reversed?d+t.plotType.totalDataSeries*m/2-(t.previousDataSeriesCount+p)*m<<0:d-t.plotType.totalDataSeries*m/2+(t.previousDataSeriesCount+p)*m<<0;var T=t.axisX.reversed?d-m<<0:d+m<<0,x;0<=y[u].y?x=b:(x=h,h=b),e=y[u].color?y[u].color:s._colorSet[u%s._colorSet.length],We(n,t.axisY.reversed?h:x,t.axisX.reversed?T:d,t.axisY.reversed?x:h,t.axisX.reversed?d:T,e,0,null,M,!1,!1,!1,s.fillOpacity),e=s.dataPointIds[u],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:u,x1:x,y1:d,x2:h,y2:T},e=z(e),N&&We(this._eventManager.ghostCtx,x,t.axisX.reversed?T:d,h,t.axisX.reversed?d:T,e,0,null,!1,!1,!1,!1),(y[u].indexLabel||s.indexLabel||y[u].indexLabelFormatter||s.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:y[u],dataSeries:s,point:{x:0<=y[u].y?h:x,y:d+(T-d)/2},direction:0>y[u].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(x,h),y1:d,x2:Math.max(x,h),y2:T},color:e})}}}return N&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Tt.xScaleAnimation,easingFunction:Tt.easing.easeOutQuart,animationBase:b<t.axisY.bounds.x1?t.axisY.bounds.x1:b>t.axisY.bounds.x2?t.axisY.bounds.x2:b}}},w.prototype.renderStackedBar=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,n=N?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=null,a=this.plotArea,h=[],d=[],_=[],b=[],g=0,u,p,m=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),g=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0,y=t.axisX.dataInfo.minDiff;for(isFinite(y)||(y=.3*Math.abs(t.axisX.range)),y=this.options.dataPointWidth?this.dataPointWidth:.9*(a.height*(t.axisX.logarithmic?Math.log(y)/Math.log(t.axisX.range):Math.abs(y)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&g>s&&(g=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<g&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,g)),y<g&&(y=g),y>s&&(y=s),n.save(),N&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),N&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),s=0;s<t.dataSeriesIndexes.length;s++){var M=t.dataSeriesIndexes[s],T=this.data[M],x=T.dataPoints;if(0<x.length){var D=!!(5<y&&T.bevelEnabled);for(n.strokeStyle="#4572A7 ",g=0;g<x.length;g++)if(e=x[g].x.getTime?x[g].x.getTime():x[g].x,!(e<t.axisX.dataInfo.viewPortMin||e>t.axisX.dataInfo.viewPortMax)&&typeof x[g].y=="number"){p=t.axisX.convertValueToPixel(e),p=p-t.plotType.plotUnits.length*y/2+t.index*y<<0;var C=p+y<<0,R;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<x[g].y)_[e]=x[g].y+(_[e]?_[e]:0),0<_[e]&&(R=h[e]?h[e]:m,h[e]=u=t.axisY.convertValueToPixel(_[e]));else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=x[g].y)b[e]=x[g].y+(b[e]?b[e]:0),u=d[e]?d[e]:m,d[e]=R=t.axisY.convertValueToPixel(b[e]);else if(u=t.axisY.convertValueToPixel(x[g].y),0<=x[g].y){var L=h[e]?h[e]:0;R=m+L,u+=L,h[e]=L+(u-R)}else L=d[e]?d[e]:0,R=u-L,u=m-L,d[e]=L+(u-R);e=x[g].color?x[g].color:T._colorSet[g%T._colorSet.length],We(n,t.axisY.reversed?u:R,p,t.axisY.reversed?R:u,C,e,0,null,D,!1,!1,!1,T.fillOpacity),e=T.dataPointIds[g],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:M,dataPointIndex:g,x1:R,y1:p,x2:u,y2:C},e=z(e),N&&We(this._eventManager.ghostCtx,R,p,u,C,e,0,null,!1,!1,!1,!1),(x[g].indexLabel||T.indexLabel||x[g].indexLabelFormatter||T.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:x[g],dataSeries:T,point:{x:0<=x[g].y?u:R,y:p+(C-p)/2},direction:0>x[g].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(R,u),y1:p,x2:Math.max(R,u),y2:C},color:e})}}}return N&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Tt.xScaleAnimation,easingFunction:Tt.easing.easeOutQuart,animationBase:m<t.axisY.bounds.x1?t.axisY.bounds.x1:m>t.axisY.bounds.x2?t.axisY.bounds.x2:m}}},w.prototype.renderStackedBar100=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,n=N?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=null,a=this.plotArea,h=[],d=[],_=[],b=[],g=0,u,p,m=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),g=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0,y=t.axisX.dataInfo.minDiff;for(isFinite(y)||(y=.3*Math.abs(t.axisX.range)),y=this.options.dataPointWidth?this.dataPointWidth:.9*(a.height*(t.axisX.logarithmic?Math.log(y)/Math.log(t.axisX.range):Math.abs(y)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length)<<0,this.dataPointMaxWidth&&g>s&&(g=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<g&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,g)),y<g&&(y=g),y>s&&(y=s),n.save(),N&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),N&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),s=0;s<t.dataSeriesIndexes.length;s++){var M=t.dataSeriesIndexes[s],T=this.data[M],x=T.dataPoints;if(0<x.length){var D=!!(5<y&&T.bevelEnabled);for(n.strokeStyle="#4572A7 ",g=0;g<x.length;g++)if(e=x[g].x.getTime?x[g].x.getTime():x[g].x,!(e<t.axisX.dataInfo.viewPortMin||e>t.axisX.dataInfo.viewPortMax)&&typeof x[g].y=="number"){p=t.axisX.convertValueToPixel(e);var C;C=t.dataPointYSums[e]!==0?100*(x[g].y/t.dataPointYSums[e]):0,p=p-t.plotType.plotUnits.length*y/2+t.index*y<<0;var R=p+y<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<x[g].y){if(_[e]=C+(_[e]?_[e]:0),0>=_[e])continue;C=h[e]?h[e]:m,h[e]=u=t.axisY.convertValueToPixel(_[e])}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=x[g].y)b[e]=C+(b[e]?b[e]:0),u=d[e]?d[e]:m,d[e]=C=t.axisY.convertValueToPixel(b[e]);else if(u=t.axisY.convertValueToPixel(C),0<=x[g].y){var L=h[e]?h[e]:0;C=m+L,u+=L,t.dataSeriesIndexes.length-1===s&&1>=Math.abs(a.x2-u)&&(u=a.x2),h[e]=L+(u-C)}else L=d[e]?d[e]:0,C=u-L,u=m-L,t.dataSeriesIndexes.length-1===s&&1>=Math.abs(a.x1-C)&&(C=a.x1),d[e]=L+(u-C);e=x[g].color?x[g].color:T._colorSet[g%T._colorSet.length],We(n,t.axisY.reversed?u:C,p,t.axisY.reversed?C:u,R,e,0,null,D,!1,!1,!1,T.fillOpacity),e=T.dataPointIds[g],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:M,dataPointIndex:g,x1:C,y1:p,x2:u,y2:R},e=z(e),N&&We(this._eventManager.ghostCtx,C,p,u,R,e,0,null,!1,!1,!1,!1),(x[g].indexLabel||T.indexLabel||x[g].indexLabelFormatter||T.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:x[g],dataSeries:T,point:{x:0<=x[g].y?u:C,y:p+(R-p)/2},direction:0>x[g].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(C,u),y1:p,x2:Math.max(C,u),y2:R},color:e})}}}return N&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Tt.xScaleAnimation,easingFunction:Tt.easing.easeOutQuart,animationBase:m<t.axisY.bounds.x1?t.axisY.bounds.x1:m>t.axisY.bounds.x2?t.axisY.bounds.x2:m}}},w.prototype.renderArea=function(t){var o,n;function e(){L&&(0<s.lineThickness&&h.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?R=C:0>t.axisY.viewportMaximum?R=_.y1:0<t.axisY.viewportMinimum&&(R=C),h.lineTo(T,R),h.lineTo(L.x,R),h.closePath(),h.globalAlpha=s.fillOpacity,h.fill(),h.globalAlpha=1,N&&(d.lineTo(T,R),d.lineTo(L.x,R),d.closePath(),d.fill()),h.beginPath(),h.moveTo(T,x),d.beginPath(),d.moveTo(T,x),L={x:T,y:x})}var a=t.targetCanvasCtx||this.plotArea.ctx,h=N?this._preRenderCtx:a;if(!(0>=t.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,_=t.axisY.lineCoordinates,b=[],u=this.plotArea,p;h.save(),N&&d.save(),h.beginPath(),h.rect(u.x1,u.y1,u.width,u.height),h.clip(),N&&(d.beginPath(),d.rect(u.x1,u.y1,u.width,u.height),d.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var g=t.dataSeriesIndexes[m],s=this.data[g],y=s.dataPoints,b=s.id;this._eventManager.objectMap[b]={objectType:"dataSeries",dataSeriesIndex:g},b=z(b),d.fillStyle=b,b=[],o=!0;var M=0,T,x,D,C=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),R,L=null;if(0<y.length){var O=s._colorSet[M%s._colorSet.length],J=s.lineColor=s.options.lineColor||O,it=J;if(h.fillStyle=O,h.strokeStyle=J,h.lineWidth=s.lineThickness,n="solid",h.setLineDash){var j=wt(s.nullDataLineDashType,s.lineThickness);n=s.lineDashType;var G=wt(n,s.lineThickness);h.setLineDash(G)}for(var X=!0;M<y.length;M++)if(D=y[M].x.getTime?y[M].x.getTime():y[M].x,!(D<t.axisX.dataInfo.viewPortMin||D>t.axisX.dataInfo.viewPortMax&&(!s.connectNullData||!X)))if(typeof y[M].y!="number")s.connectNullData||X||o||e(),X=!0;else{T=t.axisX.convertValueToPixel(D),x=t.axisY.convertValueToPixel(y[M].y),o||X?(!o&&s.connectNullData?(h.setLineDash&&(s.options.nullDataLineDashType||n===s.lineDashType&&s.lineDashType!==s.nullDataLineDashType)&&(o=T,n=x,T=p.x,x=p.y,e(),h.moveTo(p.x,p.y),T=o,x=n,L=p,n=s.nullDataLineDashType,h.setLineDash(j)),h.lineTo(T,x),N&&d.lineTo(T,x)):(h.beginPath(),h.moveTo(T,x),N&&(d.beginPath(),d.moveTo(T,x)),L={x:T,y:x}),X=o=!1):(h.lineTo(T,x),N&&d.lineTo(T,x),M%250==0&&e()),p={x:T,y:x},M<y.length-1&&(it!==(y[M].lineColor||J)||n!==(y[M].lineDashType||s.lineDashType))&&(e(),it=y[M].lineColor||J,h.strokeStyle=it,h.setLineDash&&(y[M].lineDashType?(n=y[M].lineDashType,h.setLineDash(wt(n,s.lineThickness))):(n=s.lineDashType,h.setLineDash(G))));var W=s.dataPointIds[M];this._eventManager.objectMap[W]={id:W,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:M,x1:T,y1:x},y[M].markerSize!==0&&(0<y[M].markerSize||0<s.markerSize)&&(D=s.getMarkerProperties(M,T,x,h),b.push(D),W=z(W),N&&b.push({x:T,y:x,ctx:d,type:D.type,size:D.size,color:W,borderColor:W,borderThickness:D.borderThickness})),(y[M].indexLabel||s.indexLabel||y[M].indexLabelFormatter||s.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:y[M],dataSeries:s,point:{x:T,y:x},direction:0>y[M].y===t.axisY.reversed?1:-1,color:O})}e(),Se.drawMarkers(b)}}return N&&(a.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&h.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&h.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:a,dest:this.plotArea.ctx,animationCallback:Tt.xClipAnimation,easingFunction:Tt.easing.linear,animationBase:0}}},w.prototype.renderSplineArea=function(t){function o(){var X=E(D,2);if(0<X.length){if(0<p.lineThickness){e.beginPath(),e.moveTo(X[0].x,X[0].y),X[0].newStrokeStyle&&(e.strokeStyle=X[0].newStrokeStyle),X[0].newLineDashArray&&e.setLineDash(X[0].newLineDashArray);for(var W=0;W<X.length-3;W+=3)e.bezierCurveTo(X[W+1].x,X[W+1].y,X[W+2].x,X[W+2].y,X[W+3].x,X[W+3].y),N&&a.bezierCurveTo(X[W+1].x,X[W+1].y,X[W+2].x,X[W+2].y,X[W+3].x,X[W+3].y),(X[W+3].newStrokeStyle||X[W+3].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(X[W+3].x,X[W+3].y),X[W+3].newStrokeStyle&&(e.strokeStyle=X[W+3].newStrokeStyle),X[W+3].newLineDashArray&&e.setLineDash(X[W+3].newLineDashArray));e.stroke()}for(e.beginPath(),e.moveTo(X[0].x,X[0].y),N&&(a.beginPath(),a.moveTo(X[0].x,X[0].y)),W=0;W<X.length-3;W+=3)e.bezierCurveTo(X[W+1].x,X[W+1].y,X[W+2].x,X[W+2].y,X[W+3].x,X[W+3].y),N&&a.bezierCurveTo(X[W+1].x,X[W+1].y,X[W+2].x,X[W+2].y,X[W+3].x,X[W+3].y);t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?T=M:0>t.axisY.viewportMaximum?T=h.y1:0<t.axisY.viewportMinimum&&(T=M),x={x:X[0].x,y:X[0].y},e.lineTo(X[X.length-1].x,T),e.lineTo(x.x,T),e.closePath(),e.globalAlpha=p.fillOpacity,e.fill(),e.globalAlpha=1,N&&(a.lineTo(X[X.length-1].x,T),a.lineTo(x.x,T),a.closePath(),a.fill())}}var n=t.targetCanvasCtx||this.plotArea.ctx,e=N?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx,h=t.axisY.lineCoordinates,d=[],_=this.plotArea;e.save(),N&&a.save(),e.beginPath(),e.rect(_.x1,_.y1,_.width,_.height),e.clip(),N&&(a.beginPath(),a.rect(_.x1,_.y1,_.width,_.height),a.clip());for(var b=0;b<t.dataSeriesIndexes.length;b++){var u=t.dataSeriesIndexes[b],p=this.data[u],m=p.dataPoints,d=p.id;this._eventManager.objectMap[d]={objectType:"dataSeries",dataSeriesIndex:u},d=z(d),a.fillStyle=d;var d=[],g=0,s,y,M=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),T,x=null,D=[];if(0<m.length){var C=p._colorSet[g%p._colorSet.length],R=p.lineColor=p.options.lineColor||C,L=R;e.fillStyle=C,e.strokeStyle=R,e.lineWidth=p.lineThickness;var O="solid";if(e.setLineDash){var J=wt(p.nullDataLineDashType,p.lineThickness),O=p.lineDashType,it=wt(O,p.lineThickness);e.setLineDash(it)}for(y=!1;g<m.length;g++)if(s=m[g].x.getTime?m[g].x.getTime():m[g].x,!(s<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax&&(!p.connectNullData||!y)))if(typeof m[g].y!="number")0<g&&!y&&(p.connectNullData?e.setLineDash&&0<D.length&&(p.options.nullDataLineDashType||!m[g-1].lineDashType)&&(D[D.length-1].newLineDashArray=J,O=p.nullDataLineDashType):(o(),D=[])),y=!0;else{s=t.axisX.convertValueToPixel(s),y=t.axisY.convertValueToPixel(m[g].y);var j=p.dataPointIds[g];if(this._eventManager.objectMap[j]={id:j,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:g,x1:s,y1:y},D[D.length]={x:s,y},g<m.length-1&&(L!==(m[g].lineColor||R)||O!==(m[g].lineDashType||p.lineDashType))&&(L=m[g].lineColor||R,D[D.length-1].newStrokeStyle=L,e.setLineDash&&(m[g].lineDashType?(O=m[g].lineDashType,D[D.length-1].newLineDashArray=wt(O,p.lineThickness)):(O=p.lineDashType,D[D.length-1].newLineDashArray=it))),m[g].markerSize!==0&&(0<m[g].markerSize||0<p.markerSize)){var G=p.getMarkerProperties(g,s,y,e);d.push(G),j=z(j),N&&d.push({x:s,y,ctx:a,type:G.type,size:G.size,color:j,borderColor:j,borderThickness:G.borderThickness})}(m[g].indexLabel||p.indexLabel||m[g].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:m[g],dataSeries:p,point:{x:s,y},direction:0>m[g].y===t.axisY.reversed?1:-1,color:C}),y=!1}o(),Se.drawMarkers(d)}}return N&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(_.x1,_.y1,_.width,_.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Tt.xClipAnimation,easingFunction:Tt.easing.linear,animationBase:0}}},w.prototype.renderStepArea=function(t){var o,n;function e(){L&&(0<s.lineThickness&&h.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?R=C:0>t.axisY.viewportMaximum?R=_.y1:0<t.axisY.viewportMinimum&&(R=C),h.lineTo(T,R),h.lineTo(L.x,R),h.closePath(),h.globalAlpha=s.fillOpacity,h.fill(),h.globalAlpha=1,N&&(d.lineTo(T,R),d.lineTo(L.x,R),d.closePath(),d.fill()),h.beginPath(),h.moveTo(T,x),d.beginPath(),d.moveTo(T,x),L={x:T,y:x})}var a=t.targetCanvasCtx||this.plotArea.ctx,h=N?this._preRenderCtx:a;if(!(0>=t.dataSeriesIndexes.length)){var d=this._eventManager.ghostCtx,_=t.axisY.lineCoordinates,b=[],u=this.plotArea,p;h.save(),N&&d.save(),h.beginPath(),h.rect(u.x1,u.y1,u.width,u.height),h.clip(),N&&(d.beginPath(),d.rect(u.x1,u.y1,u.width,u.height),d.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var g=t.dataSeriesIndexes[m],s=this.data[g],y=s.dataPoints,b=s.id;this._eventManager.objectMap[b]={objectType:"dataSeries",dataSeriesIndex:g},b=z(b),d.fillStyle=b,b=[],o=!0;var M=0,T,x,D,C=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),R,L=null;if(n=!1,0<y.length){var O=s._colorSet[M%s._colorSet.length],J=s.lineColor=s.options.lineColor||O,it=J;h.fillStyle=O,h.strokeStyle=J,h.lineWidth=s.lineThickness;var j="solid";if(h.setLineDash){var G=wt(s.nullDataLineDashType,s.lineThickness),j=s.lineDashType,X=wt(j,s.lineThickness);h.setLineDash(X)}for(;M<y.length;M++)if(D=y[M].x.getTime?y[M].x.getTime():y[M].x,!(D<t.axisX.dataInfo.viewPortMin||D>t.axisX.dataInfo.viewPortMax&&(!s.connectNullData||!n))){var W=x;typeof y[M].y!="number"?(s.connectNullData||n||o||e(),n=!0):(T=t.axisX.convertValueToPixel(D),x=t.axisY.convertValueToPixel(y[M].y),o||n?(!o&&s.connectNullData?(h.setLineDash&&(s.options.nullDataLineDashType||j===s.lineDashType&&s.lineDashType!==s.nullDataLineDashType)&&(o=T,n=x,T=p.x,x=p.y,e(),h.moveTo(p.x,p.y),T=o,x=n,L=p,j=s.nullDataLineDashType,h.setLineDash(G)),h.lineTo(T,W),h.lineTo(T,x),N&&(d.lineTo(T,W),d.lineTo(T,x))):(h.beginPath(),h.moveTo(T,x),N&&(d.beginPath(),d.moveTo(T,x)),L={x:T,y:x}),n=o=!1):(h.lineTo(T,W),N&&d.lineTo(T,W),h.lineTo(T,x),N&&d.lineTo(T,x),M%250==0&&e()),p={x:T,y:x},M<y.length-1&&(it!==(y[M].lineColor||J)||j!==(y[M].lineDashType||s.lineDashType))&&(e(),it=y[M].lineColor||J,h.strokeStyle=it,h.setLineDash&&(y[M].lineDashType?(j=y[M].lineDashType,h.setLineDash(wt(j,s.lineThickness))):(j=s.lineDashType,h.setLineDash(X)))),D=s.dataPointIds[M],this._eventManager.objectMap[D]={id:D,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:M,x1:T,y1:x},y[M].markerSize!==0&&(0<y[M].markerSize||0<s.markerSize)&&(W=s.getMarkerProperties(M,T,x,h),b.push(W),D=z(D),N&&b.push({x:T,y:x,ctx:d,type:W.type,size:W.size,color:D,borderColor:D,borderThickness:W.borderThickness})),(y[M].indexLabel||s.indexLabel||y[M].indexLabelFormatter||s.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:y[M],dataSeries:s,point:{x:T,y:x},direction:0>y[M].y===t.axisY.reversed?1:-1,color:O}))}e(),Se.drawMarkers(b)}}return N&&(a.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&h.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&h.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),h.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),h.restore(),{source:a,dest:this.plotArea.ctx,animationCallback:Tt.xClipAnimation,easingFunction:Tt.easing.linear,animationBase:0}}},w.prototype.renderStackedArea=function(t){function o(){if(!(1>u.length)){for(0<O.lineThickness&&e.stroke();0<u.length;){var V=u.pop();e.lineTo(V.x,V.y),N&&T.lineTo(V.x,V.y)}e.closePath(),e.globalAlpha=O.fillOpacity,e.fill(),e.globalAlpha=1,e.beginPath(),N&&(T.closePath(),T.fill(),T.beginPath()),u=[]}}var n=t.targetCanvasCtx||this.plotArea.ctx,e=N?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var a=null,h=null,d=[],_=this.plotArea,b=[],u=[],p=[],m=[],g=0,s,y,M=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),T=this._eventManager.ghostCtx,x,D,C;N&&T.beginPath(),e.save(),N&&T.save(),e.beginPath(),e.rect(_.x1,_.y1,_.width,_.height),e.clip(),N&&(T.beginPath(),T.rect(_.x1,_.y1,_.width,_.height),T.clip());for(var a=[],R=0;R<t.dataSeriesIndexes.length;R++){var L=t.dataSeriesIndexes[R],O=this.data[L],J=O.dataPoints;for(O.dataPointIndexes=[],g=0;g<J.length;g++)L=J[g].x.getTime?J[g].x.getTime():J[g].x,O.dataPointIndexes[L]=g,a[L]||(p.push(L),a[L]=!0);p.sort(k)}for(R=0;R<t.dataSeriesIndexes.length;R++){if(L=t.dataSeriesIndexes[R],O=this.data[L],J=O.dataPoints,D=!0,u=[],g=O.id,this._eventManager.objectMap[g]={objectType:"dataSeries",dataSeriesIndex:L},g=z(g),T.fillStyle=g,0<p.length){var a=O._colorSet[0],it=O.lineColor=O.options.lineColor||a,j=it;if(e.fillStyle=a,e.strokeStyle=it,e.lineWidth=O.lineThickness,C="solid",e.setLineDash){var G=wt(O.nullDataLineDashType,O.lineThickness);C=O.lineDashType;var X=wt(C,O.lineThickness);e.setLineDash(X)}for(var W=!0,g=0;g<p.length;g++){var h=p[g],F=null,F=0<=O.dataPointIndexes[h]?J[O.dataPointIndexes[h]]:{x:h,y:null};if(!(h<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax&&(!O.connectNullData||!W)))if(typeof F.y!="number")O.connectNullData||W||D||o(),W=!0;else{s=t.axisX.convertValueToPixel(h);var Q=b[h]?b[h]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(m[h]=F.y+(m[h]?m[h]:0),0>=m[h]&&t.axisY.logarithmic)continue;y=t.axisY.convertValueToPixel(m[h])}else y=t.axisY.convertValueToPixel(F.y),y-=Q;if(u.push({x:s,y:M-Q}),b[h]=M-y,D||W?(!D&&O.connectNullData?(e.setLineDash&&(O.options.nullDataLineDashType||C===O.lineDashType&&O.lineDashType!==O.nullDataLineDashType)&&(D=u.pop(),C=u[u.length-1],o(),e.moveTo(x.x,x.y),u.push(C),u.push(D),C=O.nullDataLineDashType,e.setLineDash(G)),e.lineTo(s,y),N&&T.lineTo(s,y)):(e.beginPath(),e.moveTo(s,y),N&&(T.beginPath(),T.moveTo(s,y))),W=D=!1):(e.lineTo(s,y),N&&T.lineTo(s,y),g%250==0&&(o(),e.moveTo(s,y),N&&T.moveTo(s,y),u.push({x:s,y:M-Q}))),x={x:s,y},g<J.length-1&&(j!==(J[g].lineColor||it)||C!==(J[g].lineDashType||O.lineDashType))&&(o(),e.beginPath(),e.moveTo(s,y),u.push({x:s,y:M-Q}),j=J[g].lineColor||it,e.strokeStyle=j,e.setLineDash&&(J[g].lineDashType?(C=J[g].lineDashType,e.setLineDash(wt(C,O.lineThickness))):(C=O.lineDashType,e.setLineDash(X)))),0<=O.dataPointIndexes[h]){var nt=O.dataPointIds[O.dataPointIndexes[h]];this._eventManager.objectMap[nt]={id:nt,objectType:"dataPoint",dataSeriesIndex:L,dataPointIndex:O.dataPointIndexes[h],x1:s,y1:y}}0<=O.dataPointIndexes[h]&&F.markerSize!==0&&(0<F.markerSize||0<O.markerSize)&&(Q=O.getMarkerProperties(O.dataPointIndexes[h],s,y,e),d.push(Q),h=z(nt),N&&d.push({x:s,y,ctx:T,type:Q.type,size:Q.size,color:h,borderColor:h,borderThickness:Q.borderThickness})),(F.indexLabel||O.indexLabel||F.indexLabelFormatter||O.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:F,dataSeries:O,point:{x:s,y},direction:0>F.y===t.axisY.reversed?1:-1,color:a})}}o(),e.moveTo(s,y),N&&T.moveTo(s,y)}delete O.dataPointIndexes}return Se.drawMarkers(d),N&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(_.x1,_.y1,_.width,_.height),T.restore()),e.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Tt.xClipAnimation,easingFunction:Tt.easing.linear,animationBase:0}}},w.prototype.renderStackedArea100=function(t){function o(){for(0<O.lineThickness&&e.stroke();0<u.length;){var Ht=u.pop();e.lineTo(Ht.x,Ht.y),N&&C.lineTo(Ht.x,Ht.y)}e.closePath(),e.globalAlpha=O.fillOpacity,e.fill(),e.globalAlpha=1,e.beginPath(),N&&(C.closePath(),C.fill(),C.beginPath()),u=[]}var n=t.targetCanvasCtx||this.plotArea.ctx,e=N?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var a=null,h=null,d=this.plotArea,_=[],b=[],u=[],p=[],m=[],g=0,s,y,M,T,x,D=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),C=this._eventManager.ghostCtx;e.save(),N&&C.save(),e.beginPath(),e.rect(d.x1,d.y1,d.width,d.height),e.clip(),N&&(C.beginPath(),C.rect(d.x1,d.y1,d.width,d.height),C.clip());for(var a=[],R=0;R<t.dataSeriesIndexes.length;R++){var L=t.dataSeriesIndexes[R],O=this.data[L],J=O.dataPoints;for(O.dataPointIndexes=[],g=0;g<J.length;g++)L=J[g].x.getTime?J[g].x.getTime():J[g].x,O.dataPointIndexes[L]=g,a[L]||(p.push(L),a[L]=!0);p.sort(k)}for(R=0;R<t.dataSeriesIndexes.length;R++){if(L=t.dataSeriesIndexes[R],O=this.data[L],J=O.dataPoints,T=!0,a=O.id,this._eventManager.objectMap[a]={objectType:"dataSeries",dataSeriesIndex:L},a=z(a),C.fillStyle=a,u=[],0<p.length){var a=O._colorSet[g%O._colorSet.length],it=O.lineColor=O.options.lineColor||a,j=it;if(e.fillStyle=a,e.strokeStyle=it,e.lineWidth=O.lineThickness,x="solid",e.setLineDash){var G=wt(O.nullDataLineDashType,O.lineThickness);x=O.lineDashType;var X=wt(x,O.lineThickness);e.setLineDash(X)}for(var W=!0,g=0;g<p.length;g++){var h=p[g],F=null,F=0<=O.dataPointIndexes[h]?J[O.dataPointIndexes[h]]:{x:h,y:null};if(!(h<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax&&(!O.connectNullData||!W)))if(typeof F.y!="number")O.connectNullData||W||T||o(),W=!0;else{var Q;Q=t.dataPointYSums[h]!==0?100*(F.y/t.dataPointYSums[h]):0,s=t.axisX.convertValueToPixel(h);var nt=b[h]?b[h]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(m[h]=Q+(m[h]?m[h]:0),0>=m[h]&&t.axisY.logarithmic)continue;y=t.axisY.convertValueToPixel(m[h])}else y=t.axisY.convertValueToPixel(Q),y-=nt;if(u.push({x:s,y:D-nt}),b[h]=D-y,T||W?(!T&&O.connectNullData?(e.setLineDash&&(O.options.nullDataLineDashType||x===O.lineDashType&&O.lineDashType!==O.nullDataLineDashType)&&(T=u.pop(),x=u[u.length-1],o(),e.moveTo(M.x,M.y),u.push(x),u.push(T),x=O.nullDataLineDashType,e.setLineDash(G)),e.lineTo(s,y),N&&C.lineTo(s,y)):(e.beginPath(),e.moveTo(s,y),N&&(C.beginPath(),C.moveTo(s,y))),W=T=!1):(e.lineTo(s,y),N&&C.lineTo(s,y),g%250==0&&(o(),e.moveTo(s,y),N&&C.moveTo(s,y),u.push({x:s,y:D-nt}))),M={x:s,y},g<J.length-1&&(j!==(J[g].lineColor||it)||x!==(J[g].lineDashType||O.lineDashType))&&(o(),e.beginPath(),e.moveTo(s,y),u.push({x:s,y:D-nt}),j=J[g].lineColor||it,e.strokeStyle=j,e.setLineDash&&(J[g].lineDashType?(x=J[g].lineDashType,e.setLineDash(wt(x,O.lineThickness))):(x=O.lineDashType,e.setLineDash(X)))),0<=O.dataPointIndexes[h]){var V=O.dataPointIds[O.dataPointIndexes[h]];this._eventManager.objectMap[V]={id:V,objectType:"dataPoint",dataSeriesIndex:L,dataPointIndex:O.dataPointIndexes[h],x1:s,y1:y}}0<=O.dataPointIndexes[h]&&F.markerSize!==0&&(0<F.markerSize||0<O.markerSize)&&(nt=O.getMarkerProperties(O.dataPointIndexes[h],s,y,e),_.push(nt),h=z(V),N&&_.push({x:s,y,ctx:C,type:nt.type,size:nt.size,color:h,borderColor:h,borderThickness:nt.borderThickness})),(F.indexLabel||O.indexLabel||F.indexLabelFormatter||O.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:F,dataSeries:O,point:{x:s,y},direction:0>F.y===t.axisY.reversed?1:-1,color:a})}}o(),e.moveTo(s,y),N&&C.moveTo(s,y)}delete O.dataPointIndexes}return Se.drawMarkers(_),N&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(d.x1,d.y1,d.width,d.height),C.restore()),e.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Tt.xClipAnimation,easingFunction:Tt.easing.linear,animationBase:0}}},w.prototype.renderBubble=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,n=N?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=this.plotArea,a=0,h,d;n.save(),N&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(e.x1,e.y1,e.width,e.height),n.clip(),N&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.clip());for(var _=-1/0,b=1/0,u=0;u<t.dataSeriesIndexes.length;u++)for(var p=t.dataSeriesIndexes[u],m=this.data[p],g=m.dataPoints,s=0,a=0;a<g.length;a++)h=g[a].getTime?h=g[a].x.getTime():h=g[a].x,h<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax||typeof g[a].z>"u"||(s=g[a].z,s>_&&(_=s),s<b&&(b=s));for(var y=25*Math.PI,M=Math.max(Math.pow(.25*Math.min(e.height,e.width)/2,2)*Math.PI,y),u=0;u<t.dataSeriesIndexes.length;u++)if(p=t.dataSeriesIndexes[u],m=this.data[p],g=m.dataPoints,0<g.length){for(n.strokeStyle="#4572A7 ",a=0;a<g.length;a++)if(h=g[a].getTime?h=g[a].x.getTime():h=g[a].x,!(h<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax)&&typeof g[a].y=="number"){h=t.axisX.convertValueToPixel(h),d=t.axisY.convertValueToPixel(g[a].y);var s=g[a].z,T=2*Math.max(Math.sqrt((_===b?M/2:y+(M-y)/(_-b)*(s-b))/Math.PI)<<0,1),s=m.getMarkerProperties(a,n);s.size=T,n.globalAlpha=m.fillOpacity,Se.drawMarker(h,d,n,s.type,s.size,s.color,s.borderColor,s.borderThickness),n.globalAlpha=1;var x=m.dataPointIds[a];this._eventManager.objectMap[x]={id:x,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:a,x1:h,y1:d,size:T},T=z(x),N&&Se.drawMarker(h,d,this._eventManager.ghostCtx,s.type,s.size,T,T,s.borderThickness),(g[a].indexLabel||m.indexLabel||g[a].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:g[a],dataSeries:m,point:{x:h,y:d},direction:1,bounds:{x1:h-s.size/2,y1:d-s.size/2,x2:h+s.size/2,y2:d+s.size/2},color:null})}}return N&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Tt.fadeInAnimation,easingFunction:Tt.easing.easeInQuad,animationBase:0}}},w.prototype.renderScatter=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,n=N?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=this.plotArea,a=0,h,d;n.save(),N&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(e.x1,e.y1,e.width,e.height),n.clip(),N&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.clip());for(var _=0;_<t.dataSeriesIndexes.length;_++){var b=t.dataSeriesIndexes[_],u=this.data[b],p=u.dataPoints;if(0<p.length){n.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(e.height,e.width)/2,2);for(var m=0,g=0,a=0;a<p.length;a++)if(h=p[a].getTime?h=p[a].x.getTime():h=p[a].x,!(h<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax)&&typeof p[a].y=="number"){h=t.axisX.convertValueToPixel(h),d=t.axisY.convertValueToPixel(p[a].y);var s=u.getMarkerProperties(a,h,d,n);n.globalAlpha=u.fillOpacity,Se.drawMarker(s.x,s.y,s.ctx,s.type,s.size,s.color,s.borderColor,s.borderThickness),n.globalAlpha=1,Math.sqrt((m-h)*(m-h)+(g-d)*(g-d))<Math.min(s.size,5)&&p.length>Math.min(this.plotArea.width,this.plotArea.height)||(m=u.dataPointIds[a],this._eventManager.objectMap[m]={id:m,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:a,x1:h,y1:d},m=z(m),N&&Se.drawMarker(s.x,s.y,this._eventManager.ghostCtx,s.type,s.size,m,m,s.borderThickness),(p[a].indexLabel||u.indexLabel||p[a].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:p[a],dataSeries:u,point:{x:h,y:d},direction:1,bounds:{x1:h-s.size/2,y1:d-s.size/2,x2:h+s.size/2,y2:d+s.size/2},color:null}),m=h,g=d)}}}return N&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Tt.fadeInAnimation,easingFunction:Tt.easing.easeInQuad,animationBase:0}}},w.prototype.renderCandlestick=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,n=N?this._preRenderCtx:o,e=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var g=null,s=null,a=this.plotArea,h=0,d,_,b,u,p,m,g=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,y=t.axisX.dataInfo.minDiff;isFinite(y)||(y=.3*Math.abs(t.axisX.range)),y=this.options.dataPointWidth?this.dataPointWidth:.7*a.width*(t.axisX.logarithmic?Math.log(y)/Math.log(t.axisX.range):Math.abs(y)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&g>s&&(g=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<g&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,g)),y<g&&(y=g),y>s&&(y=s),n.save(),N&&e.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),N&&(e.beginPath(),e.rect(a.x1,a.y1,a.width,a.height),e.clip());for(var M=0;M<t.dataSeriesIndexes.length;M++){var T=t.dataSeriesIndexes[M],x=this.data[T],D=x.dataPoints;if(0<D.length){for(var C=!!(5<y&&x.bevelEnabled),h=0;h<D.length;h++)if(D[h].getTime?m=D[h].x.getTime():m=D[h].x,!(m<t.axisX.dataInfo.viewPortMin||m>t.axisX.dataInfo.viewPortMax)&&!P(D[h].y)&&D[h].y.length&&typeof D[h].y[0]=="number"&&typeof D[h].y[1]=="number"&&typeof D[h].y[2]=="number"&&typeof D[h].y[3]=="number"){d=t.axisX.convertValueToPixel(m),_=t.axisY.convertValueToPixel(D[h].y[0]),b=t.axisY.convertValueToPixel(D[h].y[1]),u=t.axisY.convertValueToPixel(D[h].y[2]),p=t.axisY.convertValueToPixel(D[h].y[3]);var R=d-y/2<<0,L=R+y<<0,s=x.options.fallingColor?x.fallingColor:x._colorSet[0],g=D[h].color?D[h].color:x._colorSet[0],O=Math.round(Math.max(1,.15*y)),J=O%2===0?0:.5,it=x.dataPointIds[h];this._eventManager.objectMap[it]={id:it,objectType:"dataPoint",dataSeriesIndex:T,dataPointIndex:h,x1:R,y1:_,x2:L,y2:b,x3:d,y3:u,x4:d,y4:p,borderThickness:O,color:g},n.strokeStyle=g,n.beginPath(),n.lineWidth=O,e.lineWidth=Math.max(O,4),x.type==="candlestick"?(n.moveTo(d-J,b),n.lineTo(d-J,Math.min(_,p)),n.stroke(),n.moveTo(d-J,Math.max(_,p)),n.lineTo(d-J,u),n.stroke(),We(n,R,Math.min(_,p),L,Math.max(_,p),D[h].y[0]<=D[h].y[3]?x.risingColor:s,O,g,C,C,!1,!1,x.fillOpacity),N&&(g=z(it),e.strokeStyle=g,e.moveTo(d-J,b),e.lineTo(d-J,Math.min(_,p)),e.stroke(),e.moveTo(d-J,Math.max(_,p)),e.lineTo(d-J,u),e.stroke(),We(e,R,Math.min(_,p),L,Math.max(_,p),g,0,null,!1,!1,!1,!1))):x.type==="ohlc"&&(n.moveTo(d-J,b),n.lineTo(d-J,u),n.stroke(),n.beginPath(),n.moveTo(d,_),n.lineTo(R,_),n.stroke(),n.beginPath(),n.moveTo(d,p),n.lineTo(L,p),n.stroke(),N&&(g=z(it),e.strokeStyle=g,e.moveTo(d-J,b),e.lineTo(d-J,u),e.stroke(),e.beginPath(),e.moveTo(d,_),e.lineTo(R,_),e.stroke(),e.beginPath(),e.moveTo(d,p),e.lineTo(L,p),e.stroke())),(D[h].indexLabel||x.indexLabel||D[h].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:x.type,dataPoint:D[h],dataSeries:x,point:{x:R+(L-R)/2,y:t.axisY.reversed?u:b},direction:1,bounds:{x1:R,y1:Math.min(b,u),x2:L,y2:Math.max(b,u)},color:g})}}}return N&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),e.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Tt.fadeInAnimation,easingFunction:Tt.easing.easeInQuad,animationBase:0}}},w.prototype.renderBoxAndWhisker=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,n=N?this._preRenderCtx:o,e=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var g=null,a=this.plotArea,s=0,h,d,_,b,u,p,m,g=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,s=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,y=t.axisX.dataInfo.minDiff;isFinite(y)||(y=.3*Math.abs(t.axisX.range)),y=this.options.dataPointWidth?this.dataPointWidth:.7*a.width*(t.axisX.logarithmic?Math.log(y)/Math.log(t.axisX.range):Math.abs(y)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&g>s&&(g=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,s)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&s<g&&(s=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,g)),y<g&&(y=g),y>s&&(y=s),n.save(),N&&e.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),N&&(e.beginPath(),e.rect(a.x1,a.y1,a.width,a.height),e.clip());for(var M=!1,M=!!t.axisY.reversed,T=0;T<t.dataSeriesIndexes.length;T++){var x=t.dataSeriesIndexes[T],D=this.data[x],C=D.dataPoints;if(0<C.length){for(var R=!!(5<y&&D.bevelEnabled),s=0;s<C.length;s++)if(C[s].getTime?m=C[s].x.getTime():m=C[s].x,!(m<t.axisX.dataInfo.viewPortMin||m>t.axisX.dataInfo.viewPortMax)&&!P(C[s].y)&&C[s].y.length&&typeof C[s].y[0]=="number"&&typeof C[s].y[1]=="number"&&typeof C[s].y[2]=="number"&&typeof C[s].y[3]=="number"&&typeof C[s].y[4]=="number"&&C[s].y.length===5){h=t.axisX.convertValueToPixel(m),d=t.axisY.convertValueToPixel(C[s].y[0]),_=t.axisY.convertValueToPixel(C[s].y[1]),b=t.axisY.convertValueToPixel(C[s].y[2]),u=t.axisY.convertValueToPixel(C[s].y[3]),p=t.axisY.convertValueToPixel(C[s].y[4]);var L=h-y/2<<0,O=h+y/2<<0,g=C[s].color?C[s].color:D._colorSet[0],J=Math.round(Math.max(1,.15*y)),it=J%2===0?0:.5,j=C[s].whiskerColor?C[s].whiskerColor:C[s].color?D.whiskerColor?D.whiskerColor:C[s].color:D.whiskerColor?D.whiskerColor:g,G=typeof C[s].whiskerThickness=="number"?C[s].whiskerThickness:typeof D.options.whiskerThickness=="number"?D.whiskerThickness:J,X=C[s].whiskerDashType?C[s].whiskerDashType:D.whiskerDashType,W=P(C[s].whiskerLength)?P(D.options.whiskerLength)?y:D.whiskerLength:C[s].whiskerLength,W=typeof W=="number"?0>=W?0:W>=y?y:W:typeof W=="string"?parseInt(W)*y/100>y?y:parseInt(W)*y/100:y,F=Math.round(G)%2===1?.5:0,Q=C[s].stemColor?C[s].stemColor:C[s].color?D.stemColor?D.stemColor:C[s].color:D.stemColor?D.stemColor:g,nt=typeof C[s].stemThickness=="number"?C[s].stemThickness:typeof D.options.stemThickness=="number"?D.stemThickness:J,V=Math.round(nt)%2===1?.5:0,Ht=C[s].stemDashType?C[s].stemDashType:D.stemDashType,Gt=C[s].lineColor?C[s].lineColor:C[s].color?D.lineColor?D.lineColor:C[s].color:D.lineColor?D.lineColor:g,he=typeof C[s].lineThickness=="number"?C[s].lineThickness:typeof D.options.lineThickness=="number"?D.lineThickness:J,re=C[s].lineDashType?C[s].lineDashType:D.lineDashType,yt=Math.round(he)%2===1?.5:0,Ve=D.upperBoxColor,Kt=D.lowerBoxColor,Qt=P(D.options.fillOpacity)?1:D.fillOpacity,xt=D.dataPointIds[s];this._eventManager.objectMap[xt]={id:xt,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:s,x1:L,y1:d,x2:O,y2:_,x3:h,y3:b,x4:h,y4:u,y5:p,borderThickness:J,color:g,stemThickness:nt,stemColor:Q,whiskerThickness:G,whiskerLength:W,whiskerColor:j,lineThickness:he,lineColor:Gt},n.save(),0<nt&&(n.beginPath(),n.strokeStyle=Q,n.lineWidth=nt,n.setLineDash&&n.setLineDash(wt(Ht,nt)),n.moveTo(h-V,_),n.lineTo(h-V,d),n.stroke(),n.moveTo(h-V,u),n.lineTo(h-V,b),n.stroke()),n.restore(),e.lineWidth=Math.max(J,4),n.beginPath(),We(n,L,Math.min(p,_),O,Math.max(_,p),Kt,0,g,M?R:!1,M?!1:R,!1,!1,Qt),n.beginPath(),We(n,L,Math.min(b,p),O,Math.max(p,b),Ve,0,g,M?!1:R,M?R:!1,!1,!1,Qt),n.beginPath(),n.lineWidth=J,n.strokeStyle=g,n.rect(L-it,Math.min(_,b)-it,O-L+2*it,Math.max(_,b)-Math.min(_,b)+2*it),n.stroke(),n.save(),0<he&&(n.beginPath(),n.globalAlpha=1,n.setLineDash&&n.setLineDash(wt(re,he)),n.strokeStyle=Gt,n.lineWidth=he,n.moveTo(L,p-yt),n.lineTo(O,p-yt),n.stroke()),n.restore(),n.save(),0<G&&(n.beginPath(),n.setLineDash&&n.setLineDash(wt(X,G)),n.strokeStyle=j,n.lineWidth=G,n.moveTo(h-W/2<<0,u-F),n.lineTo(h+W/2<<0,u-F),n.stroke(),n.moveTo(h-W/2<<0,d+F),n.lineTo(h+W/2<<0,d+F),n.stroke()),n.restore(),N&&(g=z(xt),e.strokeStyle=g,e.lineWidth=nt,0<nt&&(e.moveTo(h-it-V,_),e.lineTo(h-it-V,Math.max(d,u)),e.stroke(),e.moveTo(h-it-V,Math.min(d,u)),e.lineTo(h-it-V,b),e.stroke()),We(e,L,Math.max(_,b),O,Math.min(_,b),g,0,null,!1,!1,!1,!1),0<G&&(e.beginPath(),e.lineWidth=G,e.moveTo(h+W/2,u-F),e.lineTo(h-W/2,u-F),e.stroke(),e.moveTo(h+W/2,d+F),e.lineTo(h-W/2,d+F),e.stroke())),(C[s].indexLabel||D.indexLabel||C[s].indexLabelFormatter||D.indexLabelFormatter)&&this._indexLabels.push({chartType:D.type,dataPoint:C[s],dataSeries:D,point:{x:L+(O-L)/2,y:t.axisY.reversed?d:u},direction:1,bounds:{x1:L,y1:Math.min(d,u),x2:O,y2:Math.max(d,u)},color:g})}}}return N&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),e.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Tt.fadeInAnimation,easingFunction:Tt.easing.easeInQuad,animationBase:0}}},w.prototype.renderRangeColumn=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,n=N?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=null,a=this.plotArea,b=0,h,d,_,b=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var u=t.axisX.dataInfo.minDiff;isFinite(u)||(u=.3*Math.abs(t.axisX.range)),u=this.options.dataPointWidth?this.dataPointWidth:.9*(a.width*(t.axisX.logarithmic?Math.log(u)/Math.log(t.axisX.range):Math.abs(u)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&b>h&&(b=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<b&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,b)),u<b&&(u=b),u>h&&(u=h),n.save(),N&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),N&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var p=0;p<t.dataSeriesIndexes.length;p++){var m=t.dataSeriesIndexes[p],g=this.data[m],s=g.dataPoints;if(0<s.length){for(var y=!!(5<u&&g.bevelEnabled),b=0;b<s.length;b++)if(s[b].getTime?_=s[b].x.getTime():_=s[b].x,!(_<t.axisX.dataInfo.viewPortMin||_>t.axisX.dataInfo.viewPortMax)&&!P(s[b].y)&&s[b].y.length&&typeof s[b].y[0]=="number"&&typeof s[b].y[1]=="number"){e=t.axisX.convertValueToPixel(_),h=t.axisY.convertValueToPixel(s[b].y[0]),d=t.axisY.convertValueToPixel(s[b].y[1]);var M=t.axisX.reversed?e+t.plotType.totalDataSeries*u/2-(t.previousDataSeriesCount+p)*u<<0:e-t.plotType.totalDataSeries*u/2+(t.previousDataSeriesCount+p)*u<<0,T=t.axisX.reversed?M-u<<0:M+u<<0,e=s[b].color?s[b].color:g._colorSet[b%g._colorSet.length];if(h>d){var x=h;h=d,d=x}x=g.dataPointIds[b],this._eventManager.objectMap[x]={id:x,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:b,x1:M,y1:h,x2:T,y2:d},We(n,t.axisX.reversed?T:M,h,t.axisX.reversed?M:T,d,e,0,e,y,y,!1,!1,g.fillOpacity),e=z(x),N&&We(this._eventManager.ghostCtx,t.axisX.reversed?T:M,h,t.axisX.reversed?M:T,d,e,0,null,!1,!1,!1,!1),(s[b].indexLabel||g.indexLabel||s[b].indexLabelFormatter||g.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:s[b],dataSeries:g,indexKeyword:0,point:{x:M+(T-M)/2,y:s[b].y[1]>=s[b].y[0]?d:h},direction:s[b].y[1]>=s[b].y[0]?-1:1,bounds:{x1:M,y1:Math.min(h,d),x2:T,y2:Math.max(h,d)},color:e}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:s[b],dataSeries:g,indexKeyword:1,point:{x:M+(T-M)/2,y:s[b].y[1]>=s[b].y[0]?h:d},direction:s[b].y[1]>=s[b].y[0]?1:-1,bounds:{x1:M,y1:Math.min(h,d),x2:T,y2:Math.max(h,d)},color:e}))}}}return N&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Tt.fadeInAnimation,easingFunction:Tt.easing.easeInQuad,animationBase:0}}},w.prototype.renderError=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,n=N?this._preRenderCtx:o,e=t.axisY._position?!(t.axisY._position==="left"||t.axisY._position==="right"):!1;if(!(0>=t.dataSeriesIndexes.length)){var a=null,h=!1,d=this.plotArea,_=0,b,u,p,m,g,s,y,M=t.axisX.dataInfo.minDiff;isFinite(M)||(M=.3*Math.abs(t.axisX.range)),n.save(),N&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(d.x1,d.y1,d.width,d.height),n.clip(),N&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.clip());for(var T=0,x=0;x<this.data.length;x++)!this.data[x].type.match(/(bar|column)/ig)||!this.data[x].visible||this.data[x].type.match(/(stacked)/ig)&&T||T++;for(var D=0;D<t.dataSeriesIndexes.length;D++){var C=t.dataSeriesIndexes[D],R=this.data[C],L=R.dataPoints,O=P(R._linkedSeries)?!1:!!(R._linkedSeries.type.match(/(bar|column)/ig)&&R._linkedSeries.visible),J=0;if(O)for(a=R._linkedSeries.id,x=0;x<a;x++)!this.data[x].type.match(/(bar|column)/ig)||!this.data[x].visible||this.data[x].type.match(/(stacked)/ig)&&J||(this.data[x].type.match(/(range)/ig)&&(h=!0),J++);if(a=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,_=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:e?Math.min(.15*this.height,.9*(this.plotArea.height/(O?T:1)))<<0:.3*this.width,h&&(_=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:e?Math.min(.15*this.height,.9*(this.plotArea.height/(O?T:1)))<<0:.03*this.width),x=this.options.dataPointWidth?this.dataPointWidth:.9*((e?d.height:d.width)*(t.axisX.logarithmic?Math.log(M)/Math.log(t.axisX.range):Math.abs(M)/Math.abs(t.axisX.range))/(O?T:1))<<0,this.dataPointMaxWidth&&a>_&&(a=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,_)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&_<a&&(_=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,a)),x<a&&(x=a),x>_&&(x=_),0<L.length)for(var it=R._colorSet,_=0;_<L.length;_++){var a=R.lineColor=R.options.color?R.options.color:it[0],j={color:L[_].whiskerColor?L[_].whiskerColor:L[_].color?R.whiskerColor?R.whiskerColor:L[_].color:R.whiskerColor?R.whiskerColor:a,thickness:P(L[_].whiskerThickness)?R.whiskerThickness:L[_].whiskerThickness,dashType:L[_].whiskerDashType?L[_].whiskerDashType:R.whiskerDashType,length:P(L[_].whiskerLength)?P(R.options.whiskerLength)?x:R.options.whiskerLength:L[_].whiskerLength,trimLength:P(L[_].whiskerLength)&&P(R.options.whiskerLength)?50:0};j.length=typeof j.length=="number"?0>=j.length?0:j.length>=x?x:j.length:typeof j.length=="string"?parseInt(j.length)*x/100>x?x:parseInt(j.length)*x/100>x:x,j.thickness=typeof j.thickness=="number"?0>j.thickness?0:Math.round(j.thickness):2;var G={color:L[_].stemColor?L[_].stemColor:L[_].color?R.stemColor?R.stemColor:L[_].color:R.stemColor?R.stemColor:a,thickness:L[_].stemThickness?L[_].stemThickness:R.stemThickness,dashType:L[_].stemDashType?L[_].stemDashType:R.stemDashType};if(G.thickness=typeof G.thickness=="number"?0>G.thickness?0:Math.round(G.thickness):2,L[_].getTime?y=L[_].x.getTime():y=L[_].x,!(y<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax)&&!P(L[_].y)&&L[_].y.length&&typeof L[_].y[0]=="number"&&typeof L[_].y[1]=="number"){var X=t.axisX.convertValueToPixel(y);e?u=X:b=X,X=t.axisY.convertValueToPixel(L[_].y[0]),e?p=X:g=X,X=t.axisY.convertValueToPixel(L[_].y[1]),e?m=X:s=X,e?(g=t.axisX.reversed?u+(O?T:1)*x/2-(O?J-1:0)*x<<0:u-(O?T:1)*x/2+(O?J-1:0)*x<<0,s=t.axisX.reversed?g-x<<0:g+x<<0):(p=t.axisX.reversed?b+(O?T:1)*x/2-(O?J-1:0)*x<<0:b-(O?T:1)*x/2+(O?J-1:0)*x<<0,m=t.axisX.reversed?p-x<<0:p+x<<0),!e&&g>s&&(X=g,g=s,s=X),e&&p>m&&(X=p,p=m,m=X),X=R.dataPointIds[_],this._eventManager.objectMap[X]={id:X,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:_,x1:Math.min(p,m),y1:Math.min(g,s),x2:Math.max(m,p),y2:Math.max(s,g),isXYSwapped:e,stemProperties:G,whiskerProperties:j},K(n,Math.min(p,m),Math.min(g,s),Math.max(m,p),Math.max(s,g),a,j,G,e),N&&K(this._eventManager.ghostCtx,p,g,m,s,a,j,G,e),(L[_].indexLabel||R.indexLabel||L[_].indexLabelFormatter||R.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:L[_],dataSeries:R,indexKeyword:0,point:{x:e?L[_].y[1]>=L[_].y[0]?p:m:p+(m-p)/2,y:e?g+(s-g)/2:L[_].y[1]>=L[_].y[0]?s:g},direction:L[_].y[1]>=L[_].y[0]?-1:1,bounds:{x1:e?Math.min(p,m):p,y1:e?g:Math.min(g,s),x2:e?Math.max(p,m):m,y2:e?s:Math.max(g,s)},color:a,axisSwapped:e}),this._indexLabels.push({chartType:"error",dataPoint:L[_],dataSeries:R,indexKeyword:1,point:{x:e?L[_].y[1]>=L[_].y[0]?m:p:p+(m-p)/2,y:e?g+(s-g)/2:L[_].y[1]>=L[_].y[0]?g:s},direction:L[_].y[1]>=L[_].y[0]?1:-1,bounds:{x1:e?Math.min(p,m):p,y1:e?g:Math.min(g,s),x2:e?Math.max(p,m):m,y2:e?s:Math.max(g,s)},color:a,axisSwapped:e}))}}}return N&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Tt.fadeInAnimation,easingFunction:Tt.easing.easeInQuad,animationBase:0}}},w.prototype.renderRangeBar=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,n=N?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=null,a=this.plotArea,u=0,h,d,_,b,u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,.9*(this.plotArea.height/t.plotType.totalDataSeries))<<0;var p=t.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(t.axisX.range)),p=this.options.dataPointWidth?this.dataPointWidth:.9*(a.height*(t.axisX.logarithmic?Math.log(p)/Math.log(t.axisX.range):Math.abs(p)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&u>h&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<u&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),p<u&&(p=u),p>h&&(p=h),n.save(),N&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),N&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var g=t.dataSeriesIndexes[m],s=this.data[g],y=s.dataPoints;if(0<y.length){var M=!!(5<p&&s.bevelEnabled);for(n.strokeStyle="#4572A7 ",u=0;u<y.length;u++)if(y[u].getTime?b=y[u].x.getTime():b=y[u].x,!(b<t.axisX.dataInfo.viewPortMin||b>t.axisX.dataInfo.viewPortMax)&&!P(y[u].y)&&y[u].y.length&&typeof y[u].y[0]=="number"&&typeof y[u].y[1]=="number"){h=t.axisY.convertValueToPixel(y[u].y[0]),d=t.axisY.convertValueToPixel(y[u].y[1]),_=t.axisX.convertValueToPixel(b),_=t.axisX.reversed?_+t.plotType.totalDataSeries*p/2-(t.previousDataSeriesCount+m)*p<<0:_-t.plotType.totalDataSeries*p/2+(t.previousDataSeriesCount+m)*p<<0;var T=t.axisX.reversed?_-p<<0:_+p<<0;h>d&&(e=h,h=d,d=e),e=y[u].color?y[u].color:s._colorSet[u%s._colorSet.length],We(n,h,t.axisX.reversed?T:_,d,t.axisX.reversed?_:T,e,0,null,M,!1,!1,!1,s.fillOpacity),e=s.dataPointIds[u],this._eventManager.objectMap[e]={id:e,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:u,x1:h,y1:_,x2:d,y2:T},e=z(e),N&&We(this._eventManager.ghostCtx,h,t.axisX.reversed?T:_,d,t.axisX.reversed?_:T,e,0,null,!1,!1,!1,!1),(y[u].indexLabel||s.indexLabel||y[u].indexLabelFormatter||s.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:y[u],dataSeries:s,indexKeyword:0,point:{x:y[u].y[1]>=y[u].y[0]?h:d,y:_+(T-_)/2},direction:y[u].y[1]>=y[u].y[0]?-1:1,bounds:{x1:Math.min(h,d),y1:_,x2:Math.max(h,d),y2:T},color:e}),this._indexLabels.push({chartType:"rangeBar",dataPoint:y[u],dataSeries:s,indexKeyword:1,point:{x:y[u].y[1]>=y[u].y[0]?d:h,y:_+(T-_)/2},direction:y[u].y[1]>=y[u].y[0]?1:-1,bounds:{x1:Math.min(h,d),y1:_,x2:Math.max(h,d),y2:T},color:e}))}}}return N&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Tt.fadeInAnimation,easingFunction:Tt.easing.easeInQuad,animationBase:0}}},w.prototype.renderRangeArea=function(t){function o(){if(D){for(var W=null,F=b.length-1;0<=F;F--)W=b[F],e.lineTo(W.x,W.y2),a.lineTo(W.x,W.y2);if(e.closePath(),e.globalAlpha=p.fillOpacity,e.fill(),e.globalAlpha=1,a.fill(),0<p.lineThickness){for(e.beginPath(),e.moveTo(W.x,W.y2),F=0;F<b.length;F++)W=b[F],e.lineTo(W.x,W.y2);for(e.moveTo(b[0].x,b[0].y1),F=0;F<b.length;F++)W=b[F],e.lineTo(W.x,W.y1);e.stroke()}e.beginPath(),e.moveTo(y,M),a.beginPath(),a.moveTo(y,M),D={x:y,y:M},b=[],b.push({x:y,y1:M,y2:T})}}var n=t.targetCanvasCtx||this.plotArea.ctx,e=N?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx,h=[],d=this.plotArea;e.save(),N&&a.save(),e.beginPath(),e.rect(d.x1,d.y1,d.width,d.height),e.clip(),N&&(a.beginPath(),a.rect(d.x1,d.y1,d.width,d.height),a.clip());for(var _=0;_<t.dataSeriesIndexes.length;_++){var b=[],u=t.dataSeriesIndexes[_],p=this.data[u],m=p.dataPoints,h=p.id;this._eventManager.objectMap[h]={objectType:"dataSeries",dataSeriesIndex:u},h=z(h),a.fillStyle=h;var h=[],g=!0,s=0,y,M,T,x,D=null;if(0<m.length){var C=p._colorSet[s%p._colorSet.length],R=p.lineColor=p.options.lineColor||C,L=R;e.fillStyle=C,e.strokeStyle=R,e.lineWidth=p.lineThickness;var O="solid";if(e.setLineDash){var J=wt(p.nullDataLineDashType,p.lineThickness),O=p.lineDashType,it=wt(O,p.lineThickness);e.setLineDash(it)}for(var j=!0;s<m.length;s++)if(x=m[s].x.getTime?m[s].x.getTime():m[s].x,!(x<t.axisX.dataInfo.viewPortMin||x>t.axisX.dataInfo.viewPortMax&&(!p.connectNullData||!j)))if(m[s].y!==null&&m[s].y.length&&typeof m[s].y[0]=="number"&&typeof m[s].y[1]=="number"){if(y=t.axisX.convertValueToPixel(x),M=t.axisY.convertValueToPixel(m[s].y[0]),T=t.axisY.convertValueToPixel(m[s].y[1]),g||j?(p.connectNullData&&!g?(e.setLineDash&&(p.options.nullDataLineDashType||O===p.lineDashType&&p.lineDashType!==p.nullDataLineDashType)&&(b[b.length-1].newLineDashArray=it,O=p.nullDataLineDashType,e.setLineDash(J)),e.lineTo(y,M),N&&a.lineTo(y,M),b.push({x:y,y1:M,y2:T})):(e.beginPath(),e.moveTo(y,M),D={x:y,y:M},b=[],b.push({x:y,y1:M,y2:T}),N&&(a.beginPath(),a.moveTo(y,M))),j=g=!1):(e.lineTo(y,M),b.push({x:y,y1:M,y2:T}),N&&a.lineTo(y,M),s%250==0&&o()),x=p.dataPointIds[s],this._eventManager.objectMap[x]={id:x,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:s,x1:y,y1:M,y2:T},s<m.length-1&&(L!==(m[s].lineColor||R)||O!==(m[s].lineDashType||p.lineDashType))&&(o(),L=m[s].lineColor||R,b[b.length-1].newStrokeStyle=L,e.strokeStyle=L,e.setLineDash&&(m[s].lineDashType?(O=m[s].lineDashType,b[b.length-1].newLineDashArray=wt(O,p.lineThickness),e.setLineDash(b[b.length-1].newLineDashArray)):(O=p.lineDashType,b[b.length-1].newLineDashArray=it,e.setLineDash(it)))),m[s].markerSize!==0&&(0<m[s].markerSize||0<p.markerSize)){var G=p.getMarkerProperties(s,y,T,e);h.push(G);var X=z(x);N&&h.push({x:y,y:T,ctx:a,type:G.type,size:G.size,color:X,borderColor:X,borderThickness:G.borderThickness}),G=p.getMarkerProperties(s,y,M,e),h.push(G),X=z(x),N&&h.push({x:y,y:M,ctx:a,type:G.type,size:G.size,color:X,borderColor:X,borderThickness:G.borderThickness})}(m[s].indexLabel||p.indexLabel||m[s].indexLabelFormatter||p.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:m[s],dataSeries:p,indexKeyword:0,point:{x:y,y:M},direction:m[s].y[0]>m[s].y[1]===t.axisY.reversed?-1:1,color:C}),this._indexLabels.push({chartType:"rangeArea",dataPoint:m[s],dataSeries:p,indexKeyword:1,point:{x:y,y:T},direction:m[s].y[0]>m[s].y[1]===t.axisY.reversed?1:-1,color:C}))}else j||g||o(),j=!0;o(),Se.drawMarkers(h)}}return N&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Tt.xClipAnimation,easingFunction:Tt.easing.linear,animationBase:0}}},w.prototype.renderRangeSplineArea=function(t){function o(G,X){var W=E(M,2);if(0<W.length){if(0<u.lineThickness){e.strokeStyle=X,e.setLineDash&&e.setLineDash(G),e.beginPath(),e.moveTo(W[0].x,W[0].y);for(var F=0;F<W.length-3;F+=3)(W[F].newStrokeStyle||W[F].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(W[F].x,W[F].y),W[F].newStrokeStyle&&(e.strokeStyle=W[F].newStrokeStyle),W[F].newLineDashArray&&e.setLineDash(W[F].newLineDashArray)),e.bezierCurveTo(W[F+1].x,W[F+1].y,W[F+2].x,W[F+2].y,W[F+3].x,W[F+3].y)}for(e.beginPath(),e.moveTo(W[0].x,W[0].y),N&&(a.beginPath(),a.moveTo(W[0].x,W[0].y)),F=0;F<W.length-3;F+=3)e.bezierCurveTo(W[F+1].x,W[F+1].y,W[F+2].x,W[F+2].y,W[F+3].x,W[F+3].y),N&&a.bezierCurveTo(W[F+1].x,W[F+1].y,W[F+2].x,W[F+2].y,W[F+3].x,W[F+3].y);for(W=E(T,2),e.lineTo(T[T.length-1].x,T[T.length-1].y),F=W.length-1;2<F;F-=3)e.bezierCurveTo(W[F-1].x,W[F-1].y,W[F-2].x,W[F-2].y,W[F-3].x,W[F-3].y),N&&a.bezierCurveTo(W[F-1].x,W[F-1].y,W[F-2].x,W[F-2].y,W[F-3].x,W[F-3].y);if(e.closePath(),e.globalAlpha=u.fillOpacity,e.fill(),N&&(a.closePath(),a.fill()),e.globalAlpha=1,0<u.lineThickness){e.strokeStyle=X,e.setLineDash&&e.setLineDash(G),e.beginPath(),e.moveTo(W[0].x,W[0].y);for(var Q=F=0;F<W.length-3;F+=3,Q++)(M[Q].newStrokeStyle||M[Q].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(W[F].x,W[F].y),M[Q].newStrokeStyle&&(e.strokeStyle=M[Q].newStrokeStyle),M[Q].newLineDashArray&&e.setLineDash(M[Q].newLineDashArray)),e.bezierCurveTo(W[F+1].x,W[F+1].y,W[F+2].x,W[F+2].y,W[F+3].x,W[F+3].y);for(W=E(M,2),e.moveTo(W[0].x,W[0].y),Q=F=0;F<W.length-3;F+=3,Q++)(M[Q].newStrokeStyle||M[Q].newLineDashArray)&&(e.stroke(),e.beginPath(),e.moveTo(W[F].x,W[F].y),M[Q].newStrokeStyle&&(e.strokeStyle=M[Q].newStrokeStyle),M[Q].newLineDashArray&&e.setLineDash(M[Q].newLineDashArray)),e.bezierCurveTo(W[F+1].x,W[F+1].y,W[F+2].x,W[F+2].y,W[F+3].x,W[F+3].y);e.stroke()}e.beginPath()}}var n=t.targetCanvasCtx||this.plotArea.ctx,e=N?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var a=this._eventManager.ghostCtx,h=[],d=this.plotArea;e.save(),N&&a.save(),e.beginPath(),e.rect(d.x1,d.y1,d.width,d.height),e.clip(),N&&(a.beginPath(),a.rect(d.x1,d.y1,d.width,d.height),a.clip());for(var _=0;_<t.dataSeriesIndexes.length;_++){var b=t.dataSeriesIndexes[_],u=this.data[b],p=u.dataPoints,h=u.id;this._eventManager.objectMap[h]={objectType:"dataSeries",dataSeriesIndex:b},h=z(h),a.fillStyle=h;var h=[],m=0,g,s,y,M=[],T=[];if(0<p.length){var x=u._colorSet[m%u._colorSet.length],D=u.lineColor=u.options.lineColor||x,C=D;e.fillStyle=x,e.lineWidth=u.lineThickness;var R="solid",L;if(e.setLineDash){var O=wt(u.nullDataLineDashType,u.lineThickness),R=u.lineDashType;L=wt(R,u.lineThickness)}for(s=!1;m<p.length;m++)if(g=p[m].x.getTime?p[m].x.getTime():p[m].x,!(g<t.axisX.dataInfo.viewPortMin||g>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!s)))if(p[m].y!==null&&p[m].y.length&&typeof p[m].y[0]=="number"&&typeof p[m].y[1]=="number"){g=t.axisX.convertValueToPixel(g),s=t.axisY.convertValueToPixel(p[m].y[0]),y=t.axisY.convertValueToPixel(p[m].y[1]);var J=u.dataPointIds[m];if(this._eventManager.objectMap[J]={id:J,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:m,x1:g,y1:s,y2:y},M[M.length]={x:g,y:s},T[T.length]={x:g,y},m<p.length-1&&(C!==(p[m].lineColor||D)||R!==(p[m].lineDashType||u.lineDashType))&&(C=p[m].lineColor||D,M[M.length-1].newStrokeStyle=C,e.setLineDash&&(p[m].lineDashType?(R=p[m].lineDashType,M[M.length-1].newLineDashArray=wt(R,u.lineThickness)):(R=u.lineDashType,M[M.length-1].newLineDashArray=L))),p[m].markerSize!==0&&(0<p[m].markerSize||0<u.markerSize)){var it=u.getMarkerProperties(m,g,s,e);h.push(it);var j=z(J);N&&h.push({x:g,y:s,ctx:a,type:it.type,size:it.size,color:j,borderColor:j,borderThickness:it.borderThickness}),it=u.getMarkerProperties(m,g,y,e),h.push(it),j=z(J),N&&h.push({x:g,y,ctx:a,type:it.type,size:it.size,color:j,borderColor:j,borderThickness:it.borderThickness})}(p[m].indexLabel||u.indexLabel||p[m].indexLabelFormatter||u.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:p[m],dataSeries:u,indexKeyword:0,point:{x:g,y:s},direction:p[m].y[0]<=p[m].y[1]?-1:1,color:x}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:p[m],dataSeries:u,indexKeyword:1,point:{x:g,y},direction:p[m].y[0]<=p[m].y[1]?1:-1,color:x})),s=!1}else 0<m&&!s&&(u.connectNullData?e.setLineDash&&0<M.length&&(u.options.nullDataLineDashType||!p[m-1].lineDashType)&&(M[M.length-1].newLineDashArray=O,R=u.nullDataLineDashType):(o(L,D),M=[],T=[])),s=!0;o(L,D),Se.drawMarkers(h)}}return N&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&e.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&e.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),e.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),e.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Tt.xClipAnimation,easingFunction:Tt.easing.linear,animationBase:0}}},w.prototype.renderWaterfall=function(t){var o=t.targetCanvasCtx||this.plotArea.ctx,n=N?this._preRenderCtx:o;if(!(0>=t.dataSeriesIndexes.length)){var e=this._eventManager.ghostCtx,a=null,h=this.plotArea,m=0,d,_,b,u,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),m=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1;_=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,.9*(this.plotArea.width/t.plotType.totalDataSeries))<<0;var g=t.axisX.dataInfo.minDiff;isFinite(g)||(g=.3*Math.abs(t.axisX.range)),g=this.options.dataPointWidth?this.dataPointWidth:.6*(h.width*(t.axisX.logarithmic?Math.log(g)/Math.log(t.axisX.range):Math.abs(g)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries)<<0,this.dataPointMaxWidth&&m>_&&(m=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,_)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&_<m&&(_=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,m)),g<m&&(g=m),g>_&&(g=_),n.save(),N&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(h.x1,h.y1,h.width,h.height),n.clip(),N&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.clip());for(var s=0;s<t.dataSeriesIndexes.length;s++){var y=t.dataSeriesIndexes[s],M=this.data[y],T=M.dataPoints,a=M._colorSet[0];M.risingColor=M.options.risingColor?M.options.risingColor:a,M.fallingColor=M.options.fallingColor?M.options.fallingColor:"#e40a0a";var x=typeof M.options.lineThickness=="number"?Math.round(M.lineThickness):1,D=Math.round(x)%2===1?-.5:0;if(0<T.length)for(var C=!!(5<g&&M.bevelEnabled),R=!1,L=null,O=null,m=0;m<T.length;m++)if(T[m].getTime?u=T[m].x.getTime():u=T[m].x,typeof T[m].y!="number"){if(0<m&&!R&&M.connectNullData)var J=M.options.nullDataLineDashType||!T[m-1].lineDashType?M.nullDataLineDashType:T[m-1].lineDashType;R=!0}else{d=t.axisX.convertValueToPixel(u),_=M.dataPointEOs[m].cumulativeSum===0?p:t.axisY.convertValueToPixel(M.dataPointEOs[m].cumulativeSum),b=M.dataPointEOs[m].cumulativeSumYStartValue===0?p:t.axisY.convertValueToPixel(M.dataPointEOs[m].cumulativeSumYStartValue),d=t.axisX.reversed?d+t.plotType.totalDataSeries*g/2-(t.previousDataSeriesCount+s)*g<<0:d-t.plotType.totalDataSeries*g/2+(t.previousDataSeriesCount+s)*g<<0;var it=t.axisX.reversed?d-g<<0:d+g<<0;_>b&&(a=_,_=b,b=a),t.axisY.reversed&&(a=_,_=b,b=a),a=M.dataPointIds[m],this._eventManager.objectMap[a]={id:a,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:m,x1:d,y1:_,x2:it,y2:b};var G=T[m].color?T[m].color:0<T[m].y?M.risingColor:M.fallingColor;We(n,t.axisX.reversed?it:d,t.axisY.reversed?b:_,t.axisX.reversed?d:it,t.axisY.reversed?_:b,G,0,G,C,C,!1,!1,M.fillOpacity),a=z(a),N&&We(this._eventManager.ghostCtx,t.axisX.reversed?it:d,_,t.axisX.reversed?d:it,b,a,0,null,!1,!1,!1,!1);var j,G=d;j=typeof T[m].isIntermediateSum<"u"&&T[m].isIntermediateSum===!0||typeof T[m].isCumulativeSum<"u"&&T[m].isCumulativeSum===!0?0<T[m].y?_:b:0<T[m].y?b:_,0<m&&L&&(!R||M.connectNullData)&&(R&&n.setLineDash&&n.setLineDash(wt(J,x)),n.beginPath(),n.moveTo(L,O-D),n.lineTo(G,j-D),0<x&&n.stroke(),N&&(e.beginPath(),e.moveTo(L,O-D),e.lineTo(G,j-D),0<x&&e.stroke())),R=!1,L=it,O=0<T[m].y?_:b,G=T[m].lineDashType?T[m].lineDashType:M.options.lineDashType?M.options.lineDashType:"shortDash",n.strokeStyle=T[m].lineColor?T[m].lineColor:M.options.lineColor?M.options.lineColor:"#9e9e9e",n.lineWidth=x,n.setLineDash&&(G=wt(G,x),n.setLineDash(G)),(T[m].indexLabel||M.indexLabel||T[m].indexLabelFormatter||M.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:T[m],dataSeries:M,point:{x:d+(it-d)/2,y:0<=T[m].y?_:b},direction:0>T[m].y===t.axisY.reversed?1:-1,bounds:{x1:d,y1:Math.min(_,b),x2:it,y2:Math.max(_,b)},color:a})}}return N&&(o.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(h.x1,h.y1,h.width,h.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:o,dest:this.plotArea.ctx,animationCallback:Tt.fadeInAnimation,easingFunction:Tt.easing.easeInQuad,animationBase:0}}};var Wi=function(t,o,n,e,a,h,d,_,b){if(!(0>n)){if(typeof _>"u"&&(_=1),!N){var u=Number((d%(2*Math.PI)).toFixed(8));Number((h%(2*Math.PI)).toFixed(8))===u&&(d-=1e-4)}t.save(),t.globalAlpha=_,a==="pie"?(t.beginPath(),t.moveTo(o.x,o.y),t.arc(o.x,o.y,n,h,d,!1),t.fillStyle=e,t.strokeStyle="white",t.lineWidth=2,t.closePath(),t.fill()):a==="doughnut"&&(t.beginPath(),t.arc(o.x,o.y,n,h,d,!1),0<=b&&t.arc(o.x,o.y,b*n,d,h,!0),t.closePath(),t.fillStyle=e,t.strokeStyle="white",t.lineWidth=2,t.fill()),t.globalAlpha=1,t.restore()}};w.prototype.renderPie=function(t){function o(){if(u&&p){var j=0,G=0,X=0,W=0;P(u.options.indexLabelMaxWidth)&&(u.indexLabelMaxWidth=.33*g.width);for(var F=0;F<p.length;F++){var Q=p[F],nt=u.dataPointIds[F];s[F].id=nt,s[F].objectType="dataPoint",s[F].dataPointIndex=F,s[F].dataSeriesIndex=0;var V=s[F],Gt={percent:null,total:null},Ht=null,Gt=b.getPercentAndTotal(u,Q);(u.indexLabelFormatter||Q.indexLabelFormatter)&&(Ht={chart:b.options,dataSeries:u,dataPoint:Q,total:Gt.total,percent:Gt.percent}),Gt=Q.indexLabelFormatter?Q.indexLabelFormatter(Ht):Q.indexLabel?b.replaceKeywordsWithValue(Q.indexLabel,Q,u,F):u.indexLabelFormatter?u.indexLabelFormatter(Ht):u.indexLabel?b.replaceKeywordsWithValue(u.indexLabel,Q,u,F):Q.label?Q.label:"",b._eventManager.objectMap[nt]=V,V.center={x:C.x,y:C.y},V.y=Q.y,V.radius=O,V.percentInnerRadius=it,V.indexLabelText=Gt,V.indexLabelPlacement=u.indexLabelPlacement,V.indexLabelLineColor=Q.indexLabelLineColor?Q.indexLabelLineColor:u.options.indexLabelLineColor?u.options.indexLabelLineColor:Q.color?Q.color:u._colorSet[F%u._colorSet.length],V.indexLabelLineThickness=P(Q.indexLabelLineThickness)?u.indexLabelLineThickness:Q.indexLabelLineThickness,V.indexLabelLineDashType=Q.indexLabelLineDashType?Q.indexLabelLineDashType:u.indexLabelLineDashType,V.indexLabelFontColor=Q.indexLabelFontColor?Q.indexLabelFontColor:u.indexLabelFontColor,V.indexLabelFontStyle=Q.indexLabelFontStyle?Q.indexLabelFontStyle:u.indexLabelFontStyle,V.indexLabelFontWeight=Q.indexLabelFontWeight?Q.indexLabelFontWeight:u.indexLabelFontWeight,V.indexLabelFontSize=P(Q.indexLabelFontSize)?u.indexLabelFontSize:Q.indexLabelFontSize,V.indexLabelFontFamily=Q.indexLabelFontFamily?Q.indexLabelFontFamily:u.indexLabelFontFamily,V.indexLabelBackgroundColor=Q.indexLabelBackgroundColor?Q.indexLabelBackgroundColor:u.options.indexLabelBackgroundColor?u.options.indexLabelBackgroundColor:u.indexLabelBackgroundColor,V.indexLabelBorderColor=Q.indexLabelBorderColor?Q.indexLabelBorderColor:u.options.indexLabelBorderColor?u.options.indexLabelBorderColor:u.indexLabelBorderColor,V.indexLabelBorderThickness=Q.indexLabelBorderThickness?Q.indexLabelBorderThickness:u.options.indexLabelBorderThickness?u.options.indexLabelBorderThickness:u.indexLabelBorderThickness,V.indexLabelMaxWidth=Q.indexLabelMaxWidth?Q.indexLabelMaxWidth:u.indexLabelMaxWidth,V.indexLabelWrap=typeof Q.indexLabelWrap<"u"?Q.indexLabelWrap:u.indexLabelWrap,V.indexLabelTextAlign=Q.indexLabelTextAlign?Q.indexLabelTextAlign:u.indexLabelTextAlign?u.indexLabelTextAlign:"left",V.startAngle=F===0?u.startAngle?u.startAngle/180*Math.PI:0:s[F-1].endAngle,V.startAngle=(V.startAngle+2*Math.PI)%(2*Math.PI),V.endAngle=V.startAngle+2*Math.PI/R*Math.abs(Q.y),Q=(V.endAngle+V.startAngle)/2,Q=(Q+2*Math.PI)%(2*Math.PI),V.midAngle=Q,V.midAngle>Math.PI/2-x&&V.midAngle<Math.PI/2+x?((j===0||s[X].midAngle>V.midAngle)&&(X=F),j++):V.midAngle>3*Math.PI/2-x&&V.midAngle<3*Math.PI/2+x&&((G===0||s[W].midAngle>V.midAngle)&&(W=F),G++),V.hemisphere=Q>Math.PI/2&&Q<=3*Math.PI/2?"left":"right",V.indexLabelTextBlock=new te(b.plotArea.ctx,{fontSize:V.indexLabelFontSize,fontFamily:V.indexLabelFontFamily,fontColor:V.indexLabelFontColor,fontStyle:V.indexLabelFontStyle,fontWeight:V.indexLabelFontWeight,textAlign:V.indexLabelTextAlign,backgroundColor:V.indexLabelBackgroundColor,borderColor:V.indexLabelBorderColor,borderThickness:V.indexLabelBorderThickness,maxWidth:V.indexLabelMaxWidth,maxHeight:V.indexLabelWrap?5*V.indexLabelFontSize:1.5*V.indexLabelFontSize,text:V.indexLabelText,padding:0,textBaseline:"middle"}),V.indexLabelTextBlock.measureText()}for(nt=Q=0,Gt=!1,F=0;F<p.length;F++)V=s[(X+F)%p.length],1<j&&V.midAngle>Math.PI/2-x&&V.midAngle<Math.PI/2+x&&(Q<=j/2&&!Gt?(V.hemisphere="right",Q++):(V.hemisphere="left",Gt=!0));for(Gt=!1,F=0;F<p.length;F++)V=s[(W+F)%p.length],1<G&&V.midAngle>3*Math.PI/2-x&&V.midAngle<3*Math.PI/2+x&&(nt<=G/2&&!Gt?(V.hemisphere="left",nt++):(V.hemisphere="right",Gt=!0))}}function n(j,G){var X=b.plotArea.ctx;for(X.clearRect(g.x1,g.y1,g.width,g.height),X.fillStyle=b.backgroundColor,X.fillRect(g.x1,g.y1,g.width,g.height),X=0;X<p.length;X++){var W=s[X].startAngle,F=s[X].endAngle;if(F>W){var Q=.07*O*Math.cos(s[X].midAngle),nt=.07*O*Math.sin(s[X].midAngle),V=!1;p[X].exploded?(1e-9<Math.abs(s[X].center.x-(C.x+Q))||1e-9<Math.abs(s[X].center.y-(C.y+nt)))&&(s[X].center.x=C.x+Q*j,s[X].center.y=C.y+nt*j,V=!0):(0<Math.abs(s[X].center.x-C.x)||0<Math.abs(s[X].center.y-C.y))&&(s[X].center.x=C.x+Q*(1-j),s[X].center.y=C.y+nt*(1-j),V=!0),V&&G&&(Q={},Q.dataSeries=u,Q.dataPoint=u.dataPoints[X],Q.index=X,b.toolTip.highlightObjects([Q])),Wi(b.plotArea.ctx,s[X].center,s[X].radius,p[X].color?p[X].color:u._colorSet[X%u._colorSet.length],u.type,W,F,u.fillOpacity,s[X].percentInnerRadius)}}for(X=b.plotArea.ctx,X.save(),X.fillStyle="black",X.strokeStyle="grey",X.textBaseline="middle",X.lineJoin="round",W=W=0;W<p.length;W++)F=s[W],F.indexLabelText&&(F.indexLabelTextBlock.y-=F.indexLabelTextBlock.height/2-F.indexLabelTextBlock.fontSize/2,Q=0,Q=F.hemisphere==="left"?u.indexLabelPlacement!=="inside"?-(F.indexLabelTextBlock.width+m):-F.indexLabelTextBlock.width/2:u.indexLabelPlacement!=="inside"?m:-F.indexLabelTextBlock.width/2,F.indexLabelTextBlock.x+=Q,F.indexLabelTextBlock.render(!0),F.indexLabelTextBlock.x-=Q,F.indexLabelTextBlock.y+=F.indexLabelTextBlock.height/2-F.indexLabelTextBlock.fontSize/2,F.indexLabelPlacement!=="inside"&&0<F.indexLabelLineThickness&&(Q=F.center.x+O*Math.cos(F.midAngle),nt=F.center.y+O*Math.sin(F.midAngle),X.strokeStyle=F.indexLabelLineColor,X.lineWidth=F.indexLabelLineThickness,X.setLineDash&&X.setLineDash(wt(F.indexLabelLineDashType,F.indexLabelLineThickness)),X.beginPath(),X.moveTo(Q,nt),X.lineTo(F.indexLabelTextBlock.x,F.indexLabelTextBlock.y),X.lineTo(F.indexLabelTextBlock.x+(F.hemisphere==="left"?-m:m),F.indexLabelTextBlock.y),X.stroke()),X.lineJoin="miter");X.save()}function e(j,G){var X=0,X=j.indexLabelTextBlock.y-j.indexLabelTextBlock.height/2,W=j.indexLabelTextBlock.y+j.indexLabelTextBlock.height/2,F=G.indexLabelTextBlock.y-G.indexLabelTextBlock.height/2,Q=G.indexLabelTextBlock.y+G.indexLabelTextBlock.height/2;return X=G.indexLabelTextBlock.y>j.indexLabelTextBlock.y?F-W:X-Q}function a(j){for(var G=null,X=1;X<p.length;X++)if(G=(j+X+s.length)%s.length,s[G].hemisphere!==s[j].hemisphere){G=null;break}else{if(s[G].indexLabelText&&G!==j&&(0>e(s[G],s[j])||(s[j].hemisphere==="right"?s[G].indexLabelTextBlock.y>=s[j].indexLabelTextBlock.y:s[G].indexLabelTextBlock.y<=s[j].indexLabelTextBlock.y)))break;G=null}return G}function h(j,G,X){if(X=(X||0)+1,1e3<X)return 0;G=G||0;var W=0,F=C.y-1*M,Q=C.y+1*M;if(0<=j&&j<p.length){var nt=s[j];if(0>G&&nt.indexLabelTextBlock.y<F||0<G&&nt.indexLabelTextBlock.y>Q)return 0;var V=0,Ht=0,Ht=V=V=0;for(0>G?nt.indexLabelTextBlock.y-nt.indexLabelTextBlock.height/2>F&&nt.indexLabelTextBlock.y-nt.indexLabelTextBlock.height/2+G<F&&(G=-(F-(nt.indexLabelTextBlock.y-nt.indexLabelTextBlock.height/2+G))):nt.indexLabelTextBlock.y+nt.indexLabelTextBlock.height/2<F&&nt.indexLabelTextBlock.y+nt.indexLabelTextBlock.height/2+G>Q&&(G=nt.indexLabelTextBlock.y+nt.indexLabelTextBlock.height/2+G-Q),G=nt.indexLabelTextBlock.y+G,F=0,F=nt.hemisphere==="right"?C.x+Math.sqrt(Math.pow(M,2)-Math.pow(G-C.y,2)):C.x-Math.sqrt(Math.pow(M,2)-Math.pow(G-C.y,2)),Ht=C.x+O*Math.cos(nt.midAngle),V=C.y+O*Math.sin(nt.midAngle),V=Math.sqrt(Math.pow(F-Ht,2)+Math.pow(G-V,2)),Ht=Math.acos(O/M),V=Math.acos((M*M+O*O-V*V)/(2*O*M)),G=V<Ht?G-nt.indexLabelTextBlock.y:0,F=null,Q=1;Q<p.length;Q++)if(F=(j-Q+s.length)%s.length,s[F].hemisphere!==s[j].hemisphere){F=null;break}else{if(s[F].indexLabelText&&s[F].hemisphere===s[j].hemisphere&&F!==j&&(0>e(s[F],s[j])||(s[j].hemisphere==="right"?s[F].indexLabelTextBlock.y<=s[j].indexLabelTextBlock.y:s[F].indexLabelTextBlock.y>=s[j].indexLabelTextBlock.y)))break;F=null}Ht=F,V=a(j),Q=F=0,0>G?(Q=nt.hemisphere==="right"?Ht:V,W=G,Q!==null&&(Ht=-G,G=nt.indexLabelTextBlock.y-nt.indexLabelTextBlock.height/2-(s[Q].indexLabelTextBlock.y+s[Q].indexLabelTextBlock.height/2),G-Ht<y&&(F=-Ht,Q=h(Q,F,X+1),+Q.toFixed(D)>+F.toFixed(D)&&(W=G>y?-(G-y):-(Ht-(Q-F)))))):0<G&&(Q=nt.hemisphere==="right"?V:Ht,W=G,Q!==null&&(Ht=G,G=s[Q].indexLabelTextBlock.y-s[Q].indexLabelTextBlock.height/2-(nt.indexLabelTextBlock.y+nt.indexLabelTextBlock.height/2),G-Ht<y&&(F=Ht,Q=h(Q,F,X+1),+Q.toFixed(D)<+F.toFixed(D)&&(W=G>y?G-y:Ht-(F-Q))))),W&&(X=nt.indexLabelTextBlock.y+W,G=0,G=nt.hemisphere==="right"?C.x+Math.sqrt(Math.pow(M,2)-Math.pow(X-C.y,2)):C.x-Math.sqrt(Math.pow(M,2)-Math.pow(X-C.y,2)),nt.midAngle>Math.PI/2-x&&nt.midAngle<Math.PI/2+x?(F=(j-1+s.length)%s.length,F=s[F],j=s[(j+1+s.length)%s.length],nt.hemisphere==="left"&&F.hemisphere==="right"&&G>F.indexLabelTextBlock.x?G=F.indexLabelTextBlock.x-15:nt.hemisphere==="right"&&j.hemisphere==="left"&&G<j.indexLabelTextBlock.x&&(G=j.indexLabelTextBlock.x+15)):nt.midAngle>3*Math.PI/2-x&&nt.midAngle<3*Math.PI/2+x&&(F=(j-1+s.length)%s.length,F=s[F],j=s[(j+1+s.length)%s.length],nt.hemisphere==="right"&&F.hemisphere==="left"&&G<F.indexLabelTextBlock.x?G=F.indexLabelTextBlock.x+15:nt.hemisphere==="left"&&j.hemisphere==="right"&&G>j.indexLabelTextBlock.x&&(G=j.indexLabelTextBlock.x-15)),nt.indexLabelTextBlock.y=X,nt.indexLabelTextBlock.x=G,nt.indexLabelAngle=Math.atan2(nt.indexLabelTextBlock.y-C.y,nt.indexLabelTextBlock.x-C.x))}return W}function d(){var j=b.plotArea.ctx;j.fillStyle="grey",j.strokeStyle="grey",j.font="16px Arial",j.textBaseline="middle";for(var W=j=0,G=0,X=!0,W=0;10>W&&(1>W||0<G);W++){if((u.radius||!u.radius&&typeof u.innerRadius<"u"&&u.innerRadius!==null&&O-G<=J)&&(X=!1),X&&(O-=G),G=0,u.indexLabelPlacement!=="inside"){for(M=O*T,j=0;j<p.length;j++){var F=s[j];F.indexLabelTextBlock.x=C.x+M*Math.cos(F.midAngle),F.indexLabelTextBlock.y=C.y+M*Math.sin(F.midAngle),F.indexLabelAngle=F.midAngle,F.radius=O,F.percentInnerRadius=it}for(var Q,nt,j=0;j<p.length;j++){var F=s[j],V=a(j);if(V!==null){Q=s[j],nt=s[V];var Ht=0,Ht=e(Q,nt)-y;if(0>Ht){for(var he=nt=0,Gt=0;Gt<p.length;Gt++)Gt!==j&&s[Gt].hemisphere===F.hemisphere&&(s[Gt].indexLabelTextBlock.y<F.indexLabelTextBlock.y?nt++:he++);nt=Ht/(nt+he||1)*he;var he=-1*(Ht-nt),re=Gt=0;F.hemisphere==="right"?(Gt=h(j,nt),he=-1*(Ht-Gt),re=h(V,he),+re.toFixed(D)<+he.toFixed(D)&&+Gt.toFixed(D)<=+nt.toFixed(D)&&h(j,-(he-re))):(Gt=h(V,nt),he=-1*(Ht-Gt),re=h(j,he),+re.toFixed(D)<+he.toFixed(D)&&+Gt.toFixed(D)<=+nt.toFixed(D)&&h(V,-(he-re)))}}}}else for(j=0;j<p.length;j++)F=s[j],M=u.type==="pie"?.7*O:.85*O,V=C.x+M*Math.cos(F.midAngle),nt=C.y+M*Math.sin(F.midAngle),F.indexLabelTextBlock.x=V,F.indexLabelTextBlock.y=nt;for(j=0;j<p.length;j++)F=s[j],V=F.indexLabelTextBlock.measureText(),V.height!==0&&V.width!==0&&(V=V=0,F.hemisphere==="right"?(V=g.x2-(F.indexLabelTextBlock.x+F.indexLabelTextBlock.width+m),V*=-1):V=g.x1-(F.indexLabelTextBlock.x-F.indexLabelTextBlock.width-m),0<V&&(!X&&F.indexLabelText&&(nt=F.hemisphere==="right"?g.x2-F.indexLabelTextBlock.x:F.indexLabelTextBlock.x-g.x1,.3*F.indexLabelTextBlock.maxWidth>nt?F.indexLabelText="":F.indexLabelTextBlock.maxWidth=.85*nt,.3*F.indexLabelTextBlock.maxWidth<nt&&(F.indexLabelTextBlock.x-=F.hemisphere==="right"?2:-2)),Math.abs(F.indexLabelTextBlock.y-F.indexLabelTextBlock.height/2-C.y)<O||Math.abs(F.indexLabelTextBlock.y+F.indexLabelTextBlock.height/2-C.y)<O)&&(V/=Math.abs(Math.cos(F.indexLabelAngle)),9<V&&(V*=.3),V>G&&(G=V)),V=V=0,0<F.indexLabelAngle&&F.indexLabelAngle<Math.PI?(V=g.y2-(F.indexLabelTextBlock.y+F.indexLabelTextBlock.height/2+5),V*=-1):V=g.y1-(F.indexLabelTextBlock.y-F.indexLabelTextBlock.height/2-5),0<V&&(!X&&F.indexLabelText&&(nt=0<F.indexLabelAngle&&F.indexLabelAngle<Math.PI?-1:1,h(j,V*nt)===0&&h(j,2*nt)),Math.abs(F.indexLabelTextBlock.x-C.x)<O&&(V/=Math.abs(Math.sin(F.indexLabelAngle)),9<V&&(V*=.3),V>G&&(G=V))));var yt=function(Ve,Kt,Qt){for(var xt=[],Fe=0;xt.push(s[Kt]),Kt!==Qt;Kt=(Kt+1+p.length)%p.length);for(xt.sort(function(Xi,Je){return Xi.y-Je.y}),Kt=0;Kt<xt.length&&(Qt=xt[Kt],Fe<.7*Ve);Kt++)Fe+=Qt.indexLabelTextBlock.height,Qt.indexLabelTextBlock.text="",Qt.indexLabelText="",Qt.indexLabelTextBlock.measureText()};(function(){for(var Ve=-1,Kt=-1,Qt=0,xt=!1,Fe=0;Fe<p.length;Fe++)if(xt=!1,Q=s[Fe],Q.indexLabelText){var Xi=a(Fe);if(Xi!==null){var Je=s[Xi];Ht=0,Ht=e(Q,Je);var Cn;if(Cn=0>Ht){Cn=Q.indexLabelTextBlock.x;var cn=Q.indexLabelTextBlock.y-Q.indexLabelTextBlock.height/2,et=Q.indexLabelTextBlock.y+Q.indexLabelTextBlock.height/2,Ha=Je.indexLabelTextBlock.y-Je.indexLabelTextBlock.height/2,Ze=Je.indexLabelTextBlock.x+Je.indexLabelTextBlock.width,Ia=Je.indexLabelTextBlock.y+Je.indexLabelTextBlock.height/2;Cn=!(Q.indexLabelTextBlock.x+Q.indexLabelTextBlock.width<Je.indexLabelTextBlock.x-m||Cn>Ze+m||cn>Ia+m||et<Ha-m)}Cn?(0>Ve&&(Ve=Fe),Xi!==Ve&&(Kt=Xi,Qt+=-Ht),Fe%Math.max(p.length/10,3)===0&&(xt=!0)):xt=!0,xt&&0<Qt&&0<=Ve&&0<=Kt&&(yt(Qt,Ve,Kt),Kt=Ve=-1,Qt=0)}}0<Qt&&yt(Qt,Ve,Kt)})()}}function _(){if(b.plotArea.layoutManager.reset(),b.title&&(b.title.dockInsidePlotArea||b.title.horizontalAlign==="center"&&b.title.verticalAlign==="center")&&b.title.render(),b.subtitles)for(var j=0;j<b.subtitles.length;j++){var G=b.subtitles[j];(G.dockInsidePlotArea||G.horizontalAlign==="center"&&G.verticalAlign==="center")&&G.render()}b.legend&&(b.legend.dockInsidePlotArea||b.legend.horizontalAlign==="center"&&b.legend.verticalAlign==="center")&&(b.legend.setLayout(),b.legend.render())}var b=this;if(!(0>=t.dataSeriesIndexes.length)){var u=this.data[t.dataSeriesIndexes[0]],p=u.dataPoints,m=10,g=this.plotArea,s=u.dataPointEOs,y=2,M,T=1.3,x=20/180*Math.PI,D=6,C={x:(g.x2+g.x1)/2,y:(g.y2+g.y1)/2},R=0;t=!1;for(var L=0;L<p.length;L++)R+=Math.abs(p[L].y),!t&&typeof p[L].indexLabel<"u"&&p[L].indexLabel!==null&&0<p[L].indexLabel.toString().length&&(t=!0),!t&&typeof p[L].label<"u"&&p[L].label!==null&&0<p[L].label.toString().length&&(t=!0);if(R!==0){t=t||typeof u.indexLabel<"u"&&u.indexLabel!==null&&0<u.indexLabel.toString().length;var O=u.indexLabelPlacement!=="inside"&&t?.75*Math.min(g.width,g.height)/2:.92*Math.min(g.width,g.height)/2;u.radius&&(O=va(u.radius,O));var J=typeof u.innerRadius<"u"&&u.innerRadius!==null?va(u.innerRadius,O):.7*O;u.radius=O,u.type==="doughnut"&&(u.innerRadius=J);var it=Math.min(J/O,(O-1)/O);this.pieDoughnutClickHandler=function(j){b.isAnimating||!P(this.explodeOnClick)&&!this.explodeOnClick||(j=j.dataPoint,j.exploded=!j.exploded,1<this.dataPoints.length&&b._animator.animate(0,500,function(G){n(G,!0),_(),b.dispatchEvent("dataAnimationIterationEnd",{chart:b}),b.dispatchEvent("dataAnimationEnd",{chart:b})}))},o(),d(),d(),d(),d(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(j){var G=b.plotArea.ctx;G.clearRect(g.x1,g.y1,g.width,g.height),G.fillStyle=b.backgroundColor,G.fillRect(g.x1,g.y1,g.width,g.height);for(var G=s[0].startAngle+2*Math.PI*j,X=0;X<p.length;X++){var W=X===0?s[X].startAngle:F,F=W+(s[X].endAngle-s[X].startAngle),Q=!1;F>G&&(F=G,Q=!0);var nt=p[X].color?p[X].color:u._colorSet[X%u._colorSet.length];if(F>W&&Wi(b.plotArea.ctx,s[X].center,s[X].radius,nt,u.type,W,F,u.fillOpacity,s[X].percentInnerRadius),Q)break}_(),b.dispatchEvent("dataAnimationIterationEnd",{chart:b}),1<=j&&b.dispatchEvent("dataAnimationEnd",{chart:b})},function(){b.disableToolTip=!1,b._animator.animate(0,b.animatedRender?500:0,function(j){n(j,!1),_(),b.dispatchEvent("dataAnimationIterationEnd",{chart:b})}),b.dispatchEvent("dataAnimationEnd",{chart:b})})}}};var wi=function(t,o,n,e){typeof n>"u"&&(n=1),0>=Math.round(o.y4-o.y1)||(t.save(),t.globalAlpha=n,t.beginPath(),t.moveTo(Math.round(o.x1),Math.round(o.y1)),t.lineTo(Math.round(o.x2),Math.round(o.y2)),t.lineTo(Math.round(o.x3),Math.round(o.y3)),t.lineTo(Math.round(o.x4),Math.round(o.y4)),o.x5!=="undefined"&&(t.lineTo(Math.round(o.x5),Math.round(o.y5)),t.lineTo(Math.round(o.x6),Math.round(o.y6))),t.closePath(),t.fillStyle=e||o.color,t.fill(),t.globalAplha=1,t.restore())};w.prototype.renderFunnel=function(t){function o(){for(var st=0,at=[],gt=0;gt<D.length;gt++){if(typeof D[gt].y>"u")return-1;D[gt].y=typeof D[gt].y=="number"?D[gt].y:0,st+=Math.abs(D[gt].y)}if(st===0)return-1;for(gt=at[0]=0;gt<D.length;gt++)at.push(Math.abs(D[gt].y)*J/st);return at}function n(){var st=Gt,at=he,gt=yt,Xt=Ve,_t,oe;_t=W,oe=F-nt,Xt=Math.abs((oe-_t)*(at-st+(Xt-gt))/2),gt=Ve-yt,_t=oe-_t,oe=gt*(oe-F),oe=Math.abs(oe),oe=Xt+oe;for(var Xt=[],_i=0,be=0;be<D.length;be++){if(typeof D[be].y>"u")return-1;D[be].y=typeof D[be].y=="number"?D[be].y:0,_i+=Math.abs(D[be].y)}if(_i===0)return-1;for(var _e=Xt[0]=0,vt=0,Le,$e,at=at-st,_e=!1,be=0;be<D.length;be++)st=Math.abs(D[be].y)*oe/_i,_e?Le=Number(gt.toFixed(3))==0?0:st/gt:($e=Je*Je*at*at-4*Math.abs(Je)*st,0>$e?($e=gt,_e=(at+$e)*(_t-vt)/2,st-=_e,Le=_t-vt,vt+=_t-vt,Le+=$e==0?0:st/$e,vt+=st/$e,_e=!0):(Le=(Math.abs(Je)*at-Math.sqrt($e))/2,$e=at-2*Le/Math.abs(Je),vt+=Le,vt>_t&&(vt-=Le,$e=gt,_e=(at+$e)*(_t-vt)/2,st-=_e,Le=_t-vt,vt+=_t-vt,Le+=st/$e,vt+=st/$e,_e=!0),at=$e)),Xt.push(Le);return Xt}function e(){if(x&&D){for(var st,at,gt,Xt,_t,oe,_i,be,vt,Le,$e,_e,Wt,Ut,Ct,Me,Ne,si=[],bi=[],jn={percent:null,total:null},xi=null,ie=0;ie<D.length;ie++)Ne=xt[ie],Ne=typeof Ne.x5<"u"?(Ne.y2+Ne.y4)/2:(Ne.y2+Ne.y3)/2,Ne=s(Ne).x2+1,si[ie]=X-Ne-Ht;Ne=.5*Ht;for(var ie=0,cs=D.length-1;ie<D.length||0<=cs;ie++,cs--)at=x.reversed?D[cs]:D[ie],st=at.color?at.color:x.reversed?x._colorSet[(D.length-1-ie)%x._colorSet.length]:x._colorSet[ie%x._colorSet.length],gt=at.indexLabelPlacement||x.indexLabelPlacement||"outside",Me=at.indexLabelTextAlign||x.indexLabelTextAlign||"left",Xt=at.indexLabelBackgroundColor||x.indexLabelBackgroundColor||(N?"transparent":null),_t=at.indexLabelBorderColor||x.indexLabelBorderColor||(N?"transparent":null),oe=P(at.indexLabelBorderThickness)?x.indexLabelBorderThickness:at.indexLabelBorderThickness,_i=at.indexLabelFontColor||x.indexLabelFontColor||"#979797",be=P(at.indexLabelFontSize)?x.indexLabelFontSize:at.indexLabelFontSize,vt=at.indexLabelFontStyle||x.indexLabelFontStyle||"normal",Le=at.indexLabelFontFamily||x.indexLabelFontFamily||"arial",$e=at.indexLabelFontWeight||x.indexLabelFontWeight||"normal",st=at.indexLabelLineColor||x.options.indexLabelLineColor||st,_e=typeof at.indexLabelLineThickness=="number"?at.indexLabelLineThickness:typeof x.indexLabelLineThickness=="number"?x.indexLabelLineThickness:2,Wt=at.indexLabelLineDashType||x.indexLabelLineDashType||"solid",Ut=typeof at.indexLabelWrap<"u"?at.indexLabelWrap:typeof x.indexLabelWrap<"u"?x.indexLabelWrap:!0,Ct=x.dataPointIds[ie],T._eventManager.objectMap[Ct]={id:Ct,objectType:"dataPoint",dataPointIndex:ie,dataSeriesIndex:0,funnelSection:xt[x.reversed?D.length-1-ie:ie]},x.indexLabelPlacement==="inside"&&(si[ie]=ie!==Xi?x.reversed?xt[ie].x2-xt[ie].x1:xt[ie].x3-xt[ie].x4:xt[ie].x3-xt[ie].x6,20>si[ie]&&(si[ie]=ie!==Xi&&x.reversed?xt[ie].x3-xt[ie].x4:xt[ie].x2-xt[ie].x1,si[ie]/=2)),Ct=at.indexLabelMaxWidth?at.indexLabelMaxWidth:x.options.indexLabelMaxWidth?x.indexLabelMaxWidth:si[ie],(Ct>si[ie]||0>Ct)&&(Ct=si[ie]),bi[ie]=x.indexLabelPlacement==="inside"?Ut?Math.max(xt[ie].height,be):1.5*be:!1,jn=T.getPercentAndTotal(x,at),(x.indexLabelFormatter||at.indexLabelFormatter)&&(xi={chart:T.options,dataSeries:x,dataPoint:at,total:jn.total,percent:jn.percent}),at=at.indexLabelFormatter?at.indexLabelFormatter(xi):at.indexLabel?T.replaceKeywordsWithValue(at.indexLabel,at,x,ie):x.indexLabelFormatter?x.indexLabelFormatter(xi):x.indexLabel?T.replaceKeywordsWithValue(x.indexLabel,at,x,ie):at.label?at.label:"",0>=_e&&(_e=0),1e3>Ct&&1e3-Ct<Ne&&(Ct+=1e3-Ct),P(x.options.indexLabelMaxWidth)&&(x.indexLabelMaxWidth=P(x.indexLabelMaxWidth)?Ct:Math.max(Ct,x.indexLabelMaxWidth)),Q.roundRect||f(Q),gt=new te(Q,{fontSize:be,fontFamily:Le,fontColor:_i,fontStyle:vt,fontWeight:$e,horizontalAlign:gt,textAlign:Me,backgroundColor:Xt,borderColor:_t,borderThickness:oe,maxWidth:Ct,maxHeight:bi[ie]===!1?Ut?4.28571429*be:1.5*be:bi[ie],text:at,padding:cn,textBaseline:"middle"}),gt.measureText(),gt.height=gt.height===2*gt.padding?0:gt.height,gt.width=gt.width===2*gt.padding?0:gt.width,et.push({textBlock:gt,id:x.reversed?cs:ie,isDirty:!1,lineColor:st,lineThickness:_e,lineDashType:Wt,height:gt.height<gt.maxHeight?gt.height:gt.maxHeight,width:gt.width<gt.maxWidth?gt.width:gt.maxWidth})}}function a(){var st,at,gt,Xt,_t,oe=[];_t=!1,gt=0;for(var _i,be=X-he-Ht/2,be=x.options.indexLabelMaxWidth?x.indexLabelMaxWidth>be?be:x.indexLabelMaxWidth:be,vt=et.length-1;0<=vt;vt--)_i=D[et[vt].id],gt=et[vt],Xt=gt.textBlock,at=(st=g(vt)<xt.length?et[g(vt)]:null)?st.textBlock:null,gt=gt.height,st&&Xt.y+gt+cn>at.y&&(_t=!0),gt=_i.indexLabelMaxWidth||be,(gt>be||0>gt)&&(gt=be),oe.push(gt);if(_t)for(vt=et.length-1;0<=vt;vt--)st=xt[vt],et[vt].textBlock.maxWidth=oe[oe.length-(vt+1)],et[vt].textBlock.measureText(),et[vt].textBlock.height=et[vt].textBlock.height===2*et[vt].textBlock.padding?0:et[vt].textBlock.height,et[vt].textBlock.width=et[vt].textBlock.width===2*et[vt].textBlock.padding?0:et[vt].textBlock.width,et[vt].textBlock.x=X-be,gt=et[vt].textBlock.height<et[vt].textBlock.maxHeight?et[vt].textBlock.height:et[vt].textBlock.maxHeight,_t=et[vt].textBlock.width<et[vt].textBlock.maxWidth?et[vt].textBlock.width:et[vt].textBlock.maxWidth,et[vt].height=gt,et[vt].width=_t,gt=typeof st.x5<"u"?(st.y2+st.y4)/2:(st.y2+st.y3)/2,et[vt].textBlock.y=gt-et[vt].height/2,x.reversed?(et[vt].textBlock.y+et[vt].height>re+R&&(et[vt].textBlock.y=re+R-et[vt].height),et[vt].textBlock.y<Qt-R&&(et[vt].textBlock.y=Qt-R)):(et[vt].textBlock.y<re-R&&(et[vt].textBlock.y=re-R),et[vt].textBlock.y+et[vt].height>Qt+R&&(et[vt].textBlock.y=Qt+R-et[vt].height))}function h(){var st,at,gt,Xt;if(x.indexLabelPlacement!=="inside")for(var _t=0;_t<xt.length;_t++)et[_t].textBlock.text.length==0?et[_t].isDirty=!0:(st=xt[_t],gt=typeof st.x5<"u"?(st.y2+st.y4)/2:(st.y2+st.y3)/2,at=x.reversed?typeof st.x5<"u"&&gt>Kt?s(gt).x2+1:(st.x2+st.x3)/2+1:typeof st.x5<"u"?gt<Kt?s(gt).x2+1:(st.x4+st.x3)/2+1:(st.x2+st.x3)/2+1,et[_t].textBlock.x=at+Ht,et[_t].textBlock.y=gt-et[_t].height/2,x.reversed?(et[_t].textBlock.y+et[_t].height>re+R&&(et[_t].textBlock.y=re+R-et[_t].height),et[_t].textBlock.y<Qt-R&&(et[_t].textBlock.y=Qt-R)):(et[_t].textBlock.y<re-R&&(et[_t].textBlock.y=re-R),et[_t].textBlock.y+et[_t].height>Qt+R&&(et[_t].textBlock.y=Qt+R-et[_t].height)));else for(_t=0;_t<xt.length;_t++)et[_t].textBlock.text.length==0?et[_t].isDirty=!0:(st=xt[_t],at=st.height,gt=et[_t].height,Xt=et[_t].width,at>=gt?(at=_t!=Xi?(st.x4+st.x3)/2-Xt/2:(st.x5+st.x4)/2-Xt/2,gt=_t!=Xi?(st.y1+st.y3)/2-gt/2:(st.y1+st.y4)/2-gt/2,et[_t].textBlock.x=at,et[_t].textBlock.y=gt):et[_t].isDirty=!0)}function d(){function st(Wt,Ut){var Ct;if(0>Wt||Wt>=et.length)return 0;var Me,Ne=et[Wt].textBlock;return 0>Ut?(Ut*=-1,Me=m(Wt),Ct=_(Me,Wt),Ct>=Ut?(Ne.y-=Ut,Ut):Wt==0?(0<Ct&&(Ne.y-=Ct),Ct):(Ct+=st(Me,-(Ut-Ct)),0<Ct&&(Ne.y-=Ct),Ct)):(Me=g(Wt),Ct=_(Wt,Me),Ct>=Ut?(Ne.y+=Ut,Ut):Wt==xt.length-1?(0<Ct&&(Ne.y+=Ct),Ct):(Ct+=st(Me,Ut-Ct),0<Ct&&(Ne.y+=Ct),Ct))}function at(){var Wt,Ut,Ct,Me,Ne=0,si;Me=(F-W+2*R)/Le,si=Le;for(var bi,jn=1;jn<si;jn++){Ct=jn*Me;for(var xi=et.length-1;0<=xi;xi--)!et[xi].isDirty&&et[xi].textBlock.y<Ct&&et[xi].textBlock.y+et[xi].height>Ct&&(bi=g(xi),!(bi>=et.length-1)&&et[xi].textBlock.y+et[xi].height+cn>et[bi].textBlock.y&&(et[xi].textBlock.y=et[xi].textBlock.y+et[xi].height-Ct>Ct-et[xi].textBlock.y?Ct+1:Ct-et[xi].height-1))}for(bi=xt.length-1;0<bi;bi--)if(!et[bi].isDirty){if(Ct=m(bi),0>Ct&&(Ct=0,et[Ct].isDirty))break;if(et[bi].textBlock.y<et[Ct].textBlock.y+et[Ct].height){for(Ut=Ut||bi,Me=bi,si=0;et[Me].textBlock.y<et[Ct].textBlock.y+et[Ct].height+cn;){if(Wt=Wt||et[Me].textBlock.y+et[Me].height,si+=et[Me].height,si+=cn,Me=Ct,0>=Me){Me=0,si+=et[Me].height;break}if(Ct=m(Me),0>Ct){Me=0,si+=et[Me].height;break}}if(Me!=bi){Ne=et[Me].textBlock.y,Wt-=Ne,Wt=si-Wt,Ne=gt(Wt,Ut,Me);break}}}return Ne}function gt(Wt,Ut,Ct){var Me=[],Ne=0,si=0;for(Wt=Math.abs(Wt);Ct<=Ut;Ct++)Me.push(xt[Ct]);for(Me.sort(function(bi,jn){return bi.height-jn.height}),Ct=0;Ct<Me.length&&(Ut=Me[Ct],Ne<Wt);Ct++)si++,Ne+=et[Ut.id].height+cn,et[Ut.id].textBlock.text="",et[Ut.id].indexLabelText="",et[Ut.id].isDirty=!0,et[Ut.id].textBlock.measureText();return si}for(var Xt,_t,oe,_i,be,vt,Le=1,$e=0;$e<2*Le;$e++){for(var _e=et.length-1;0<=_e&&(0<=m(_e)&&m(_e),oe=et[_e],_i=oe.textBlock,vt=(be=g(_e)<xt.length?et[g(_e)]:null)?be.textBlock:null,Xt=+oe.height.toFixed(6),_t=+_i.y.toFixed(6),!(!oe.isDirty&&be&&_t+Xt+cn>+vt.y.toFixed(6)&&(Xt=_i.y+Xt+cn-vt.y,_t=st(_e,-Xt),_t<Xt&&(0<_t&&(Xt-=_t),_t=st(g(_e),Xt),_t!=Xt))));_e--);at()}}function _(st,at){return(at<xt.length?et[at].textBlock.y:x.reversed?re+R:Qt+R)-(0>st?x.reversed?Qt-R:re-R:et[st].textBlock.y+et[st].height+cn)}function b(st,at,gt){var Xt,_t,oe,_i=[],be=R,vt=[];if(at!==-1&&(0<=Ze.indexOf(at)?(_t=Ze.indexOf(at),Ze.splice(_t,1)):(Ze.push(at),Ze=Ze.sort(function(_e,Wt){return _e-Wt}))),Ze.length===0)_i=Ia;else{_t=R*(Ze.length!=1||Ze[0]!=0&&Ze[0]!=xt.length-1?2:1)/u();for(var Le=0;Le<xt.length;Le++){if(Ze.length==1&&Ze[0]==0){if(Le===0){_i.push(Ia[Le]),Xt=be;continue}}else Le===0&&(Xt=-1*be);_i.push(Ia[Le]+Xt),(0<=Ze.indexOf(Le)||Le<xt.length&&0<=Ze.indexOf(Le+1))&&(Xt+=_t)}}oe=function(){for(var _e=[],Wt=0;Wt<xt.length;Wt++)_e.push(_i[Wt]-xt[Wt].y1);return _e}();var $e={startTime:new Date().getTime(),duration:gt||500,easingFunction:function(_e,Wt,Ut,Ct){return Tt.easing.easeOutQuart(_e,Wt,Ut,Ct)},changeSection:function(_e){for(var Wt,Ut,Ct=0;Ct<xt.length;Ct++)Wt=oe[Ct],Ut=xt[Ct],Wt*=_e,typeof vt[Ct]>"u"&&(vt[Ct]=0),0>vt&&(vt*=-1),Ut.y1+=Wt-vt[Ct],Ut.y2+=Wt-vt[Ct],Ut.y3+=Wt-vt[Ct],Ut.y4+=Wt-vt[Ct],Ut.y5&&(Ut.y5+=Wt-vt[Ct],Ut.y6+=Wt-vt[Ct]),vt[Ct]=Wt}};st._animator.animate(0,gt,function(_e){var Wt=st.plotArea.ctx||st.ctx;Ha=!0,Wt.clearRect(C.x1,C.y1,C.x2-C.x1,C.y2-C.y1),Wt.fillStyle=st.backgroundColor,Wt.fillRect(C.x1,C.y1,C.width,C.height),$e.changeSection(_e,at);var Ut={};for(Ut.dataSeries=x,Ut.dataPoint=x.reversed?x.dataPoints[D.length-1-at]:x.dataPoints[at],Ut.index=x.reversed?D.length-1-at:at,st.toolTip.highlightObjects([Ut]),Ut=0;Ut<xt.length;Ut++)wi(Wt,xt[Ut],x.fillOpacity);M(Wt),j&&(x.indexLabelPlacement!=="inside"?p(Wt):h(),y(Wt)),1<=_e&&(Ha=!1)},null,Tt.easing.easeOutQuart)}function u(){for(var st=0,at=0;at<xt.length-1;at++)(0<=Ze.indexOf(at)||0<=Ze.indexOf(at+1))&&st++;return st}function p(st){for(var at,gt,Xt,_t,oe=0;oe<xt.length;oe++)_t=et[oe].lineThickness%2===1?.5:0,gt=((xt[oe].y2+xt[oe].y4)/2<<0)+_t,at=s(gt).x2-1,Xt=et[oe].textBlock.x,_t=(et[oe].textBlock.y+et[oe].height/2<<0)+_t,et[oe].isDirty||et[oe].lineThickness==0||(st.strokeStyle=et[oe].lineColor,st.lineWidth=et[oe].lineThickness,st.setLineDash&&st.setLineDash(wt(et[oe].lineDashType,et[oe].lineThickness)),st.beginPath(),st.moveTo(at,gt),st.lineTo(Xt,_t),st.stroke())}function m(st){for(st-=1;-1<=st&&st!=-1&&et[st].isDirty;st--);return st}function g(st){for(st+=1;st<=xt.length&&st!=xt.length&&et[st].isDirty;st++);return st}function s(st){for(var at,gt=0;gt<D.length;gt++)if(xt[gt].y1<st&&xt[gt].y4>st){at=xt[gt];break}return at?(st=at.y6&&st>at.y6?at.x3+(at.x4-at.x3)/(at.y4-at.y3)*(st-at.y3):at.x2+(at.x3-at.x2)/(at.y3-at.y2)*(st-at.y2),{x1:st,x2:st}):-1}function y(st){for(var at=0;at<xt.length;at++)et[at].isDirty||(st&&(et[at].textBlock.ctx=st),et[at].textBlock.y+=et[at].textBlock._lineHeight/2,et[at].textBlock.render(!0),et[at].textBlock.y-=et[at].textBlock._lineHeight/2)}function M(st){if(T.plotArea.layoutManager.reset(),st.roundRect||f(st),T.title&&(T.title.dockInsidePlotArea||T.title.horizontalAlign==="center"&&T.title.verticalAlign==="center")&&(T.title.ctx=st,T.title.render()),T.subtitles)for(var at=0;at<T.subtitles.length;at++){var gt=T.subtitles[at];(gt.dockInsidePlotArea||gt.horizontalAlign==="center"&&gt.verticalAlign==="center")&&(T.subtitles.ctx=st,gt.render())}T.legend&&(T.legend.dockInsidePlotArea||T.legend.horizontalAlign==="center"&&T.legend.verticalAlign==="center")&&(T.legend.ctx=st,T.legend.setLayout(),T.legend.render()),Li.fNg&&Li.fNg(T)}var T=this;if(!(0>=t.dataSeriesIndexes.length)){for(var x=this.data[t.dataSeriesIndexes[0]],D=x.dataPoints,C=this.plotArea,R=.025*C.width,L=.01*C.width,O=0,J=C.height-2*R,it=Math.min(C.width-2*L,2.8*C.height),j=!1,G=0;G<D.length;G++)!j&&typeof D[G].indexLabel<"u"&&D[G].indexLabel!==null&&0<D[G].indexLabel.toString().length&&(j=!0),!j&&typeof D[G].label<"u"&&D[G].label!==null&&0<D[G].label.toString().length&&(j=!0),(!j&&typeof x.indexLabelFormatter=="function"||typeof D[G].indexLabelFormatter=="function")&&(j=!0);j=j||typeof x.indexLabel<"u"&&x.indexLabel!==null&&0<x.indexLabel.toString().length,x.indexLabelPlacement!=="inside"&&j||(L=(C.width-.75*it)/2);var G=C.x1+L,X=C.x2-L,W=C.y1+R,F=C.y2-R,Q=t.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(x.length!=0&&x.dataPoints&&x.visible&&D.length!==0){var nt,V;t=75*it/100;var Ht=30*(X-t)/100;x.type==="funnel"?(nt=P(x.options.neckHeight)?.35*J:x.neckHeight,V=P(x.options.neckWidth)?.25*t:x.neckWidth,typeof nt=="string"&&nt.match(/%$/)?(nt=parseInt(nt),nt=nt*J/100):nt=parseInt(nt),typeof V=="string"&&V.match(/%$/)?(V=parseInt(V),V=V*t/100):V=parseInt(V),nt>J?nt=J:0>=nt&&(nt=0),V>t?V=t-.5:0>=V&&(V=0)):x.type==="pyramid"&&(V=nt=0,x.reversed=!x.reversed);var L=G+t/2,Gt=G,he=G+t,re=x.reversed?F:W,yt=L-V/2,Ve=L+V/2,Kt=x.reversed?W+nt:F-nt,Qt=x.reversed?W:F;V=x.valueRepresents=x.valueRepresents?x.valueRepresents:"height",G=[],t=[];var xt=[],L=[],Fe=W,Xi,Je=(Kt-re)/(yt-Gt),Cn=-Je,it=V==="area"?n():o();if(it!==-1){if(x.reversed)for(L.push(Fe),V=it.length-1;0<V;V--)Fe+=it[V],L.push(Fe);else for(V=0;V<it.length;V++)Fe+=it[V],L.push(Fe);if(x.reversed)for(V=0;V<it.length;V++)L[V]<Kt?(G.push(yt),t.push(Ve),Xi=V):(G.push((L[V]-re+Je*Gt)/Je),t.push((L[V]-re+Cn*he)/Cn));else for(V=0;V<it.length;V++)L[V]<Kt?(G.push((L[V]-re+Je*Gt)/Je),t.push((L[V]-re+Cn*he)/Cn),Xi=V):(G.push(yt),t.push(Ve));for(V=0;V<it.length-1;V++)Fe=x.reversed?D[D.length-1-V].color?D[D.length-1-V].color:x._colorSet[(D.length-1-V)%x._colorSet.length]:D[V].color?D[V].color:x._colorSet[V%x._colorSet.length],V===Xi?xt.push({x1:G[V],y1:L[V],x2:t[V],y2:L[V],x3:Ve,y3:Kt,x4:t[V+1],y4:L[V+1],x5:G[V+1],y5:L[V+1],x6:yt,y6:Kt,id:V,height:L[V+1]-L[V],color:Fe}):xt.push({x1:G[V],y1:L[V],x2:t[V],y2:L[V],x3:t[V+1],y3:L[V+1],x4:G[V+1],y4:L[V+1],id:V,height:L[V+1]-L[V],color:Fe}),x.dataPointEOs[V]&&xt[V]&&(x.dataPointEOs[V].sectionsofFunnel=xt[V]);var cn=2,et=[],Ha=!1,Ze=[],Ia=[],G=!1;for(t=t=0,zt(Ze),V=0;V<D.length;V++)D[V].exploded&&(G=!0,x.reversed?Ze.push(D.length-1-V):Ze.push(V));if(Q.clearRect(C.x1,C.y1,C.width,C.height),Q.fillStyle=T.backgroundColor,Q.fillRect(C.x1,C.y1,C.width,C.height),j&&x.visible&&(e(),h(),x.indexLabelPlacement!=="inside")){for(a(),d(),V=0;V<D.length;V++)et[V].isDirty||(t=et[V].textBlock.x+et[V].width,t=(X-t)/2,V==0&&(O=t),O>t&&(O=t));for(V=0;V<xt.length;V++)xt[V].x1+=O,xt[V].x2+=O,xt[V].x3+=O,xt[V].x4+=O,xt[V].x5&&(xt[V].x5+=O,xt[V].x6+=O),et[V].textBlock.x+=O}for(V=0;V<xt.length;V++)O=xt[V],wi(Q,O,x.fillOpacity),Ia.push(O.y1);if(M(Q),j&&x.visible&&(x.indexLabelPlacement==="inside"||T.animationEnabled||p(Q),T.animationEnabled||y()),!j)for(V=0;V<D.length;V++)O=x.dataPointIds[V],t={id:O,objectType:"dataPoint",dataPointIndex:V,dataSeriesIndex:0,funnelSection:xt[x.reversed?D.length-1-V:V]},T._eventManager.objectMap[O]=t;return(!T.animationEnabled&&G||T.animationEnabled&&!T.animatedRender)&&b(T,-1,0),this.funnelPyramidClickHandler=function(Xt){var _t=-1;!Ha&&!T.isAnimating&&(P(Xt.dataSeries.explodeOnClick)||Xt.dataSeries.explodeOnClick)&&(_t=x.reversed?D.length-1-Xt.dataPointIndex:Xt.dataPointIndex,0<=_t)&&(Xt=_t,(x.type==="funnel"||x.type==="pyramid")&&(x.reversed?D[D.length-1-Xt].exploded=!D[D.length-1-Xt].exploded:D[Xt].exploded=!D[Xt].exploded),b(T,_t,500))},{source:Q,dest:this.plotArea.ctx,animationCallback:function(Xt,_t){Tt.fadeInAnimation(Xt,_t),1<=Xt&&(b(T,-1,500),M(T.plotArea.ctx||T.ctx))},easingFunction:Tt.easing.easeInQuad,animationBase:0}}}}},w.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),w.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,w.prototype.set=function(t,o,n){n=typeof n>"u"?!0:n,t==="options"?(this.options=o,n&&this.render()):w.base.set.call(this,t,o,n)},w.prototype.exportChart=function(t){t=typeof t>"u"?{}:t;var o=t.format?t.format:"png",n=t.fileName?t.fileName:this.exportFileName;if(t.toDataURL)return this.canvas.toDataURL("image/"+o);var e=this.canvas;if(e&&o&&n){n=n+"."+o,t="image/"+o;var e=e.toDataURL(t),a=!1,h=document.createElement("a");if(h.download=n,h.href=e,typeof Blob<"u"&&new Blob){for(var d=e.replace(/^data:[a-z\/]*;base64,/,""),d=atob(d),_=new ArrayBuffer(d.length),_=new Uint8Array(_),b=0;b<d.length;b++)_[b]=d.charCodeAt(b);o=new Blob([_.buffer],{type:"image/"+o});try{window.navigator.msSaveBlob(o,n),a=!0}catch{h.dataset.downloadurl=[t,h.download,h.href].join(":"),h.href=window.URL.createObjectURL(o)}}if(!a)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),h.dispatchEvent?h.dispatchEvent(event):h.fireEvent&&h.fireEvent("onclick")}catch{o=window.open(),o.document.write("<img src='"+e+"'></img><div>Please right click on the image and save it to your device</div>"),o.document.close()}}},w.prototype.print=function(){var t=this.exportChart({toDataURL:!0}),o=document.createElement("iframe");o.setAttribute("class","canvasjs-chart-print-frame"),le(o,{position:"absolute",width:"100%",border:"0px",margin:"0px 0px 0px 0px",padding:"0px 0px 0px 0px"}),o.style.height=this.height+"px",this._canvasJSContainer.appendChild(o);var n=this,e=o.contentWindow||o.contentDocument.document||o.contentDocument;e.document.open(),e.document.write(`<!DOCTYPE HTML>
<html><body><img src="`+t+'"/><body/></html>'),e.document.body&&e.document.body.style&&(e.document.body.style.margin="0px 0px 0px 0px",e.document.body.style.padding="0px 0px 0px 0px"),e.document.close(),setTimeout(function(){e.focus(),e.print(),setTimeout(function(){n._canvasJSContainer.removeChild(o)},1e3)},500)},w.prototype.getPercentAndTotal=function(t,o){var n=null,e=null,a=n=null;if(0<=t.type.indexOf("stacked"))e=0,n=o.x.getTime?o.x.getTime():o.x,n in t.plotUnit.yTotals&&(e=t.plotUnit.yTotals[n],n=t.plotUnit.yAbsTotals[n],a=isNaN(o.y)||n===0?0:100*(o.y/n));else if(t.type==="pie"||t.type==="doughnut"||t.type==="funnel"||t.type==="pyramid"){for(n=e=0;n<t.dataPoints.length;n++)isNaN(t.dataPoints[n].y)||(e+=t.dataPoints[n].y);a=isNaN(o.y)?0:100*(o.y/e)}return{percent:a,total:e}},w.prototype.replaceKeywordsWithValue=function(t,o,n,e,a){var h=this;if(a=typeof a>"u"?0:a,(0<=n.type.indexOf("stacked")||n.type==="pie"||n.type==="doughnut"||n.type==="funnel"||n.type==="pyramid")&&(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))){var b="#percent",_="#total",d=this.getPercentAndTotal(n,o),_=isNaN(d.total)?_:d.total,b=isNaN(d.percent)?b:d.percent;do{if(d="",n.percentFormatString)d=n.percentFormatString;else{var d="#,##0.",u=Math.max(Math.ceil(Math.log(1/Math.abs(b))/Math.LN10),2);(isNaN(u)||!isFinite(u))&&(u=2);for(var p=0;p<u;p++)d+="#";n.percentFormatString=d}t=t.replace("#percent",ze(b,d,h._cultureInfo)),t=t.replace("#total",ze(_,n.yValueFormatString?n.yValueFormatString:"#,##0.########",h._cultureInfo))}while(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))}return t.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(m){if(m[0]==='"'&&m[m.length-1]==='"'||m[0]==="'"&&m[m.length-1]==="'")return m.slice(1,m.length-1);m=l(m.slice(1,m.length-1)),m=m.replace("#index",a);var g=null;try{var s=m.match(/(.*?)\s*\[\s*(.*?)\s*\]/);s&&0<s.length&&(g=l(s[2]),m=l(s[1]))}catch{}if(s=null,m==="color")return n.type==="waterfall"?o.color?o.color:0<o.y?n.risingColor:n.fallingColor:n.type==="error"?n.color?n.color:n._colorSet[g%n._colorSet.length]:o.color?o.color:n.color?n.color:n._colorSet[e%n._colorSet.length];if(o.hasOwnProperty(m))s=o;else if(n.hasOwnProperty(m))s=n;else return"";return s=s[m],g!==null&&(s=s[g]),m==="x"?(n.axisX&&n.axisX.valueType==="dateTime"||n.xValueType==="dateTime"||o.x&&o.x.getTime)&&!n.axisX.logarithmic?Ca(s,o.xValueFormatString?o.xValueFormatString:n.xValueFormatString?n.xValueFormatString:n.xValueFormatString=h.axisX&&h.axisX.autoValueFormatString?h.axisX.autoValueFormatString:"DD MMM YY",h._cultureInfo):ze(s,o.xValueFormatString?o.xValueFormatString:n.xValueFormatString?n.xValueFormatString:n.xValueFormatString="#,##0.########",h._cultureInfo):m==="y"?ze(s,o.yValueFormatString?o.yValueFormatString:n.yValueFormatString?n.yValueFormatString:n.yValueFormatString="#,##0.########",h._cultureInfo):m==="z"?ze(s,o.zValueFormatString?o.zValueFormatString:n.zValueFormatString?n.zValueFormatString:n.zValueFormatString="#,##0.########",h._cultureInfo):s})},c(dt,Ie),dt.prototype.setLayout=function(){var t=this.dockInsidePlotArea?this.chart.plotArea:this.chart,o=t.layoutManager.getFreeSpace(),n=null,e=0,a=0,h=0,d=0,_=this.markerMargin=this.chart.options.legend&&!P(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var b=[],u=[];this.verticalAlign==="top"||this.verticalAlign==="bottom"?(this.orientation="horizontal",n=this.verticalAlign,h=this.maxWidth=this.maxWidth!==null?this.maxWidth:o.width,d=this.maxHeight=this.maxHeight!==null?this.maxHeight:.5*o.height):this.verticalAlign==="center"&&(this.orientation="vertical",(this.horizontalAlign==="left"||this.horizontalAlign==="center"||this.horizontalAlign==="right")&&(n=this.horizontalAlign),h=this.maxWidth=this.maxWidth!==null?this.maxWidth:.5*o.width,d=this.maxHeight=this.maxHeight!==null?this.maxHeight:o.height),this.errorMarkerColor=[];for(var p=0;p<this.dataSeries.length;p++){var m=this.dataSeries[p];if(m.dataPoints&&m.dataPoints.length){if(m.type!=="pie"&&m.type!=="doughnut"&&m.type!=="funnel"&&m.type!=="pyramid"){var g=m.legendMarkerType=m.legendMarkerType?m.legendMarkerType:m.type!=="line"&&m.type!=="stepLine"&&m.type!=="spline"&&m.type!=="scatter"&&m.type!=="bubble"||!m.markerType?m.type==="error"&&m._linkedSeries?m._linkedSeries.legendMarkerType?m._linkedSeries.legendMarkerType:mt.getDefaultLegendMarker(m._linkedSeries.type):mt.getDefaultLegendMarker(m.type):m.markerType,s=m.legendText?m.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:m,dataPoint:null}):m.name,y=m.legendMarkerColor=m.legendMarkerColor?m.legendMarkerColor:m.markerColor?m.markerColor:m.type==="error"?P(m.whiskerColor)?m._colorSet[0]:m.whiskerColor:m._colorSet[0],M=m.markerSize||m.type!=="line"&&m.type!=="stepLine"&&m.type!=="spline"?.75*this.lineHeight:0,T=m.legendMarkerBorderColor?m.legendMarkerBorderColor:m.markerBorderColor,x=m.legendMarkerBorderThickness?m.legendMarkerBorderThickness:m.markerBorderThickness?Math.max(1,Math.round(.2*M)):0;m.type==="error"&&this.errorMarkerColor.push(y),s=m.legendText=this.chart.replaceKeywordsWithValue(s,m.dataPoints[0],m,p),g={markerType:g,markerColor:y,text:s,textBlock:null,chartType:m.type,markerSize:M,lineColor:m._colorSet[0],dataSeriesIndex:m.index,dataPointIndex:null,markerBorderColor:T,markerBorderThickness:x},b.push(g)}else for(var D=0;D<m.dataPoints.length;D++){var C=m.dataPoints[D],g=C.legendMarkerType?C.legendMarkerType:m.legendMarkerType?m.legendMarkerType:mt.getDefaultLegendMarker(m.type),s=C.legendText?C.legendText:m.legendText?m.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:m,dataPoint:C}):C.name?C.name:"DataPoint: "+(D+1),y=C.legendMarkerColor?C.legendMarkerColor:m.legendMarkerColor?m.legendMarkerColor:C.color?C.color:m.color?m.color:m._colorSet[D%m._colorSet.length],M=.75*this.lineHeight,T=C.legendMarkerBorderColor?C.legendMarkerBorderColor:m.legendMarkerBorderColor?m.legendMarkerBorderColor:C.markerBorderColor?C.markerBorderColor:m.markerBorderColor,x=C.legendMarkerBorderThickness?C.legendMarkerBorderThickness:m.legendMarkerBorderThickness?m.legendMarkerBorderThickness:C.markerBorderThickness||m.markerBorderThickness?Math.max(1,Math.round(.2*M)):0,s=this.chart.replaceKeywordsWithValue(s,C,m,D),g={markerType:g,markerColor:y,text:s,textBlock:null,chartType:m.type,markerSize:M,dataSeriesIndex:p,dataPointIndex:D,markerBorderColor:T,markerBorderThickness:x};(C.showInLegend||m.showInLegend&&C.showInLegend!==!1)&&b.push(g)}P(m.legendText)&&(m.legendText=m.name)}}if(this.reversed===!0&&b.reverse(),0<b.length){for(m=null,s=C=D=0,C=this.itemWidth!==null?this.itemMaxWidth!==null?Math.min(this.itemWidth,this.itemMaxWidth,h):this.itemMaxWidth=Math.min(this.itemWidth,h):this.itemMaxWidth!==null?Math.min(this.itemMaxWidth,h):this.itemMaxWidth=h,M=M===0?.75*this.lineHeight:M,C=(this.itemMaxWidth?this.itemMaxWidth:C)-(M+_),p=0;p<b.length;p++)g=b[p],y=C,(g.chartType==="line"||g.chartType==="spline"||g.chartType==="stepLine")&&(y-=2*.1*this.lineHeight),0>=d||typeof d>"u"||0>=y||typeof y>"u"||(this.orientation==="horizontal"?(g.textBlock=new te(this.ctx,{x:0,y:0,maxWidth:y,maxHeight:this.itemWrap?d:this.lineHeight,angle:0,text:g.text,textAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),g.textBlock.measureText(),this.itemWidth!==null&&(g.textBlock.width=this.itemWidth-(M+_+(g.chartType==="line"||g.chartType==="spline"||g.chartType==="stepLine"?2*.1*this.lineHeight:0))),(!m||m.width+Math.round(g.textBlock.width+M+_+(m.width===0?0:this.horizontalSpacing)+(g.chartType==="line"||g.chartType==="spline"||g.chartType==="stepLine"?2*.1*this.lineHeight:0))>h)&&(m={items:[],width:0},u.push(m),this.height+=s,s=0),s=Math.max(s,g.textBlock.height?g.textBlock.height:this.lineHeight),g.textBlock.x=m.width,g.textBlock.y=0,m.width+=Math.round(g.textBlock.width+M+_+(m.width===0?0:this.horizontalSpacing)+(g.chartType==="line"||g.chartType==="spline"||g.chartType==="stepLine"?2*.1*this.lineHeight:0)),m.items.push(g),this.width=Math.max(m.width,this.width)):(g.textBlock=new te(this.ctx,{x:0,y:0,maxWidth:C,maxHeight:this.itemWrap===!0?d:1.5*this.fontSize,angle:0,text:g.text,textAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),g.textBlock.measureText(),this.itemWidth!==null&&(g.textBlock.width=this.itemWidth-(M+_+(g.chartType==="line"||g.chartType==="spline"||g.chartType==="stepLine"?2*.1*this.lineHeight:0))),this.height<d-this.lineHeight?(m={items:[],width:0},u.push(m)):(m=u[D],D=(D+1)%u.length),m&&(this.height+=g.textBlock.height?g.textBlock.height:this.lineHeight,g.textBlock.x=m.width,g.textBlock.y=0,m.width+=Math.round(g.textBlock.width+M+_+(m.width===0?0:this.horizontalSpacing)+(g.chartType==="line"||g.chartType==="spline"||g.chartType==="stepLine"?2*.1*this.lineHeight:0)),m.items.push(g),this.width=Math.max(m.width,this.width))));this.height=this.itemWrap===!1?u.length*this.lineHeight:this.height+s,this.height=Math.min(d,this.height),this.width=Math.min(h,this.width)}for(this.verticalAlign==="top"?(a=this.horizontalAlign==="left"?o.x1:this.horizontalAlign==="right"?o.x2-this.width:o.x1+o.width/2-this.width/2,e=o.y1):this.verticalAlign==="center"?(a=this.horizontalAlign==="left"?o.x1:this.horizontalAlign==="right"?o.x2-this.width:o.x1+o.width/2-this.width/2,e=o.y1+o.height/2-this.height/2):this.verticalAlign==="bottom"&&(a=this.horizontalAlign==="left"?o.x1:this.horizontalAlign==="right"?o.x2-this.width:o.x1+o.width/2-this.width/2,e=o.y2-this.height),this.items=b,p=0;p<this.items.length;p++)g=b[p],g.id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[g.id]={id:g.id,objectType:"legendItem",legendItemIndex:p,dataSeriesIndex:g.dataSeriesIndex,dataPointIndex:g.dataPointIndex};this.markerSize=M,this.rows=u,0<b.length&&t.layoutManager.registerSpace(n,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:a,y1:e,x2:a+this.width,y2:e+this.height}},dt.prototype.render=function(){var t=this.bounds.x1,o=this.bounds.y1,n=this.markerMargin,e=this.maxWidth,a=this.maxHeight,h=this.markerSize,d=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(t,o,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var _=0,b=0;b<d.length;b++){for(var u=d[b],p=0,m=0;m<u.items.length;m++){var g=u.items[m],s=g.textBlock.x+t+(m===0?.2*h:this.horizontalSpacing),y=o+_,M=s;if(this.chart.data[g.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t,o,e,Math.max(a-a%this.lineHeight,0)),this.ctx.clip(),(g.chartType==="line"||g.chartType==="stepLine"||g.chartType==="spline")&&(this.ctx.strokeStyle=g.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(s-.1*this.lineHeight,y+this.lineHeight/2),this.ctx.lineTo(s+.85*this.lineHeight,y+this.lineHeight/2),this.ctx.stroke(),M-=.1*this.lineHeight),g.chartType==="error"){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=h/8,this.ctx.beginPath();var T=s-.08*this.lineHeight+.1*this.lineHeight,x=y+.15*this.lineHeight,D=.7*this.lineHeight,C=D+.02*this.lineHeight;this.ctx.moveTo(T,x),this.ctx.lineTo(T+D,x),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(T+D/2,x),this.ctx.lineTo(T+D/2,x+C),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(T,x+C),this.ctx.lineTo(T+D,x+C),this.ctx.stroke(),this.errorMarkerColor.shift()}Se.drawMarker(s+h/2,y+this.lineHeight/2,this.ctx,g.markerType,g.chartType==="error"||g.chartType==="line"||g.chartType==="spline"?g.markerSize/2:g.markerSize,g.markerColor,g.markerBorderColor,g.markerBorderThickness),g.textBlock.x=s+n+h,(g.chartType==="line"||g.chartType==="stepLine"||g.chartType==="spline")&&(g.textBlock.x+=.1*this.lineHeight),g.textBlock.y=Math.round(y+this.lineHeight/2),g.textBlock.render(!0),this.ctx.restore(),p=0<m?Math.max(p,g.textBlock.height?g.textBlock.height:this.lineHeight):g.textBlock.height?g.textBlock.height:this.lineHeight,this.chart.data[g.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),s=z(g.id),this.ghostCtx.fillStyle=s,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(M,g.textBlock.y-this.lineHeight/2,g.textBlock.x+g.textBlock.width-M,g.textBlock.height?g.textBlock.height:this.lineHeight),g.x1=this.chart._eventManager.objectMap[g.id].x1=M,g.y1=this.chart._eventManager.objectMap[g.id].y1=g.textBlock.y-this.lineHeight/2,g.x2=this.chart._eventManager.objectMap[g.id].x2=g.textBlock.x+g.textBlock.width,g.y2=this.chart._eventManager.objectMap[g.id].y2=g.textBlock.y+(g.textBlock.height?g.textBlock.height:this.lineHeight)-this.lineHeight/2}_+=p}},c(mt,Ie),mt.prototype.getDefaultAxisPlacement=function(){var t=this.type;return t==="column"||t==="line"||t==="stepLine"||t==="spline"||t==="area"||t==="stepArea"||t==="splineArea"||t==="stackedColumn"||t==="stackedLine"||t==="bubble"||t==="scatter"||t==="stackedArea"||t==="stackedColumn100"||t==="stackedLine100"||t==="stackedArea100"||t==="candlestick"||t==="ohlc"||t==="rangeColumn"||t==="rangeArea"||t==="rangeSplineArea"||t==="boxAndWhisker"||t==="waterfall"?"normal":t==="bar"||t==="stackedBar"||t==="stackedBar100"||t==="rangeBar"?"xySwapped":t==="pie"||t==="doughnut"||t==="funnel"||t==="pyramid"?"none":(t!=="error"&&window.console.log("Unknown Chart Type: "+t),null)},mt.getDefaultLegendMarker=function(t){return t==="column"||t==="stackedColumn"||t==="stackedLine"||t==="bar"||t==="stackedBar"||t==="stackedBar100"||t==="bubble"||t==="scatter"||t==="stackedColumn100"||t==="stackedLine100"||t==="stepArea"||t==="candlestick"||t==="ohlc"||t==="rangeColumn"||t==="rangeBar"||t==="rangeArea"||t==="rangeSplineArea"||t==="boxAndWhisker"||t==="waterfall"?"square":t==="line"||t==="stepLine"||t==="spline"||t==="pie"||t==="doughnut"?"circle":t==="area"||t==="splineArea"||t==="stackedArea"||t==="stackedArea100"||t==="funnel"||t==="pyramid"?"triangle":t==="error"?"none":(window.console.log("Unknown Chart Type: "+t),null)},mt.prototype.getDataPointAtX=function(t,o){if(!this.dataPoints||this.dataPoints.length===0)return null;var n={dataPoint:null,distance:1/0,index:NaN},e=null,a=0,h=0,d=1,_=1/0,b=0,u=0,p=0;for(this.chart.plotInfo.axisPlacement!=="none"&&(this.axisX.logarithmic?(p=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),p=1<p?Math.min(Math.max((this.dataPoints.length-1)/p*Math.log(t/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0):(p=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,p=0<p?Math.min(Math.max((this.dataPoints.length-1)/p*(t-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0));;){if(h=0<d?p+a:p-a,0<=h&&h<this.dataPoints.length){var e=this.dataPoints[h],m=this.axisX&&this.axisX.logarithmic?e.x>t?e.x/t:t/e.x:Math.abs(e.x-t);if(m<n.distance&&(n.dataPoint=e,n.distance=m,n.index=h),e=m,e<=_?_=e:0<d?b++:u++,1e3<b&&1e3<u)break}else if(0>p-a&&p+a>=this.dataPoints.length)break;d===-1?(a++,d=1):d=-1}return o||(n.dataPoint.x.getTime?n.dataPoint.x.getTime():n.dataPoint.x)!==(t.getTime?t.getTime():t)?o&&n.dataPoint!==null?n:null:n},mt.prototype.getDataPointAtXY=function(t,o,n){if(!this.dataPoints||this.dataPoints.length===0||t<this.chart.plotArea.x1||t>this.chart.plotArea.x2||o<this.chart.plotArea.y1||o>this.chart.plotArea.y2)return null;n=n||!1;var e=[],a=0,h=0,d=1,_=!1,b=1/0,u=0,p=0,g=0;if(this.chart.plotInfo.axisPlacement!=="none")if(g=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:t,y:o}),this.axisX.logarithmic)var m=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x),g=1<m?Math.min(Math.max((this.dataPoints.length-1)/m*Math.log(g/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;else m=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x,g=0<m?Math.min(Math.max((this.dataPoints.length-1)/m*(g-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0;for(;;){if(h=0<d?g+a:g-a,0<=h&&h<this.dataPoints.length){var m=this.chart._eventManager.objectMap[this.dataPointIds[h]],s=this.dataPoints[h],y=null;if(m){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":t>=m.x1&&t<=m.x2&&o>=m.y1&&o<=m.y2&&(e.push({dataPoint:s,dataPointIndex:h,dataSeries:this,distance:Math.min(Math.abs(m.x1-t),Math.abs(m.x2-t),Math.abs(m.y1-o),Math.abs(m.y2-o))}),_=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var M=ne("markerSize",s,this)||4,T=n?20:M,y=Math.sqrt(Math.pow(m.x1-t,2)+Math.pow(m.y1-o,2));y<=T&&e.push({dataPoint:s,dataPointIndex:h,dataSeries:this,distance:y}),m=Math.abs(m.x1-t),m<=b?b=m:0<d?u++:p++,y<=M/2&&(_=!0);break;case"rangeArea":case"rangeSplineArea":M=ne("markerSize",s,this)||4,T=n?20:M,y=Math.min(Math.sqrt(Math.pow(m.x1-t,2)+Math.pow(m.y1-o,2)),Math.sqrt(Math.pow(m.x1-t,2)+Math.pow(m.y2-o,2))),y<=T&&e.push({dataPoint:s,dataPointIndex:h,dataSeries:this,distance:y}),m=Math.abs(m.x1-t),m<=b?b=m:0<d?u++:p++,y<=M/2&&(_=!0);break;case"bubble":M=m.size,y=Math.sqrt(Math.pow(m.x1-t,2)+Math.pow(m.y1-o,2)),y<=M/2&&(e.push({dataPoint:s,dataPointIndex:h,dataSeries:this,distance:y}),_=!0);break;case"pie":case"doughnut":M=m.center,T=this.type==="doughnut"?m.percentInnerRadius*m.radius:0,y=Math.sqrt(Math.pow(M.x-t,2)+Math.pow(M.y-o,2)),y<m.radius&&y>T&&(y=Math.atan2(o-M.y,t-M.x),0>y&&(y+=2*Math.PI),y=Number(((180*(y/Math.PI)%360+360)%360).toFixed(12)),M=Number(((180*(m.startAngle/Math.PI)%360+360)%360).toFixed(12)),T=Number(((180*(m.endAngle/Math.PI)%360+360)%360).toFixed(12)),T===0&&1<m.endAngle&&(T=360),M>=T&&s.y!==0&&!P(s.y)&&(T+=360,y<M&&(y+=360)),y>M&&y<T&&(e.push({dataPoint:s,dataPointIndex:h,dataSeries:this,distance:0}),_=!0));break;case"funnel":case"pyramid":y=m.funnelSection,o>y.y1&&o<y.y4&&(y.y6?o>y.y6?(h=y.x6+(y.x5-y.x6)/(y.y5-y.y6)*(o-y.y6),y=y.x3+(y.x4-y.x3)/(y.y4-y.y3)*(o-y.y3)):(h=y.x1+(y.x6-y.x1)/(y.y6-y.y1)*(o-y.y1),y=y.x2+(y.x3-y.x2)/(y.y3-y.y2)*(o-y.y2)):(h=y.x1+(y.x4-y.x1)/(y.y4-y.y1)*(o-y.y1),y=y.x2+(y.x3-y.x2)/(y.y3-y.y2)*(o-y.y2)),t>h&&t<y&&(e.push({dataPoint:s,dataPointIndex:m.dataPointIndex,dataSeries:this,distance:0}),_=!0));break;case"boxAndWhisker":(t>=m.x1-m.borderThickness/2&&t<=m.x2+m.borderThickness/2&&o>=m.y4-m.borderThickness/2&&o<=m.y1+m.borderThickness/2||Math.abs(m.x2-t+m.x1-t)<m.borderThickness&&o>=m.y1&&o<=m.y4)&&(e.push({dataPoint:s,dataPointIndex:h,dataSeries:this,distance:Math.min(Math.abs(m.x1-t),Math.abs(m.x2-t),Math.abs(m.y2-o),Math.abs(m.y3-o))}),_=!0);break;case"candlestick":(t>=m.x1-m.borderThickness/2&&t<=m.x2+m.borderThickness/2&&o>=m.y2-m.borderThickness/2&&o<=m.y3+m.borderThickness/2||Math.abs(m.x2-t+m.x1-t)<m.borderThickness&&o>=m.y1&&o<=m.y4)&&(e.push({dataPoint:s,dataPointIndex:h,dataSeries:this,distance:Math.min(Math.abs(m.x1-t),Math.abs(m.x2-t),Math.abs(m.y2-o),Math.abs(m.y3-o))}),_=!0);break;case"ohlc":(Math.abs(m.x2-t+m.x1-t)<m.borderThickness&&o>=m.y2&&o<=m.y3||t>=m.x1&&t<=(m.x2+m.x1)/2&&o>=m.y1-m.borderThickness/2&&o<=m.y1+m.borderThickness/2||t>=(m.x1+m.x2)/2&&t<=m.x2&&o>=m.y4-m.borderThickness/2&&o<=m.y4+m.borderThickness/2)&&(e.push({dataPoint:s,dataPointIndex:h,dataSeries:this,distance:Math.min(Math.abs(m.x1-t),Math.abs(m.x2-t),Math.abs(m.y2-o),Math.abs(m.y3-o))}),_=!0)}if(_||1e3<u&&1e3<p)break}}else if(0>g-a&&g+a>=this.dataPoints.length)break;d===-1?(a++,d=1):d=-1}for(t=null,o=0;o<e.length;o++)t?e[o].distance<=t.distance&&(t=e[o]):t=e[o];return t},mt.prototype.getMarkerProperties=function(t,o,n,e){var a=this.dataPoints,h=a[t].markerColor?a[t].markerColor:this.markerColor?this.markerColor:a[t].color?a[t].color:this.color?this.color:this._colorSet[t%this._colorSet.length],d=a[t].markerBorderColor?a[t].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,_=P(a[t].markerBorderThickness)?this.markerBorderThickness?this.markerBorderThickness:null:a[t].markerBorderThickness,b=a[t].markerType?a[t].markerType:this.markerType;return t=P(a[t].markerSize)?this.markerSize:a[t].markerSize,{x:o,y:n,ctx:e,type:b,size:t,color:h,borderColor:d,borderThickness:_}},c(Z,Ie),Z.prototype.createExtraLabelsForLog=function(t){if(t=(t||0)+1,!(5<t)){var o=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(o/this.viewportMinimum)<this.noTicks-1){for(var n=Z.getNiceNumber((o-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),e=Math.ceil(this.viewportMinimum/n)*n;e<o;e+=n)e<this.viewportMinimum||this.logLabelValues.push(e);this.logLabelValues.sort(k),this.createExtraLabelsForLog(t)}}},Z.prototype.createLabels=function(){var t,o,n=0,d=0,e,a=0,h=0,d=0,d=this.interval,_=0,b,u=.6*this.chart.height,p;t=!1;var m=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],g=m.length?P(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if(this.type!=="axisX"||this.valueType!=="dateTime"||this.logarithmic){if(e=this.viewportMaximum,this.labels){t=Math.ceil(d);for(var d=Math.ceil(this.intervalStartPosition),s=!1,n=d;n<this.viewportMaximum;n+=t)if(this.labels[n])s=!0;else{s=!1;break}s&&(this.interval=t,this.intervalStartPosition=d)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),d=0,s=g;d<this.logLabelValues.length;d++)if(n=this.logLabelValues[d],n<this.viewportMinimum)d++;else{for(;s<m.length&&n>m[s].endValue;s++);t=s<m.length&&n>=m[s].startValue&&n<=m[s].endValue,p=n,t||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:p,label:this.labels[p]?this.labels[p]:null}):this.type==="axisX"&&this.labels[p]?this.labels[p]:ze(p,this.valueFormatString,this.chart._cultureInfo),t=new te(this.ctx,{x:0,y:0,maxWidth:a,maxHeight:h,angle:this.labelAngle,text:this.prefix+t+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,cornerRadius:this.labelCornerRadius,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:this.labelBorderThickness}),this._labels.push({position:p,textBlock:t,effectiveHeight:null}))}for(s=g,n=this.intervalStartPosition;n<=e;n=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?n*Math.pow(this.logarithmBase,this.interval):n+this.interval:(this.logarithmic&&this.equidistantInterval?n*Math.pow(this.logarithmBase,this.interval):n+this.interval).toFixed(12))){for(;s<m.length&&n>m[s].endValue;s++);t=s<m.length&&n>=m[s].startValue&&n<=m[s].endValue,p=n,t||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:p,label:this.labels[p]?this.labels[p]:null}):this.type==="axisX"&&this.labels[p]?this.labels[p]:ze(p,this.valueFormatString,this.chart._cultureInfo),t=new te(this.ctx,{x:0,y:0,maxWidth:a,maxHeight:h,angle:this.labelAngle,text:this.prefix+t+this.suffix,textAlign:this.labelTextAlign,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:p,textBlock:t,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),e=i(new Date(this.viewportMaximum),this.interval,this.intervalType),s=g,n=this.intervalStartPosition;n<e;i(n,d,this.intervalType)){for(t=n.getTime();s<m.length&&t>m[s].endValue;s++);p=t,t=s<m.length&&t>=m[s].startValue&&t<=m[s].endValue,t||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(p),label:this.labels[p]?this.labels[p]:null}):this.type==="axisX"&&this.labels[p]?this.labels[p]:Ca(p,this.valueFormatString,this.chart._cultureInfo),t=new te(this.ctx,{x:0,y:0,maxWidth:a,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:h,angle:this.labelAngle,text:this.prefix+t+this.suffix,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:p,textBlock:t,effectiveHeight:null,breaksLabelType:void 0}))}for(this._position==="bottom"||this._position==="top"?(_=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Yt[this.intervalType+"Duration"]*this.interval,a=typeof this.options.labelMaxWidth>"u"?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(h=typeof this.options.labelWrap>"u"||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):(this._position==="left"||this._position==="right")&&(_=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Yt[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(a=typeof this.options.labelMaxWidth>"u"?.3*this.chart.width>>0:this.options.labelMaxWidth),h=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),d=0;d<this._labels.length;d++){t=this._labels[d].textBlock,t.maxWidth=a,t.maxHeight=h;var y=t.measureText();b=y.height}if(e=[],g=m=0,this.labelAutoFit||this.options.labelAutoFit){if(P(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),this._position==="bottom"||this._position==="top")if(a=Math.floor(.9*_),g=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,n=0;n<this._labels.length;n++)if(!this._labels[n].breaksLabelType){t=this._labels[n].textBlock;for(var M,s=t.text.split(" "),d=0;d<s.length;d++)p=s[d],this.ctx.font=t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily,p=this.ctx.measureText(p),p.width>g&&(M=n,g=p.width)}for(n=0,n=this.intervalStartPosition<this.viewportMinimum?1:0;n<this._labels.length;n++)if(!this._labels[n].breaksLabelType){for(t=this._labels[n].textBlock,y=t.measureText(),s=n+1;s<this._labels.length;s++)if(!this._labels[s].breaksLabelType){o=this._labels[s].textBlock,o=o.measureText();break}if(e.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,e),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),d=a*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(h-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),P(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&this.options.labelAngle!==0){if(this.sessionVariables.labelMaxHeight=this.labelAngle===0?h:Math.min((d-a*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),d),p=(u-(b+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),!P(this.options.labelWrap))this.labelWrap?P(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,g),p),this.sessionVariables.labelWrap=this.labelWrap,o&&y.width+o.width>>0>2*a&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>a?-25:this.sessionVariables.labelAngle):P(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelMaxWidth=a,o&&y.width+o.width>>0>2*a&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=p)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>a?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelWrap=this.labelWrap);else if(P(this.options.labelWrap)){if(!P(this.options.labelMaxWidth))this.options.labelMaxWidth<a?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=d):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=h);else if(!P(o)){if(d=y.width+o.width>>0,s=this.labelFontSize,g<a)d-2*a>m&&(m=d-2*a,d>=2*a&&d<2.2*a?(this.sessionVariables.labelMaxWidth=a,P(this.options.labelFontSize)&&12<s&&(s=Math.floor(12/13*s),t.measureText()),this.sessionVariables.labelFontSize=P(this.options.labelFontSize)?s:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):d>=2.2*a&&d<2.8*a?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=p,this.sessionVariables.labelFontSize=s):d>=2.8*a&&d<3.2*a?(this.sessionVariables.labelMaxWidth=Math.max(a,g),this.sessionVariables.labelWrap=!0,P(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=P(this.options.labelFontSize)?s:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):d>=3.2*a&&d<3.6*a?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=p,this.sessionVariables.labelFontSize=this.labelFontSize):d>3.6*a&&d<5*a?(P(this.options.labelFontSize)&&12<s&&(s=Math.floor(12/13*s),t.measureText()),this.sessionVariables.labelFontSize=P(this.options.labelFontSize)?s:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=p):d>5*a&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelFontSize=s,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelAngle=this.labelAngle));else if(M===n&&(M===0&&g+this._labels[M+1].textBlock.measureText().width-2*a>m||M===this._labels.length-1&&g+this._labels[M-1].textBlock.measureText().width-2*a>m||0<M&&M<this._labels.length-1&&g+this._labels[M+1].textBlock.measureText().width-2*a>m&&g+this._labels[M-1].textBlock.measureText().width-2*a>m))m=M===0?g+this._labels[M+1].textBlock.measureText().width-2*a:g+this._labels[M-1].textBlock.measureText().width-2*a,this.sessionVariables.labelFontSize=P(this.options.labelFontSize)?s:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=p;else if(m===0)for(this.sessionVariables.labelFontSize=P(this.options.labelFontSize)?s:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,d=0;d<this._labels.length;d++)t=this._labels[d].textBlock,t.maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,g),p),y=t.measureText(),d<this._labels.length-1&&(s=d+1,o=this._labels[s].textBlock,o.maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,g),p),o=o.measureText(),y.width+o.width>>0>2*a&&(this.sessionVariables.labelAngle=-25))}}}else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=this.labelAngle===0?h:Math.min((d-a*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),d),p=this.labelAngle!=0?(u-(b+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):a,this.sessionVariables.labelMaxHeight=this.labelWrap?(u-p*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,P(this.options.labelWrap)?P(this.options.labelWrap)&&(this.labelWrap&&!P(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:p,this.sessionVariables.labelMaxHeight=h):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=p,this.sessionVariables.labelMaxHeight=d<.9*_?.9*_:d,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:p):(P(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:p,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=h)}for(d=0;d<this._labels.length;d++)t=this._labels[d].textBlock,t.maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(n=0;n<this._labels.length;n++)t=this._labels[n].textBlock,t.maxWidth=this.labelMaxWidth=P(this.options.labelMaxWidth)?P(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=a:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=P(this.options.labelFontSize)?P(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=P(this.options.labelAngle)?P(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=P(this.options.labelWrap)?P(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=P(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=h:this.sessionVariables.labelMaxHeight,t.measureText();else if(this._position==="left"||this._position==="right")if(a=P(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,h=typeof this.options.labelWrap>"u"||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelAngle=P(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,n=0;n<this._labels.length;n++)if(!this._labels[n].breaksLabelType){for(t=this._labels[n].textBlock,y=t.measureText(),s=n+1;s<this._labels.length;s++)if(!this._labels[s].breaksLabelType){o=this._labels[s].textBlock,o=o.measureText();break}e.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,e),d=a*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(h-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),P(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&this.options.labelAngle!==0?P(this.options.labelWrap)?P(this.options.labelWrap)&&(P(this.options.labelMaxWidth)?P(o)||(_=y.height+o.height>>0,_-2*h>g&&(g=_-2*h,_>=2*h&&_<2.4*h?(P(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelFontSize=P(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):_>=2.4*h&&_<2.8*h?(this.sessionVariables.labelMaxHeight=d,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):_>=2.8*h&&_<3.2*h?(this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelWrap=!0,P(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=P(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=P(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):_>=3.2*h&&_<3.6*h?(this.sessionVariables.labelMaxHeight=d,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):_>3.6*h&&_<10*h?(P(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=P(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelAngle=P(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):_>10*h&&_<50*h&&(P(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=P(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelAngle=P(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle))):(this.sessionVariables.labelMaxHeight=h,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:a,this.sessionVariables.labelMaxHeight=h):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=this.labelAngle===0?a:Math.min((d-h*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),h),P(this.options.labelWrap)?P(this.options.labelWrap)&&(this.labelWrap&&!P(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=d):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:a,this.sessionVariables.labelMaxHeight=this.labelAngle===0?h:d,P(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=this.labelAngle===0?h:d,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=a):(this.sessionVariables.labelMaxHeight=h,P(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(d=0;d<this._labels.length;d++)t=this._labels[d].textBlock,t.maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(P(this.chart.stockChart)||this.chart.isNavigator||(this.sessionVariables.labelMaxHeight=h),n=0;n<this._labels.length;n++)t=this._labels[n].textBlock,t.maxWidth=this.labelMaxWidth=P(this.options.labelMaxWidth)?P(this.sessionVariables.labelMaxWidth)?this.sessionVariables.labelMaxWidth=a:this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=P(this.options.labelFontSize)?P(this.sessionVariables.labelFontSize)?this.sessionVariables.labelFontSize=this.labelFontSize:this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=P(this.options.labelAngle)?P(this.sessionVariables.labelAngle)?this.sessionVariables.labelAngle=this.labelAngle:this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=P(this.options.labelWrap)?P(this.sessionVariables.labelWrap)?this.sessionVariables.labelWrap=this.labelWrap:this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=P(this.sessionVariables.labelMaxHeight)?this.sessionVariables.labelMaxHeight=h:this.sessionVariables.labelMaxHeight,t.measureText()}for(n=0;n<this.stripLines.length;n++){var a=this.stripLines[n],T;a.labelPlacement==="outside"?(h=this.sessionVariables.labelMaxWidth,(this._position==="bottom"||this._position==="top")&&(P(a.options.labelWrap)&&!P(this.sessionVariables.stripLineLabelMaxHeight)?T=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=T=a.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),(this._position==="left"||this._position==="right")&&(P(a.options.labelWrap)&&!P(this.sessionVariables.stripLineLabelMaxHeight)?T=this.sessionVariables.stripLineLabelMaxHeight:this.sessionVariables.stripLineLabelMaxHeight=T=a.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),P(a.labelBackgroundColor)&&(a.labelBackgroundColor="#EEEEEE")):(h=this._position==="bottom"||this._position==="top"?.9*this.chart.width>>0:.9*this.chart.height>>0,T=P(a.options.labelWrap)||a.labelWrap?this._position==="bottom"||this._position==="top"?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,P(a.labelBackgroundColor)&&(P(a.startValue)&&a.startValue!==0?a.labelBackgroundColor=N?"transparent":null:a.labelBackgroundColor="#EEEEEE")),a.labelFontSize=a.labelPlacement==="outside"&&P(a.options.labelFontSize)?this.labelFontSize:a.labelFontSize,a.labelFontFamily=a.labelPlacement==="outside"&&P(a.options.labelFontFamily)?this.labelFontFamily:a.labelFontFamily,a.labelFontWeight=a.labelPlacement==="outside"&&P(a.options.labelFontWeight)?this.labelFontWeight:a.labelFontWeight,a.labelFontStyle=a.labelPlacement==="outside"&&P(a.options.labelFontStyle)?this.labelFontStyle:a.labelFontStyle,t=new te(this.ctx,{x:0,y:0,backgroundColor:a.labelBackgroundColor,borderColor:a.labelBorderColor,borderThickness:a.labelBorderThickness,cornerRadius:a.labelCornerRadius,maxWidth:a.options.labelMaxWidth?a.options.labelMaxWidth:h,maxHeight:T,angle:this.labelAngle,text:a.labelFormatter?a.labelFormatter({chart:this.chart,axis:this,stripLine:a}):a.label,textAlign:a.labelTextAlign,fontSize:a.labelFontSize,fontFamily:a.labelFontFamily,fontWeight:a.labelFontWeight,fontColor:a.labelFontColor||a.color,fontStyle:a.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:a.value,textBlock:t,effectiveHeight:null,stripLine:a})}},Z.prototype.createLabelsAndCalculateWidth=function(){var t=0,o=0;this._labels=[],this._stripLineLabels=[];var n=this.chart.isNavigator?0:5;if(this._position==="left"||this._position==="right"){if(this.createLabels(),this.labelPlacement!="inside"||this.labelPlacement==="inside"&&0<this._index)for(o=0;o<this._labels.length;o++){var e=this._labels[o].textBlock,e=e.measureText(),a=0,a=this.labelAngle===0?e.width:e.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+e.height*Math.sin(Math.PI/180*Math.abs(this.labelAngle));t<a&&(this.labelEffectiveWidth=t=a),this._labels[o].effectiveWidth=a}for(o=0;o<this._stripLineLabels.length;o++)this._stripLineLabels[o].stripLine.labelPlacement==="outside"&&this._stripLineLabels[o].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[o].stripLine.value<=this.viewportMaximum&&(e=this._stripLineLabels[o].textBlock,e=e.measureText(),a=this.labelAngle===0?e.width:e.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+e.height*Math.sin(Math.PI/180*Math.abs(this.labelAngle)),this.tickPlacement==="inside"&&(a+=this.tickLength),this.labelPlacement==="inside"&&(t+=0<this._index?a:0),t<a&&(t=a),this.stripLineLabelEffectiveWidth=this._stripLineLabels[o].effectiveWidth=a)}return(this.title?this._titleTextBlock.measureText().height+2:0)+t+(this.tickPlacement==="inside"?0<this._index?this.tickLength:0:this.tickLength)+n},Z.prototype.createLabelsAndCalculateHeight=function(){var t=0;this._labels=[],this._stripLineLabels=[];var o,n=0,e=this.chart.isNavigator?0:5;if(this._position==="bottom"||this._position==="top"){if(this.createLabels(),this.labelPlacement!="inside"||this.labelPlacement==="inside"&&0<this._index)for(n=0;n<this._labels.length;n++){o=this._labels[n].textBlock,o=o.measureText();var a=0,a=this.labelAngle===0?o.height:o.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+o.height*Math.cos(Math.PI/180*Math.abs(this.labelAngle));t<a&&(this.labelEffectiveHeight=t=a),this._labels[n].effectiveHeight=a}for(n=0;n<this._stripLineLabels.length;n++)this._stripLineLabels[n].stripLine.labelPlacement==="outside"&&this._stripLineLabels[n].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[n].stripLine.value<=this.viewportMaximum&&(o=this._stripLineLabels[n].textBlock,o=o.measureText(),a=this.labelAngle===0?o.height:o.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+o.height*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),this.tickPlacement==="inside"&&(a+=this.tickLength),this.labelPlacement==="inside"&&(t+=0<this._index?a:0),t<a&&(t=a),this.stripLineLabelEffectiveHeight=this._stripLineLabels[n].effectiveHeight=a)}return(this.title?this._titleTextBlock.measureText().height+2:0)+t+(this.tickPlacement==="inside"?0<this._index?this.tickLength:0:this.tickLength)+e},Z.setLayout=function(t,o,n,e,a,h){var d,_,b,u,p=t[0]?t[0].chart:o[0].chart,m=p.isNavigator?0:10,g=p._axes;if(t&&0<t.length)for(var s=0;s<t.length;s++)t[s]&&t[s].calculateAxisParameters();if(o&&0<o.length)for(s=0;s<o.length;s++)o[s].calculateAxisParameters();if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].calculateAxisParameters();if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].calculateAxisParameters();for(s=0;s<g.length;s++)if(g[s]&&g[s].scaleBreaks&&g[s].scaleBreaks._appliedBreaks.length)for(var y=g[s].scaleBreaks._appliedBreaks,M=0;M<y.length&&!(y[M].startValue>g[s].viewportMaximum);M++)y[M].endValue<g[s].viewportMinimum||(P(g[s].scaleBreaks.firstBreakIndex)&&(g[s].scaleBreaks.firstBreakIndex=M),y[M].startValue>=g[s].viewPortMinimum&&(g[s].scaleBreaks.lastBreakIndex=M));for(var T=M=0,x=0,D=0,C=0,R=0,L=0,O,J,it=_=0,j,G,X,y=j=G=X=!1,s=0;s<g.length;s++)g[s]&&g[s].title&&(g[s]._titleTextBlock=new te(g[s].ctx,{text:g[s].title,fontSize:g[s].titleFontSize,fontFamily:g[s].titleFontFamily,fontWeight:g[s].titleFontWeight,fontColor:g[s].titleFontColor,fontStyle:g[s].titleFontStyle,borderColor:g[s].titleBorderColor,borderThickness:g[s].titleBorderThickness,backgroundColor:g[s].titleBackgroundColor,cornerRadius:g[s].titleCornerRadius,textBaseline:"middle",textAlign:g[s].titleTextAlign}));for(s=0;s<g.length;s++)if(g[s].title)switch(g[s]._position){case"left":g[s]._titleTextBlock.maxWidth=g[s].titleMaxWidth||h.height,g[s]._titleTextBlock.maxHeight=g[s].titleWrap?.8*h.width:1.5*g[s].titleFontSize,g[s]._titleTextBlock.angle=-90;break;case"right":g[s]._titleTextBlock.maxWidth=g[s].titleMaxWidth||h.height,g[s]._titleTextBlock.maxHeight=g[s].titleWrap?.8*h.width:1.5*g[s].titleFontSize,g[s]._titleTextBlock.angle=90;break;default:g[s]._titleTextBlock.maxWidth=g[s].titleMaxWidth||h.width,g[s]._titleTextBlock.maxHeight=g[s].titleWrap?.8*h.height:1.5*g[s].titleFontSize,g[s]._titleTextBlock.angle=0}if(a==="normal"){for(var D=[],C=[],R=[],L=[],W=[],F=[],Q=[],nt=[];4>M;){var V=0,Ht=0,Gt=0,he=0,re=a=0,yt=0,Ve=0,Kt=0,Qt=0,xt=0,Fe=0;if(n&&0<n.length)for(R=[],s=xt=0;s<n.length;s++)R.push(Math.ceil(n[s]?n[s].createLabelsAndCalculateWidth():0)),xt+=R[s],yt+=n[s]&&!p.isNavigator?n[s].margin:0;else R.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateWidth():0));if(Q.push(R),e&&0<e.length)for(L=[],s=Fe=0;s<e.length;s++)L.push(Math.ceil(e[s]?e[s].createLabelsAndCalculateWidth():0)),Fe+=L[s],Ve+=e[s]?e[s].margin:0;else L.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0));if(nt.push(L),d=Math.round(h.x1+xt+yt),b=Math.round(h.x2-Fe-Ve>p.width-m?p.width-m:h.x2-Fe-Ve),t&&0<t.length)for(D=[],s=Kt=0;s<t.length;s++)t[s]&&(t[s].lineCoordinates={}),t[s].lineCoordinates.width=Math.abs(b-d),t[s].title&&(t[s]._titleTextBlock.maxWidth=0<t[s].titleMaxWidth&&t[s].titleMaxWidth<t[s].lineCoordinates.width?t[s].titleMaxWidth:t[s].lineCoordinates.width),D.push(Math.ceil(t[s]?t[s].createLabelsAndCalculateHeight():0)),Kt+=D[s],a+=t[s]&&!p.isNavigator?t[s].margin:0;else D.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0));if(W.push(D),o&&0<o.length)for(C=[],s=Qt=0;s<o.length;s++)o[s]&&(o[s].lineCoordinates={}),o[s].lineCoordinates.width=Math.abs(b-d),o[s].title&&(o[s]._titleTextBlock.maxWidth=0<o[s].titleMaxWidth&&o[s].titleMaxWidth<o[s].lineCoordinates.width?o[s].titleMaxWidth:o[s].lineCoordinates.width),C.push(Math.ceil(o[s]?o[s].createLabelsAndCalculateHeight():0)),Qt+=C[s],re+=o[s]&&!p.isNavigator?o[s].margin:0;else C.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateHeight():0));if(F.push(C),t&&0<t.length)for(s=0;s<t.length;s++)t[s]&&(t[s].lineCoordinates.x1=d,b=Math.round(h.x2-Fe-Ve>p.width-m?p.width-m:h.x2-Fe-Ve),t[s]._labels&&1<t[s]._labels.length&&(_=u=0,u=t[s]._labels[1],_=t[s].valueType==="dateTime"?t[s]._labels[t[s]._labels.length-2]:t[s]._labels[t[s]._labels.length-1],T=u.textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),x=_.textBlock.width*Math.cos(Math.PI/180*Math.abs(_.textBlock.angle))+(_.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(_.textBlock.angle))),!t[s]||!t[s].labelAutoFit||P(O)||P(J)||p.isNavigator||p.stockChart||(_=0,0<t[s].labelAngle?J+x>b&&(_+=0<t[s].labelAngle?J+x-b-Fe:0):0>t[s].labelAngle?O-T<d&&O-T<t[s].viewportMinimum&&(it=d-(yt+t[s].tickLength+R+O-T+t[s].labelFontSize/2)):t[s].labelAngle===0&&(J+x>b&&(_=J+x/2-b-Fe),O-T<d&&O-T<t[s].viewportMinimum&&(it=d-yt-t[s].tickLength-R-O+T/2)),t[s].viewportMaximum===t[s].maximum&&t[s].viewportMinimum===t[s].minimum&&0<t[s].labelAngle&&0<_?b-=_:t[s].viewportMaximum===t[s].maximum&&t[s].viewportMinimum===t[s].minimum&&0>t[s].labelAngle&&0<it?d+=it:t[s].viewportMaximum===t[s].maximum&&t[s].viewportMinimum===t[s].minimum&&t[s].labelAngle===0&&(0<it&&(d+=it),0<_&&(b-=_))),p.panEnabled?Kt=P(p.sessionVariables.axisX.height)||p.stockChart?p.sessionVariables.axisX.height=Kt:p.sessionVariables.axisX.height:p.sessionVariables.axisX.height=Kt,_=Math.round(h.y2-Kt-a+V),u=Math.round(h.y2),t[s].lineCoordinates.x2=b,t[s].lineCoordinates.width=b-d,t[s].lineCoordinates.y1=_,t[s].lineCoordinates.y2=_,t[s].labelPlacement==="inside"&&0<s&&(t[s].lineCoordinates.y1=t[0].lineCoordinates.y2+V+(t[s].labelEffectiveHeight||0),t[s].lineCoordinates.y2=t[s].lineCoordinates.y1+t[s].lineThickness/2),t[s].tickPlacement==="inside"&&0<s&&(t[s].lineCoordinates.y1+=t[s].tickLength,t[s].lineCoordinates.y2=t[s].lineCoordinates.y1+t[s].lineThickness/2),t[s].bounds={x1:d,y1:_,x2:b,y2:u-(Kt+a-D[s]-V),width:b-d},t[s].bounds.height=t[s].bounds.y2-t[s].bounds.y1),V+=D[s]+t[s].margin;if(o&&0<o.length)for(s=0;s<o.length;s++)o[s].lineCoordinates.x1=Math.round(h.x1+xt+yt),o[s].lineCoordinates.x2=Math.round(h.x2-Fe-Ve>p.width-m?p.width-m:h.x2-Fe-Ve),o[s].lineCoordinates.width=Math.abs(b-d),o[s]._labels&&1<o[s]._labels.length&&(u=o[s]._labels[1],_=o[s].valueType==="dateTime"?o[s]._labels[o[s]._labels.length-2]:o[s]._labels[o[s]._labels.length-1],T=u.textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),x=_.textBlock.width*Math.cos(Math.PI/180*Math.abs(_.textBlock.angle))+(_.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(_.textBlock.angle))),p.panEnabled?Qt=P(p.sessionVariables.axisX2.height)||p.stockChart?p.sessionVariables.axisX2.height=Qt:p.sessionVariables.axisX2.height:p.sessionVariables.axisX2.height=Qt,_=Math.round(h.y1),u=o[s].lineCoordinates.y1=_+Qt+re-Ht,o[s].lineCoordinates.y2=_,o[s].labelPlacement==="inside"&&0<s&&(o[s].lineCoordinates.y1=o[0].lineCoordinates.y1-Ht-(o[s].labelEffectiveHeight||0)-5),o[s].tickPlacement==="inside"&&0<s&&(o[s].lineCoordinates.y1-=o[s].tickLength),o[s].bounds={x1:d,y1:_+(Qt+re-(o[s].labelPlacement==="inside"&&s===0?C[s]-5:C[s])-Ht),x2:b,y2:u,width:b-d},o[s].bounds.height=o[s].bounds.y2-o[s].bounds.y1,Ht+=(o[s].labelPlacement==="inside"&&s===0?C[s]-5:C[s])+o[s].margin;if(n&&0<n.length)for(s=0;s<n.length;s++)yt=p.isNavigator?0:10,n[s]&&(d=Math.round(t[0]?t[0].lineCoordinates.x1:o[0].lineCoordinates.x1),yt=n[s]._labels&&0<n[s]._labels.length?n[s]._labels[n[s]._labels.length-1].textBlock.height/2:m,_=Math.round(h.y1+Qt+re<Math.max(yt,m)?Math.max(yt,m):h.y1+Qt+re),b=Math.round(t[0]?t[0].lineCoordinates.x1:o[0].lineCoordinates.x1),yt=0<t.length?0:n[s]._labels&&0<n[s]._labels.length?n[s]._labels[0].textBlock.height/2:m,u=Math.round(h.y2-Kt-a-yt),n[s].lineCoordinates={x1:d-Gt,y1:_,x2:b-Gt,y2:u,height:Math.abs(u-_)},n[s].labelPlacement==="inside"&&0<s&&(n[s].lineCoordinates.x1=n[0].lineCoordinates.x1-Gt-(n[s].labelEffectiveWidth||0)-5,n[s].lineCoordinates.x2=n[s].lineCoordinates.x1+n[s].lineThickness/2),n[s].tickPlacement==="inside"&&0<s&&(n[s].lineCoordinates.x1-=n[s].tickLength,n[s].lineCoordinates.x2=n[s].lineCoordinates.x1+n[s].lineThickness/2),n[s].bounds={x1:d-((n[s].labelPlacement==="inside"&&s===0?R[s]-5:R[s])+Gt),y1:_,x2:b-Gt,y2:u,height:u-_},n[s].bounds.width=n[s].bounds.x2-n[s].bounds.x1,n[s].title&&(n[s]._titleTextBlock.maxWidth=0<n[s].titleMaxWidth&&n[s].titleMaxWidth<n[s].lineCoordinates.height?n[s].titleMaxWidth:n[s].lineCoordinates.height),Gt+=(n[s].labelPlacement==="inside"&&s===0?R[s]-5:R[s])+n[s].margin);if(e&&0<e.length)for(s=0;s<e.length;s++)e[s]&&(d=Math.round(t[0]?t[0].lineCoordinates.x2:o[0].lineCoordinates.x2),b=Math.round(d),yt=e[s]._labels&&0<e[s]._labels.length?e[s]._labels[e[s]._labels.length-1].textBlock.height/2:0,_=Math.round(h.y1+Qt+re<Math.max(yt,m)?Math.max(yt,m):h.y1+Qt+re),yt=0<t.length?0:e[s]._labels&&0<e[s]._labels.length?e[s]._labels[0].textBlock.height/2:0,u=Math.round(h.y2-(Kt+a+yt)),e[s].lineCoordinates={x1:d+he,y1:_,x2:d+he,y2:u,height:Math.abs(u-_)},e[s].labelPlacement==="inside"&&0<s&&(e[s].lineCoordinates.x1=e[0].lineCoordinates.x2+he+(e[s].labelEffectiveWidth||0)+5,e[s].lineCoordinates.x2=e[s].lineCoordinates.x1+e[s].lineThickness/2),e[s].tickPlacement==="inside"&&0<s&&(e[s].lineCoordinates.x1+=e[s].tickLength,e[s].lineCoordinates.x2=e[s].lineCoordinates.x1+e[s].lineThickness/2),e[s].bounds={x1:d+he,y1:_,x2:b+((e[s].labelPlacement==="inside"&&s===0?L[s]-5:L[s])+he),y2:u,height:u-_},e[s].bounds.width=e[s].bounds.x2-e[s].bounds.x1,e[s].title&&(e[s]._titleTextBlock.maxWidth=0<e[s].titleMaxWidth&&e[s].titleMaxWidth<e[s].lineCoordinates.height?e[s].titleMaxWidth:e[s].lineCoordinates.height),he+=(e[s].labelPlacement==="inside"&&s===0?L[s]-5:L[s])+e[s].margin);if(t&&0<t.length)for(s=0;s<t.length;s++)t[s]&&(t[s].calculateValueToPixelConversionParameters(),t[s].calculateBreaksSizeInValues(),t[s]._labels&&1<t[s]._labels.length&&(O=(t[s].logarithmic?Math.log(t[s]._labels[1].position/t[s].viewportMinimum)/t[s].conversionParameters.lnLogarithmBase:t[s]._labels[1].position-t[s].viewportMinimum)*Math.abs(t[s].conversionParameters.pixelPerUnit)+t[s].lineCoordinates.x1,d=t[s]._labels[t[s]._labels.length-(t[s].valueType==="dateTime"?2:1)].position,d=t[s].getApparentDifference(t[s].viewportMinimum,d),J=t[s].logarithmic?(1<d?Math.log(d)/t[s].conversionParameters.lnLogarithmBase*Math.abs(t[s].conversionParameters.pixelPerUnit):0)+t[s].lineCoordinates.x1:(0<d?d*Math.abs(t[s].conversionParameters.pixelPerUnit):0)+t[s].lineCoordinates.x1));if(o&&0<o.length)for(s=0;s<o.length;s++)o[s].calculateValueToPixelConversionParameters(),o[s].calculateBreaksSizeInValues(),o[s]._labels&&1<o[s]._labels.length&&(O=(o[s].logarithmic?Math.log(o[s]._labels[1].position/o[s].viewportMinimum)/o[s].conversionParameters.lnLogarithmBase:o[s]._labels[1].position-o[s].viewportMinimum)*Math.abs(o[s].conversionParameters.pixelPerUnit)+o[s].lineCoordinates.x1,d=o[s]._labels[o[s]._labels.length-(o[s].valueType==="dateTime"?2:1)].position,d=o[s].getApparentDifference(o[s].viewportMinimum,d),J=o[s].logarithmic?(1<d?Math.log(d)/o[s].conversionParameters.lnLogarithmBase*Math.abs(o[s].conversionParameters.pixelPerUnit):0)+o[s].lineCoordinates.x1:(0<d?d*Math.abs(o[s].conversionParameters.pixelPerUnit):0)+o[s].lineCoordinates.x1);for(s=0;s<g.length;s++)g[s].type==="axisY"&&(g[s].calculateValueToPixelConversionParameters(),g[s].calculateBreaksSizeInValues());if(0<M){if(t&&0<t.length)for(s=0;s<t.length;s++)y=W[M-1][s]===W[M][s];else y=!0;if(o&&0<o.length)for(s=0;s<o.length;s++)j=F[M-1][s]===F[M][s];else j=!0;if(n&&0<n.length)for(s=0;s<n.length;s++)G=Q[M-1][s]===Q[M][s];else G=!0;if(e&&0<e.length)for(s=0;s<e.length;s++)X=nt[M-1][s]===nt[M][s];else X=!0}if(y&&j&&G&&X)break;M++}if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].calculateStripLinesThicknessInValues(),t[s].calculateBreaksInPixels();if(o&&0<o.length)for(s=0;s<o.length;s++)o[s].calculateStripLinesThicknessInValues(),o[s].calculateBreaksInPixels();if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].calculateStripLinesThicknessInValues(),n[s].calculateBreaksInPixels();if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].calculateStripLinesThicknessInValues(),e[s].calculateBreaksInPixels()}else{for(m=[],O=[],it=[],T=[],J=[],x=[],W=[],F=[];4>M;){if(Kt=he=Gt=Ve=yt=re=a=nt=Q=V=Qt=0,t&&0<t.length)for(it=[],s=he=0;s<t.length;s++)it.push(Math.ceil(t[s]?t[s].createLabelsAndCalculateWidth():0)),he+=it[s],a+=t[s]&&!p.isNavigator?t[s].margin:0;else it.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0));if(W.push(it),o&&0<o.length)for(T=[],s=Kt=0;s<o.length;s++)T.push(Math.ceil(o[s]?o[s].createLabelsAndCalculateWidth():0)),Kt+=T[s],re+=o[s]?o[s].margin:0;else T.push(Math.ceil(o[0]?o[0].createLabelsAndCalculateWidth():0));if(F.push(T),n&&0<n.length)for(s=0;s<n.length;s++)n[s].lineCoordinates={},d=Math.round(h.x1+he+a),b=Math.round(h.x2-Kt-re>p.width-10?p.width-10:h.x2-Kt-re),n[s].labelAutoFit&&!P(D)&&(0<!t.length&&(d=0>n[s].labelAngle?Math.max(d,D):n[s].labelAngle===0?Math.max(d,D/2):d),0<!o.length&&(b=0<n[s].labelAngle||n[s].labelAngle===0?b-C/2:b)),n[s].lineCoordinates.x1=d,n[s].lineCoordinates.x2=b,n[s].lineCoordinates.width=Math.abs(b-d),n[s].title&&(n[s]._titleTextBlock.maxWidth=0<n[s].titleMaxWidth&&n[s].titleMaxWidth<n[s].lineCoordinates.width?n[s].titleMaxWidth:n[s].lineCoordinates.width);if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].lineCoordinates={},d=Math.round(h.x1+he+a),b=Math.round(h.x2-Kt-re>e[s].chart.width-10?e[s].chart.width-10:h.x2-Kt-re),e[s]&&e[s].labelAutoFit&&!P(R)&&(0<!t.length&&(d=0<e[s].labelAngle?Math.max(d,R):e[s].labelAngle===0?Math.max(d,R/2):d),0<!o.length&&(b-=L/2)),e[s].lineCoordinates.x1=d,e[s].lineCoordinates.x2=b,e[s].lineCoordinates.width=Math.abs(b-d),e[s].title&&(e[s]._titleTextBlock.maxWidth=0<e[s].titleMaxWidth&&e[s].titleMaxWidth<e[s].lineCoordinates.width?e[s].titleMaxWidth:e[s].lineCoordinates.width);if(n&&0<n.length)for(m=[],s=Gt=0;s<n.length;s++)m.push(Math.ceil(n[s]?n[s].createLabelsAndCalculateHeight():0)),Gt+=m[s]+n[s].margin,yt+=n[s].margin;else m.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateHeight():0));if(J.push(m),e&&0<e.length)for(O=[],s=0;s<e.length;s++)O.push(Math.ceil(e[s]?e[s].createLabelsAndCalculateHeight():0)),Ve+=e[s].margin;else O.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0));if(x.push(O),n&&0<n.length)for(s=0;s<n.length;s++)0<n[s]._labels.length&&(u=n[s]._labels[0],_=n[s]._labels[n[s]._labels.length-1],D=u.textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),C=_.textBlock.width*Math.cos(Math.PI/180*Math.abs(_.textBlock.angle))+(_.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(_.textBlock.angle)));if(e&&0<e.length)for(s=0;s<e.length;s++)e[s]&&0<e[s]._labels.length&&(u=e[s]._labels[0],_=e[s]._labels[e[s]._labels.length-1],R=u.textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),L=_.textBlock.width*Math.cos(Math.PI/180*Math.abs(_.textBlock.angle))+(_.textBlock.height-_.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(_.textBlock.angle)));if(p.panEnabled)for(s=0;s<n.length;s++)m[s]=P(p.sessionVariables.axisY[s].height)?p.sessionVariables.axisY[s].height=m[s]:p.sessionVariables.axisY[s].height;else for(s=0;s<n.length;s++)p.sessionVariables.axisY[s].height=m[s];if(n&&0<n.length)for(s=n.length-1;0<=s;s--)_=Math.round(h.y2),u=Math.round(h.y2>n[s].chart.height?n[s].chart.height:h.y2),n[s].lineCoordinates.y1=_-(m[s]+n[s].margin+Qt),n[s].lineCoordinates.y2=_-(m[s]+n[s].margin+Qt),n[s].labelPlacement==="inside"&&0<s&&(n[s].lineCoordinates.y1=n[s].lineCoordinates.y1+m[s]-(n[s]._titleTextBlock?n[s]._titleTextBlock.height:0)-n[s].tickLength-(n[s].stripLineLabelEffectiveHeight||0)-5,n[s].lineCoordinates.y2=n[s].lineCoordinates.y1+n[s].lineThickness/2),n[s].tickPlacement==="inside"&&0<s&&(n[s].lineCoordinates.y1+=n[s].tickLength,n[s].lineCoordinates.y2=n[s].lineCoordinates.y1+n[s].lineThickness/2),n[s].bounds={x1:d,y1:_-(m[s]+Qt+n[s].margin),x2:b,y2:u-(Qt+n[s].margin),width:b-d,height:m[s]},n[s].title&&(n[s]._titleTextBlock.maxWidth=0<n[s].titleMaxWidth&&n[s].titleMaxWidth<n[s].lineCoordinates.width?n[s].titleMaxWidth:n[s].lineCoordinates.width),Qt+=m[s]+n[s].margin;if(e&&0<e.length)for(s=e.length-1;0<=s;s--)e[s]&&(_=Math.round(h.y1),u=Math.round(h.y1+(O[s]+e[s].margin+V)),e[s].lineCoordinates.y1=u,e[s].lineCoordinates.y2=u,e[s].labelPlacement==="inside"&&0<s&&(e[s].lineCoordinates.y1=u-O[s]+(e[s]._titleTextBlock?e[s]._titleTextBlock.height:0)+e[s].tickLength+(e[s].stripLineLabelEffectiveHeight||0),e[s].lineCoordinates.y2=e[s].lineCoordinates.y1-e[s].lineThickness/2),e[s].tickPlacement==="inside"&&0<s&&(e[s].lineCoordinates.y1-=e[s].tickLength,e[s].lineCoordinates.y2=e[s].lineCoordinates.y1-e[s].lineThickness/2),e[s].bounds={x1:d,y1:_+(e[s].margin+V),x2:b,y2:u,width:b-d},e[s].bounds.height=e[s].bounds.y2-e[s].bounds.y1,e[s].title&&(e[s]._titleTextBlock.maxWidth=0<e[s].titleMaxWidth&&e[s].titleMaxWidth<e[s].lineCoordinates.width?e[s].titleMaxWidth:e[s].lineCoordinates.width),V+=O[s]+e[s].margin);if(t&&0<t.length)for(s=0;s<t.length;s++){if(yt=t[s]._labels&&0<t[s]._labels.length?t[s]._labels[0].textBlock.fontSize/2:0,d=Math.round(h.x1+a),_=e&&0<e.length?Math.round(e[0]?e[0].lineCoordinates.y2:h.y1<Math.max(yt,10)?Math.max(yt,10):h.y1):h.y1<Math.max(yt,10)?Math.max(yt,10):h.y1,b=Math.round(h.x1+he+a),u=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y1:h.y2-Gt>p.height-Math.max(yt,10)?p.height-Math.max(yt,10):h.y2-Gt):h.y2>p.height-Math.max(yt,10)?p.height-Math.max(yt,10):h.y2,n&&0<n.length)for(yt=0;yt<n.length;yt++)n[yt]&&n[yt].labelAutoFit&&(b=n[yt].lineCoordinates.x1,d=0>n[yt].labelAngle||n[yt].labelAngle===0?b-he:d);if(e&&0<e.length)for(yt=0;yt<e.length;yt++)e[yt]&&e[yt].labelAutoFit&&(b=e[yt].lineCoordinates.x1,d=b-he);t[s].lineCoordinates={x1:b-Q,y1:_,x2:b-Q,y2:u,height:Math.abs(u-_)},t[s].labelPlacement==="inside"&&0<s&&(t[s].lineCoordinates.x1=t[s].lineCoordinates.x1-(it[s]-(t[s]._titleTextBlock?t[s]._titleTextBlock.height:0))+t[s].tickLength+(t[s].stripLineLabelEffectiveWidth||0),t[s].lineCoordinates.x2=t[s].lineCoordinates.x1+t[s].lineThickness/2),t[s].tickPlacement==="inside"&&0<s&&(t[s].lineCoordinates.x1-=t[s].tickLength,t[s].lineCoordinates.x2=t[s].lineCoordinates.x1+t[s].lineThickness/2),t[s].bounds={x1:b-(it[s]+Q),y1:_,x2:b-Q,y2:u,height:u-_},t[s].bounds.width=t[s].bounds.x2-t[s].bounds.x1,t[s].title&&(t[s]._titleTextBlock.maxWidth=0<t[s].titleMaxWidth&&t[s].titleMaxWidth<t[s].lineCoordinates.height?t[s].titleMaxWidth:t[s].lineCoordinates.height),t[s].calculateValueToPixelConversionParameters(),t[s].calculateBreaksSizeInValues(),Q+=it[s]+t[s].margin}if(o&&0<o.length)for(s=0;s<o.length;s++){if(yt=o[s]._labels&&0<o[s]._labels.length?o[s]._labels[0].textBlock.fontSize/2:0,d=Math.round(h.x1-a),_=e&&0<e.length?Math.round(e[0]?e[0].lineCoordinates.y2:h.y1<Math.max(yt,10)?Math.max(yt,10):h.y1):h.y1<Math.max(yt,10)?Math.max(yt,10):h.y1,b=Math.round(h.x2-Kt-re),u=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y1:h.y2-Gt>p.height-Math.max(yt,10)?p.height-Math.max(yt,10):h.y2-Gt):h.y2>p.height-Math.max(yt,10)?p.height-Math.max(yt,10):h.y2,n&&0<n.length)for(yt=0;yt<n.length;yt++)n[yt]&&n[yt].labelAutoFit&&(b=0>n[yt].labelAngle?Math.max(b,D):n[yt].labelAngle===0?Math.max(b,D/2):b,d=0>n[yt].labelAngle||n[yt].labelAngle===0?b-Kt:d);if(e&&0<e.length)for(yt=0;yt<e.length;yt++)e[yt]&&e[yt].labelAutoFit&&(b=e[yt].lineCoordinates.x2,d=b-Kt);o[s].lineCoordinates={x1:b+nt,y1:_,x2:b+nt,y2:u,height:Math.abs(u-_)},o[s].labelPlacement==="inside"&&0<s&&(o[s].lineCoordinates.x1=o[s].lineCoordinates.x1+(T[s]-(o[s]._titleTextBlock?o[s]._titleTextBlock.height:0)-2)-o[s].tickLength-(o[s].stripLineLabelEffectiveWidth||0),o[s].lineCoordinates.x2=o[s].lineCoordinates.x1+o[s].lineThickness/2),o[s].tickPlacement==="inside"&&0<s&&(o[s].lineCoordinates.x1+=o[s].tickLength,o[s].lineCoordinates.x2=o[s].lineCoordinates.x1+o[s].lineThickness/2),o[s].bounds={x1:o[s].lineCoordinates.x1,y1:_,x2:b+T[s]+nt,y2:u,width:b-d,height:u-_},o[s].bounds.width=o[s].bounds.x2-o[s].bounds.x1,o[s].title&&(o[s]._titleTextBlock.maxWidth=0<o[s].titleMaxWidth&&o[s].titleMaxWidth<o[s].lineCoordinates.height?o[s].titleMaxWidth:o[s].lineCoordinates.height),o[s].calculateValueToPixelConversionParameters(),o[s].calculateBreaksSizeInValues(),nt+=T[s]+o[s].margin}for(s=0;s<g.length;s++)g[s].type==="axisY"&&(g[s].calculateValueToPixelConversionParameters(),g[s].calculateBreaksSizeInValues());if(0<M){if(t&&0<t.length)for(s=0;s<t.length;s++)y=W[M-1][s]===W[M][s];else y=!0;if(o&&0<o.length)for(s=0;s<o.length;s++)j=F[M-1][s]===F[M][s];else j=!0;if(n&&0<n.length)for(s=0;s<n.length;s++)G=J[M-1][s]===J[M][s];else G=!0;if(e&&0<e.length)for(s=0;s<e.length;s++)X=x[M-1][s]===x[M][s];else X=!0}if(y&&j&&G&&X)break;M++}if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].calculateStripLinesThicknessInValues(),n[s].calculateBreaksInPixels();if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].calculateStripLinesThicknessInValues(),e[s].calculateBreaksInPixels();if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].calculateStripLinesThicknessInValues(),t[s].calculateBreaksInPixels();if(o&&0<o.length)for(s=0;s<o.length;s++)o[s].calculateStripLinesThicknessInValues(),o[s].calculateBreaksInPixels()}},Z.render=function(t,o,n,e,a){a=t[0]?t[0].chart:o[0].chart;var h=a.ctx;if(a.alignVerticalAxes&&a.alignVerticalAxes(),h.save(),h.beginPath(),t&&t.length&&h.rect(2,t[0].bounds.y1,t[0].chart.width-4,t[t.length-1].bounds.y2),o&&o.length&&h.rect(2,o[o.length-1].bounds.y1,o[0].chart.width-4,o[0].bounds.y2),h.clip(),t&&0<t.length)for(var d=0;d<t.length;d++)t[d].renderLabelsTicksAndTitle();if(o&&0<o.length)for(d=0;d<o.length;d++)o[d].renderLabelsTicksAndTitle();if(h.restore(),n&&0<n.length)for(d=0;d<n.length;d++)n[d].renderLabelsTicksAndTitle();if(e&&0<e.length)for(d=0;d<e.length;d++)e[d].renderLabelsTicksAndTitle();if(a.preparePlotArea(),d=a.plotArea,h.save(),h.beginPath(),h.rect(d.x1,d.y1,Math.abs(d.x2-d.x1),Math.abs(d.y2-d.y1)),h.clip(),t&&0<t.length)for(d=0;d<t.length;d++)t[d].renderStripLinesOfThicknessType("value");if(o&&0<o.length)for(d=0;d<o.length;d++)o[d].renderStripLinesOfThicknessType("value");if(n&&0<n.length)for(d=0;d<n.length;d++)n[d].renderStripLinesOfThicknessType("value");if(e&&0<e.length)for(d=0;d<e.length;d++)e[d].renderStripLinesOfThicknessType("value");if(t&&0<t.length)for(d=0;d<t.length;d++)t[d].renderInterlacedColors();if(o&&0<o.length)for(d=0;d<o.length;d++)o[d].renderInterlacedColors();if(n&&0<n.length)for(d=0;d<n.length;d++)n[d].renderInterlacedColors();if(e&&0<e.length)for(d=0;d<e.length;d++)e[d].renderInterlacedColors();if(h.restore(),t&&0<t.length)for(d=0;d<t.length;d++)t[d].renderGrid(),N&&(t[d].createMask(),t[d].renderBreaksBackground());if(o&&0<o.length)for(d=0;d<o.length;d++)o[d].renderGrid(),N&&(o[d].createMask(),o[d].renderBreaksBackground());if(n&&0<n.length)for(d=0;d<n.length;d++)n[d].renderGrid(),N&&(n[d].createMask(),n[d].renderBreaksBackground());if(e&&0<e.length)for(d=0;d<e.length;d++)e[d].renderGrid(),N&&(e[d].createMask(),e[d].renderBreaksBackground());if(t&&0<t.length)for(d=0;d<t.length;d++)t[d].renderAxisLine();if(o&&0<o.length)for(d=0;d<o.length;d++)o[d].renderAxisLine();if(n&&0<n.length)for(d=0;d<n.length;d++)n[d].renderAxisLine();if(e&&0<e.length)for(d=0;d<e.length;d++)e[d].renderAxisLine();if(h=!1,t&&0<t.length)for(d=0;d<t.length;d++)t[d].renderStripLinesOfThicknessType("pixel"),t[d].crosshair&&t[d].crosshair.enabled&&(h=!0,a.clearedOverlayedCanvas=t[d].type);if(o&&0<o.length)for(d=0;d<o.length;d++)o[d].renderStripLinesOfThicknessType("pixel"),o[d].crosshair&&o[d].crosshair.enabled&&(h=!0,a.clearedOverlayedCanvas=o[d].type);if(n&&0<n.length)for(d=0;d<n.length;d++)n[d].renderStripLinesOfThicknessType("pixel"),n[d].crosshair&&n[d].crosshair.enabled&&(h=!0,a.clearedOverlayedCanvas=n[d].type);if(e&&0<e.length)for(d=0;d<e.length;d++)e[d].renderStripLinesOfThicknessType("pixel"),e[d].crosshair&&e[d].crosshair.enabled&&(h=!0,a.clearedOverlayedCanvas=e[d].type);(h||!h&&a.clearedOverlayedCanvas&&0<=a.clearedOverlayedCanvas.indexOf("axis"))&&(a.resetOverlayedCanvas(),a.renderCrosshairs(null,P(a.sessionVariables.crosshairShownByPixel)||a.sessionVariables.crosshairShownByPixel?!0:a.sessionVariables.crosshairShownByPixel))},Z.prototype.calculateStripLinesThicknessInValues=function(){for(var t=0;t<this.stripLines.length;t++)if(this.stripLines[t].startValue!==null&&this.stripLines[t].endValue!==null){var o=Math.min(this.stripLines[t].startValue,this.stripLines[t].endValue),n=Math.max(this.stripLines[t].startValue,this.stripLines[t].endValue),e=this.getApparentDifference(o,n);this.stripLines[t].value=this.convertPixelToValue((this.convertValueToPixel(o)+this.convertValueToPixel(n))/2),this.stripLines[t].thickness=e,this.stripLines[t]._thicknessType="value"}},Z.prototype.calculateBreaksSizeInValues=function(){for(var t=this._position==="left"||this._position==="right"?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,o=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],n=this.conversionParameters.pixelPerUnit||t/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),e=this.scaleBreaks&&!P(this.scaleBreaks.options.spacing),a,h=0;h<o.length;h++)a=e||!P(o[h].options.spacing),o[h].spacing=va(o[h].spacing,t,8,a?.1*t:8,a?0:3)<<0,o[h].size=0>o[h].spacing?0:Math.abs(o[h].spacing/n),this.logarithmic&&(o[h].size=Math.pow(this.logarithmBase,o[h].size))},Z.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];t.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var o=0;o<t.length&&!(t[o].startValue>this.conversionParameters.maximum);o++)t[o].endValue<this.conversionParameters.minimum||(P(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=o),t[o].startValue>=this.conversionParameters.minimum&&(t[o].startPixel=this.convertValueToPixel(t[o].startValue),this.scaleBreaks.lastBreakIndex=o),t[o].endValue<=this.conversionParameters.maximum&&(t[o].endPixel=this.convertValueToPixel(t[o].endValue)))}},Z.prototype.renderLabelsTicksAndTitle=function(){var t=this,o=!1,n=0,e=0,a=1,h=0;if(this.labelAngle!==0&&this.labelAngle!==360&&(a=1.2),typeof this.options.interval>"u"){if(this._position==="bottom"||this._position==="top")if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var n=[],a=this.labelAngle!==0&&this.labelAngle!==360?1:1.2,d,_=this.viewportMaximum,b=this.lineCoordinates.width/Math.log(this.range),p=this._labels.length-1;0<=p&&(m=this._labels[p],!(m.position<this.viewportMinimum));p--)m.position>this.viewportMaximum||!(p===this._labels.length-1||d<Math.log(_/m.position)*b/a)||(n.push(m),_=m.position,d=m.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+m.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=n}else{for(p=0;p<this._labels.length;p++)m=this._labels[p],m.position<this.viewportMinimum||(d=m.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+m.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)),n+=d);n>this.lineCoordinates.width*a&&this.labelAutoFit&&(o=!0)}if(this._position==="left"||this._position==="right")if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var n=[],u,_=this.viewportMaximum,b=this.lineCoordinates.height/Math.log(this.range),p=this._labels.length-1;0<=p&&(m=this._labels[p],!(m.position<this.viewportMinimum));p--)m.position>this.viewportMaximum||!(p===this._labels.length-1||u<Math.log(_/m.position)*b)||(n.push(m),_=m.position,u=m.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+m.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=n}else{for(p=0;p<this._labels.length;p++)m=this._labels[p],m.position<this.viewportMinimum||(u=m.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+m.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)),e+=u);e>this.lineCoordinates.height*a&&this.labelAutoFit&&(o=!0)}}this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(s,y){return s.position-y.position});var p=0,m,g;if(this._position==="bottom"){for(p=0;p<this._labels.length;p++)m=this._labels[p],m.position<this.viewportMinimum||m.position>this.viewportMaximum||(g=this.getPixelCoordinatesOnAxis(m.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=this.ctx.lineWidth%2===1?(g.x<<0)+.5:g.x<<0,this.ctx.beginPath(),this.ctx.moveTo(e,g.y<<0),this.ctx.lineTo(e,g.y+this.tickLength<<0),this.ctx.stroke()),o&&h++%2!==0&&this.labelAutoFit||(m.textBlock.angle===0?(g.x-=m.textBlock.width/2,g.y=this.labelPlacement==="inside"?g.y-((this.tickPlacement==="inside"?this.tickLength:0)+m.textBlock.height-m.textBlock.fontSize/2):g.y+(this.tickPlacement==="inside"?0:this.tickLength)+m.textBlock.fontSize/2+5):0>this.labelAngle?(g.x-=this.labelPlacement==="inside"?0:m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle),g.y=this.labelPlacement==="inside"?g.y-(this.tickPlacement==="inside"?this.tickLength:0)-(m.textBlock.height-m.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle):g.y+(this.tickPlacement==="inside"?0:this.tickLength)+5+Math.abs(m.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-m.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle))):(g.x-=this.labelPlacement==="inside"?m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,g.y=this.labelPlacement==="inside"?g.y-(this.tickPlacement==="inside"?this.tickLength:0)-m.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-(m.textBlock.height-m.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle):g.y+(this.tickPlacement==="inside"?0:this.tickLength)+5+Math.abs(m.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle))),m.textBlock.x=g.x,m.textBlock.y=g.y));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(p=0;p<t._labels.length;p++)if(m=t._labels[p],!(m.position<t.viewportMinimum||m.position>t.viewportMaximum)&&(g=t.getPixelCoordinatesOnAxis(m.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var s=t.ctx.lineWidth%2===1?(g.x<<0)+.5:g.x<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(s,g.y<<0),t.ctx.lineTo(s,g.y-t.tickLength<<0),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height+this._titleTextBlock._lineHeight/2-1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="top"){for(p=0;p<this._labels.length;p++)m=this._labels[p],m.position<this.viewportMinimum||m.position>this.viewportMaximum||(g=this.getPixelCoordinatesOnAxis(m.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=this.ctx.lineWidth%2===1?(g.x<<0)+.5:g.x<<0,this.ctx.beginPath(),this.ctx.moveTo(e,g.y<<0),this.ctx.lineTo(e,g.y-this.tickLength<<0),this.ctx.stroke()),o&&h++%2!==0&&this.labelAutoFit||(m.textBlock.angle===0?(g.x-=m.textBlock.width/2,g.y=this.labelPlacement==="inside"?g.y+this.labelFontSize/2+(this.tickPlacement==="inside"?this.tickLength:0)+5:g.y-((this.tickPlacement==="inside"?0:this.tickLength)+m.textBlock.height-m.textBlock.fontSize/2)):0>this.labelAngle?(g.x-=this.labelPlacement==="inside"?m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,g.y=this.labelPlacement==="inside"?g.y+(this.tickPlacement==="inside"?this.tickLength:0)+5-m.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+m.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle):g.y-(this.tickPlacement==="inside"?0:this.tickLength)-2-(m.textBlock.height-m.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)):(g.x-=this.labelPlacement==="inside"?0:m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle),g.y=this.labelPlacement==="inside"?g.y+(this.tickPlacement==="inside"?this.tickLength:0)+5+m.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle):g.y-(this.tickPlacement==="inside"?0:this.tickLength)-2-((m.textBlock.height-m.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+m.textBlock.width*Math.sin(Math.PI/180*this.labelAngle))),m.textBlock.x=g.x,m.textBlock.y=g.y));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(p=0;p<t._labels.length;p++)if(m=t._labels[p],!(m.position<t.viewportMinimum||m.position>t.viewportMaximum)&&(g=t.getPixelCoordinatesOnAxis(m.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var s=t.ctx.lineWidth%2===1?(g.x<<0)+.5:g.x<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(s,g.y<<0),t.ctx.lineTo(s,g.y+t.tickLength<<0),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+this._titleTextBlock._lineHeight/2+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="left"){for(p=0;p<this._labels.length;p++)m=this._labels[p],m.position<this.viewportMinimum||m.position>this.viewportMaximum||(g=this.getPixelCoordinatesOnAxis(m.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=this.ctx.lineWidth%2===1?(g.y<<0)+.5:g.y<<0,this.ctx.beginPath(),this.ctx.moveTo(g.x<<0,e),this.ctx.lineTo(g.x-this.tickLength<<0,e),this.ctx.stroke()),o&&h++%2!==0&&this.labelAutoFit||(this.labelAngle===0?(m.textBlock.y=g.y,m.textBlock.x=this.labelPlacement==="inside"?g.x+(this.tickPlacement==="inside"?this.tickLength:0)+5:g.x-m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength)-5):0>this.labelAngle?(m.textBlock.y=this.labelPlacement==="inside"?g.y:g.y-m.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),m.textBlock.x=this.labelPlacement==="inside"?g.x-m.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?this.tickLength:0)+5:g.x-m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(m.textBlock.height-m.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength)-5):(m.textBlock.y=this.labelPlacement==="inside"?g.y:g.y-m.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),m.textBlock.x=this.labelPlacement==="inside"?g.x+(m.textBlock.height-m.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?this.tickLength:0)+5:g.x-m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-m.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?0:this.tickLength)-5)));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(p=0;p<t._labels.length;p++)if(m=t._labels[p],!(m.position<t.viewportMinimum||m.position>t.viewportMaximum)&&(g=t.getPixelCoordinatesOnAxis(m.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var s=t.ctx.lineWidth%2===1?(g.y<<0)+.5:g.y<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(g.x<<0,s),t.ctx.lineTo(g.x+t.tickLength<<0,s),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+this._titleTextBlock._lineHeight/2,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if(this._position==="right"){for(p=0;p<this._labels.length;p++)m=this._labels[p],m.position<this.viewportMinimum||m.position>this.viewportMaximum||(g=this.getPixelCoordinatesOnAxis(m.position),this.tickThickness&&this.tickPlacement!="inside"&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,e=this.ctx.lineWidth%2===1?(g.y<<0)+.5:g.y<<0,this.ctx.beginPath(),this.ctx.moveTo(g.x<<0,e),this.ctx.lineTo(g.x+this.tickLength<<0,e),this.ctx.stroke()),o&&h++%2!==0&&this.labelAutoFit||(this.labelAngle===0?(m.textBlock.y=g.y,m.textBlock.x=this.labelPlacement==="inside"?g.x-m.textBlock.width-(this.tickPlacement==="inside"?this.tickLength:0)-5:g.x+(this.tickPlacement==="inside"?0:this.tickLength)+5):0>this.labelAngle?(m.textBlock.y=this.labelPlacement==="inside"?g.y-m.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):g.y,m.textBlock.x=this.labelPlacement==="inside"?g.x-m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(m.textBlock.height-m.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?this.tickLength:0)-5:g.x-m.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?0:this.tickLength)+5):(m.textBlock.y=this.labelPlacement==="inside"?g.y-m.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):g.y,m.textBlock.x=this.labelPlacement==="inside"?g.x-m.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-m.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)-(this.tickPlacement==="inside"?this.tickLength:0)-5:g.x+(m.textBlock.height-m.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)+(this.tickPlacement==="inside"?0:this.tickLength)+5)));this.tickPlacement==="inside"&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(p=0;p<t._labels.length;p++)if(m=t._labels[p],!(m.position<t.viewportMinimum||m.position>t.viewportMaximum)&&(g=t.getPixelCoordinatesOnAxis(m.position),t.tickThickness)){t.ctx.lineWidth=t.tickThickness,t.ctx.strokeStyle=t.tickColor;var s=t.ctx.lineWidth%2===1?(g.y<<0)+.5:g.y<<0;t.ctx.save(),t.ctx.beginPath(),t.ctx.moveTo(g.x<<0,s),t.ctx.lineTo(g.x-t.tickLength<<0,s),t.ctx.stroke(),t.ctx.restore()}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-this._titleTextBlock._lineHeight/2,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(h=0,this.labelPlacement==="inside")this.chart.addEventListener("dataAnimationIterationEnd",function(){for(p=0;p<t._labels.length;p++)m=t._labels[p],m.position<t.viewportMinimum||m.position>t.viewportMaximum||o&&h++%2!==0&&t.labelAutoFit||(t.ctx.save(),t.ctx.beginPath(),m.textBlock.render(!0),t.ctx.restore())},this);else for(p=0;p<this._labels.length;p++)m=this._labels[p],m.position<this.viewportMinimum||m.position>this.viewportMaximum||o&&h++%2!==0&&this.labelAutoFit||m.textBlock.render(!0)},Z.prototype.renderInterlacedColors=function(){var t=this.chart.plotArea.ctx,o,n,e=this.chart.plotArea,a=0;if(o=!0,(this._position==="bottom"||this._position==="top")&&this.interlacedColor)for(t.fillStyle=this.interlacedColor,a=0;a<this._labels.length;a++)o?(o=this.getPixelCoordinatesOnAxis(this._labels[a].position),n=a+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[a+1].position),t.fillRect(Math.min(n.x,o.x),e.y1,Math.abs(n.x-o.x),Math.abs(e.y1-e.y2)),o=!1):o=!0;else if((this._position==="left"||this._position==="right")&&this.interlacedColor)for(t.fillStyle=this.interlacedColor,a=0;a<this._labels.length;a++)o?(n=this.getPixelCoordinatesOnAxis(this._labels[a].position),o=a+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[a+1].position),t.fillRect(e.x1,Math.min(n.y,o.y),Math.abs(e.x1-e.x2),Math.abs(o.y-n.y)),o=!1):o=!0;t.beginPath()},Z.prototype.renderStripLinesOfThicknessType=function(t){if(this.stripLines&&0<this.stripLines.length&&t){var o=this,n,e,a=0,h=0,d=!1;e=!1;for(var _=[],b=[],u=!1,p,a=0;a<this.stripLines.length;a++){var m=this.stripLines[a];m._thicknessType===t&&(t==="pixel"&&(m.value<this.viewportMinimum||m.value>this.viewportMaximum||P(m.value)||isNaN(this.range))||t==="value"&&(m.startValue<=this.viewportMinimum&&m.endValue<=this.viewportMinimum||m.startValue>=this.viewportMaximum&&m.endValue>=this.viewportMaximum||P(m.startValue)||P(m.endValue)||isNaN(this.range))||_.push(m))}for(a=0;a<this._stripLineLabels.length;a++)if(m=this.stripLines[a],n=this._stripLineLabels[a],!(n.position<this.viewportMinimum||n.position>this.viewportMaximum||isNaN(this.range)))if(e=this.getPixelCoordinatesOnAxis(n.position),n.stripLine.labelPlacement==="outside"){if(m&&(this.ctx.strokeStyle=m.color,this.ctx.lineWidth=m._thicknessType==="pixel"?m.thickness:this.tickThickness,P(m.opacity)||m._thicknessType!=="pixel"||(p=m.ctx.globalAlpha,m.ctx.globalAlpha=m.opacity)),this._position==="bottom"){var g=this.ctx.lineWidth%2===1?(e.x<<0)+.5:e.x<<0;this.ctx.beginPath(),this.ctx.moveTo(g,e.y<<0),this.ctx.lineTo(g,e.y+this.tickLength<<0),this.ctx.stroke(),this.labelAngle===0?(e.x-=n.textBlock.width/2,e.y+=this.tickLength+n.textBlock.fontSize/2+5):(e.x-=0>this.labelAngle?n.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,e.y+=this.tickLength+5+(0>this.labelAngle?Math.abs(n.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-n.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle)):Math.abs(n.textBlock.fontSize/2*Math.cos(Math.PI/180*this.labelAngle))))}else this._position==="top"?(g=this.ctx.lineWidth%2===1?(e.x<<0)+.5:e.x<<0,this.ctx.beginPath(),this.ctx.moveTo(g,e.y<<0),this.ctx.lineTo(g,e.y-this.tickLength<<0),this.ctx.stroke(),this.labelAngle===0?(e.x-=n.textBlock.width/2,e.y-=this.tickLength+n.textBlock.height-n.textBlock.fontSize/2):(e.x-=0<this.labelAngle?n.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,e.y-=this.tickLength+2+(0<this.labelAngle?(n.textBlock.height-n.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+n.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):(n.textBlock.height-n.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)))):this._position==="left"?(g=this.ctx.lineWidth%2===1?(e.y<<0)+.5:e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,g),this.ctx.lineTo(e.x-this.tickLength<<0,g),this.ctx.stroke(),this.labelAngle===0?e.x=e.x-n.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(e.y-=n.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),e.x-=this.tickLength+5+(0<this.labelAngle?n.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+n.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle):n.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-(n.textBlock.height-n.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle)))):this._position==="right"&&(g=this.ctx.lineWidth%2===1?(e.y<<0)+.5:e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,g),this.ctx.lineTo(e.x+this.tickLength<<0,g),this.ctx.stroke(),e.x=this.labelAngle===0?e.x+this.tickLength+5:this.tickLength+5+(0<this.labelAngle?e.x+(n.textBlock.height-n.textBlock.fontSize/2)*Math.sin(Math.PI/180*this.labelAngle):e.x-n.textBlock.fontSize/2*Math.sin(Math.PI/180*this.labelAngle)));p&&(m.ctx.globalAlpha=p),n.textBlock.x=e.x,n.textBlock.y=e.y,b.push(n)}else m._thicknessType===t&&(n.textBlock.angle=-90,this._position==="bottom"?(n.textBlock.maxWidth=this.options.stripLines[a].labelMaxWidth?this.options.stripLines[a].labelMaxWidth:this.chart.plotArea.height-3,n.textBlock.measureText(),e.x-n.textBlock.height-m.thickness/2>this.chart.plotArea.x1?P(m.startValue)?e.x-=n.textBlock.height-n.textBlock.fontSize/2+m.thickness/2:e.x-=n.textBlock.height/2-n.textBlock.fontSize/2:(n.textBlock.angle=90,P(m.startValue)?e.x+=n.textBlock.height-n.textBlock.fontSize/2+m.thickness/2:e.x+=n.textBlock.height/2-n.textBlock.fontSize/2),e.y=n.textBlock.angle===-90?n.stripLine.labelAlign==="near"?this.chart.plotArea.y2-3:n.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1+n.textBlock.width)/2:this.chart.plotArea.y1+n.textBlock.width+3:n.stripLine.labelAlign==="near"?this.chart.plotArea.y2-n.textBlock.width-3:n.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1-n.textBlock.width)/2:this.chart.plotArea.y1+3):this._position==="top"?(n.textBlock.maxWidth=this.options.stripLines[a].labelMaxWidth?this.options.stripLines[a].labelMaxWidth:this.chart.plotArea.height-3,n.textBlock.measureText(),e.x-n.textBlock.height-m.thickness/2>this.chart.plotArea.x1?P(m.startValue)?e.x-=n.textBlock.height-n.textBlock.fontSize/2+m.thickness/2:e.x-=n.textBlock.height/2-n.textBlock.fontSize/2:(n.textBlock.angle=90,P(m.startValue)?e.x+=n.textBlock.height-n.textBlock.fontSize/2+m.thickness/2:e.x+=n.textBlock.height/2-n.textBlock.fontSize/2),e.y=n.textBlock.angle===-90?n.stripLine.labelAlign==="near"?this.chart.plotArea.y1+n.textBlock.width+3:n.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1+n.textBlock.width)/2:this.chart.plotArea.y2-3:n.stripLine.labelAlign==="near"?this.chart.plotArea.y1+3:n.stripLine.labelAlign==="center"?(this.chart.plotArea.y2+this.chart.plotArea.y1-n.textBlock.width)/2:this.chart.plotArea.y2-n.textBlock.width-3):this._position==="left"?(n.textBlock.maxWidth=this.options.stripLines[a].labelMaxWidth?this.options.stripLines[a].labelMaxWidth:this.chart.plotArea.width-3,n.textBlock.angle=0,n.textBlock.measureText(),e.y-n.textBlock.height-m.thickness/2>this.chart.plotArea.y1?P(m.startValue)?e.y-=n.textBlock.height-n.textBlock.fontSize/2+m.thickness/2:e.y-=n.textBlock.height/2-n.textBlock.fontSize/2:P(m.startValue)?e.y+=n.textBlock.height-n.textBlock.fontSize/2+m.thickness/2:e.y+=n.textBlock.height/2-n.textBlock.fontSize+3,e.x=n.stripLine.labelAlign==="near"?this.chart.plotArea.x1+3:n.stripLine.labelAlign==="center"?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-n.textBlock.width/2:this.chart.plotArea.x2-n.textBlock.width-3):this._position==="right"&&(n.textBlock.maxWidth=this.options.stripLines[a].labelMaxWidth?this.options.stripLines[a].labelMaxWidth:this.chart.plotArea.width-3,n.textBlock.angle=0,n.textBlock.measureText(),e.y-n.textBlock.height-m.thickness/2>this.chart.plotArea.y1?P(m.startValue)?e.y-=n.textBlock.height-n.textBlock.fontSize/2+m.thickness/2:e.y-=n.textBlock.height/2-n.textBlock.fontSize/2:P(m.startValue)?e.y+=n.textBlock.height-n.textBlock.fontSize/2+m.thickness/2:e.y-=n.textBlock.height/2-n.textBlock.fontSize/2+3,e.x=n.stripLine.labelAlign==="near"?this.chart.plotArea.x2-n.textBlock.width-3:n.stripLine.labelAlign==="center"?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-n.textBlock.width/2:this.chart.plotArea.x1+3),n.textBlock.x=e.x,n.textBlock.y=e.y,b.push(n));if(!u){for(e=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),a=0;a<_.length;a++)m=_[a],m.showOnTop?d||(d=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),h=0;h<_.length;h++)m=_[h],m.showOnTop&&m.render();this.ctx.restore()},m)):m.render();for(a=0;a<b.length;a++)n=b[a],n.stripLine.showOnTop?e||(e=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(h=0;h<b.length;h++)n=b[h],n.stripLine.labelPlacement==="inside"&&n.stripLine.showOnTop&&(o.ctx.save(),o.ctx.beginPath(),o.ctx.rect(o.chart.plotArea.x1,o.chart.plotArea.y1,o.chart.plotArea.width,o.chart.plotArea.height),o.ctx.clip(),n.textBlock.render(!0),o.ctx.restore())},n.textBlock)):n.stripLine.labelPlacement==="inside"&&n.textBlock.render(!0);this.ctx.restore(),u=!0}if(u)for(e=!1,a=0;a<b.length;a++)n=b[a],n.stripLine.labelPlacement==="outside"&&n.textBlock.render(!0)}},Z.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},Z.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var t=this.scaleBreaks._appliedBreaks;N?(this.maskCanvas=ki(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var o=0;o<t.length;o++)t[o].endValue<this.viewportMinimum||t[o].startValue>this.viewportMaximum||isNaN(this.range)||t[o].render(this.maskCtx);this.maskCtx.restore()}},Z.prototype.renderCrosshair=function(t,o){isFinite(this.minimum)&&isFinite(this.maximum)&&this.crosshair.render(t,o)},Z.prototype.showCrosshair=function(t){P(t)||t<this.viewportMinimum||t>this.viewportMaximum||(this._position==="top"||this._position==="bottom"?this.crosshair.render(this.convertValueToPixel(t),null,t):this.crosshair.render(null,this.convertValueToPixel(t),t))},Z.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var t=this.chart.ctx;t.save();var o,n=this.chart.plotArea;if(t.lineWidth=this.gridThickness,t.strokeStyle=this.gridColor,t.setLineDash&&t.setLineDash(wt(this.gridDashType,this.gridThickness)),this._position==="bottom"||this._position==="top")for(e=0;e<this._labels.length;e++)this._labels[e].position<this.viewportMinimum||this._labels[e].position>this.viewportMaximum||this._labels[e].breaksLabelType||(t.beginPath(),o=this.getPixelCoordinatesOnAxis(this._labels[e].position),o=t.lineWidth%2===1?(o.x<<0)+.5:o.x<<0,t.moveTo(o,n.y1<<0),t.lineTo(o,n.y2<<0),t.stroke());else if(this._position==="left"||this._position==="right")for(var e=0;e<this._labels.length;e++)this._labels[e].position<this.viewportMinimum||this._labels[e].position>this.viewportMaximum||this._labels[e].breaksLabelType||(t.beginPath(),o=this.getPixelCoordinatesOnAxis(this._labels[e].position),o=t.lineWidth%2===1?(o.y<<0)+.5:o.y<<0,t.moveTo(n.x1<<0,o),t.lineTo(n.x2<<0,o),t.stroke());t.restore()}},Z.prototype.renderAxisLine=function(){var t=this.chart.ctx,o=N?this.chart._preRenderCtx:t,n=Math.ceil(this.tickThickness/(this.reversed?-2:2)),e=Math.ceil(this.tickThickness/(this.reversed?2:-2)),a,h;if(o.save(),this._position==="bottom"||this._position==="top"){if(this.lineThickness){this.reversed?(a=this.lineCoordinates.x2,h=this.lineCoordinates.x1):(a=this.lineCoordinates.x1,h=this.lineCoordinates.x2),o.lineWidth=this.lineThickness,o.strokeStyle=this.lineColor?this.lineColor:"black",o.setLineDash&&o.setLineDash(wt(this.lineDashType,this.lineThickness));var d=this.lineThickness%2===1?(this.lineCoordinates.y1<<0)+.5:this.lineCoordinates.y1<<0;if(o.beginPath(),this.scaleBreaks&&!P(this.scaleBreaks.firstBreakIndex))if(P(this.scaleBreaks.lastBreakIndex))a=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+e;else for(var _=this.scaleBreaks.firstBreakIndex;_<=this.scaleBreaks.lastBreakIndex;_++)o.moveTo(a,d),o.lineTo(this.scaleBreaks._appliedBreaks[_].startPixel+n,d),a=this.scaleBreaks._appliedBreaks[_].endPixel+e;a&&(o.moveTo(a,d),o.lineTo(h,d)),o.stroke()}}else if((this._position==="left"||this._position==="right")&&this.lineThickness){if(this.reversed?(a=this.lineCoordinates.y1,h=this.lineCoordinates.y2):(a=this.lineCoordinates.y2,h=this.lineCoordinates.y1),o.lineWidth=this.lineThickness,o.strokeStyle=this.lineColor,o.setLineDash&&o.setLineDash(wt(this.lineDashType,this.lineThickness)),d=this.lineThickness%2===1?(this.lineCoordinates.x1<<0)+.5:this.lineCoordinates.x1<<0,o.beginPath(),this.scaleBreaks&&!P(this.scaleBreaks.firstBreakIndex))if(P(this.scaleBreaks.lastBreakIndex))a=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+n;else for(_=this.scaleBreaks.firstBreakIndex;_<=this.scaleBreaks.lastBreakIndex;_++)o.moveTo(d,a),o.lineTo(d,this.scaleBreaks._appliedBreaks[_].startPixel+e),a=this.scaleBreaks._appliedBreaks[_].endPixel+n;a&&(o.moveTo(d,a),o.lineTo(d,h)),o.stroke()}N&&(t.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),o.clearRect(0,0,this.chart.width,this.chart.height)),o.restore()},Z.prototype.getPixelCoordinatesOnAxis=function(t){var o={};return(this._position==="bottom"||this._position==="top")&&(o.x=this.convertValueToPixel(t),o.y=this.lineCoordinates.y1),(this._position==="left"||this._position==="right")&&(o.y=this.convertValueToPixel(t),o.x=this.lineCoordinates.x2),o},Z.prototype.convertPixelToValue=function(t){if(typeof t>"u")return null;var n=0,a=0,o,n=!0,e=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],a=typeof t=="number"?t:this._position==="left"||this._position==="right"?t.y:t.x;if(this.logarithmic){if(t=o=Math.pow(this.logarithmBase,(a-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),a<=this.conversionParameters.reference==(this._position==="left"||this._position==="right")!==this.reversed){for(a=0;a<e.length;a++)if(!(e[a].endValue<this.conversionParameters.minimum))if(n)if(e[a].startValue<this.conversionParameters.minimum){if(1<e[a].size&&this.conversionParameters.minimum*Math.pow(e[a].endValue/e[a].startValue,Math.log(o)/Math.log(e[a].size))<e[a].endValue){t=Math.pow(e[a].endValue/e[a].startValue,Math.log(o)/Math.log(e[a].size));break}else t*=e[a].endValue/this.conversionParameters.minimum/Math.pow(e[a].size,Math.log(e[a].endValue/this.conversionParameters.minimum)/Math.log(e[a].endValue/e[a].startValue)),o/=Math.pow(e[a].size,Math.log(e[a].endValue/this.conversionParameters.minimum)/Math.log(e[a].endValue/e[a].startValue));n=!1}else if(o>e[a].startValue/this.conversionParameters.minimum){if(o/=e[a].startValue/this.conversionParameters.minimum,o<e[a].size){t*=Math.pow(e[a].endValue/e[a].startValue,e[a].size===1?1:Math.log(o)/Math.log(e[a].size))/o;break}else t*=e[a].endValue/e[a].startValue/e[a].size;o/=e[a].size,n=!1}else break;else if(o>e[a].startValue/e[a-1].endValue){if(o/=e[a].startValue/e[a-1].endValue,o<e[a].size){t*=Math.pow(e[a].endValue/e[a].startValue,e[a].size===1?1:Math.log(o)/Math.log(e[a].size))/o;break}else t*=e[a].endValue/e[a].startValue/e[a].size;o/=e[a].size}else break}else for(a=e.length-1;0<=a;a--)if(!(e[a].startValue>this.conversionParameters.minimum))if(n)if(e[a].endValue>this.conversionParameters.minimum){if(1<e[a].size&&this.conversionParameters.minimum*Math.pow(e[a].endValue/e[a].startValue,Math.log(o)/Math.log(e[a].size))>e[a].startValue){t=Math.pow(e[a].endValue/e[a].startValue,Math.log(o)/Math.log(e[a].size));break}else t*=e[a].startValue/this.conversionParameters.minimum*Math.pow(e[a].size,Math.log(e[a].startValue/this.conversionParameters.minimum)/Math.log(e[a].endValue/e[a].startValue))*o,o*=Math.pow(e[a].size,Math.log(this.conversionParameters.minimum/e[a].startValue)/Math.log(e[a].endValue/e[a].startValue));n=!1}else if(o<e[a].endValue/this.conversionParameters.minimum){if(o/=e[a].endValue/this.conversionParameters.minimum,o>1/e[a].size){t*=Math.pow(e[a].endValue/e[a].startValue,1>=e[a].size?1:Math.log(o)/Math.log(e[a].size))*o;break}else t/=e[a].endValue/e[a].startValue/e[a].size;o*=e[a].size,n=!1}else break;else if(o<e[a].endValue/e[a+1].startValue){if(o/=e[a].endValue/e[a+1].startValue,o>1/e[a].size){t*=Math.pow(e[a].endValue/e[a].startValue,1>=e[a].size?1:Math.log(o)/Math.log(e[a].size))*o;break}else t/=e[a].endValue/e[a].startValue/e[a].size;o*=e[a].size}else break;n=t*this.viewportMinimum}else{if(t=o=(a-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,a<=this.conversionParameters.reference==(this._position==="left"||this._position==="right")!==this.reversed){for(a=0;a<e.length;a++)if(!(e[a].endValue<this.conversionParameters.minimum))if(n)if(e[a].startValue<this.conversionParameters.minimum){if(e[a].size&&this.conversionParameters.minimum+o*(e[a].endValue-e[a].startValue)/e[a].size<e[a].endValue){t=0>=e[a].size?0:o*(e[a].endValue-e[a].startValue)/e[a].size;break}else t+=e[a].endValue-this.conversionParameters.minimum-e[a].size*(e[a].endValue-this.conversionParameters.minimum)/(e[a].endValue-e[a].startValue),o-=e[a].size*(e[a].endValue-this.conversionParameters.minimum)/(e[a].endValue-e[a].startValue);n=!1}else if(o>e[a].startValue-this.conversionParameters.minimum){if(o-=e[a].startValue-this.conversionParameters.minimum,o<e[a].size){t+=(e[a].endValue-e[a].startValue)*(e[a].size===0?1:o/e[a].size)-o;break}else t+=e[a].endValue-e[a].startValue-e[a].size;o-=e[a].size,n=!1}else break;else if(o>e[a].startValue-e[a-1].endValue){if(o-=e[a].startValue-e[a-1].endValue,o<e[a].size){t+=(e[a].endValue-e[a].startValue)*(e[a].size===0?1:o/e[a].size)-o;break}else t+=e[a].endValue-e[a].startValue-e[a].size;o-=e[a].size}else break}else for(a=e.length-1;0<=a;a--)if(!(e[a].startValue>this.conversionParameters.minimum))if(n)if(e[a].endValue>this.conversionParameters.minimum)if(e[a].size&&this.conversionParameters.minimum+o*(e[a].endValue-e[a].startValue)/e[a].size>e[a].startValue){t=0>=e[a].size?0:o*(e[a].endValue-e[a].startValue)/e[a].size;break}else t+=e[a].startValue-this.conversionParameters.minimum+e[a].size*(this.conversionParameters.minimum-e[a].startValue)/(e[a].endValue-e[a].startValue),o+=e[a].size*(this.conversionParameters.minimum-e[a].startValue)/(e[a].endValue-e[a].startValue),n=!1;else if(o<e[a].endValue-this.conversionParameters.minimum){if(o-=e[a].endValue-this.conversionParameters.minimum,o>-1*e[a].size){t+=(e[a].endValue-e[a].startValue)*(e[a].size===0?1:o/e[a].size)+o;break}else t-=e[a].endValue-e[a].startValue-e[a].size;o+=e[a].size,n=!1}else break;else if(o<e[a].endValue-e[a+1].startValue){if(o-=e[a].endValue-e[a+1].startValue,o>-1*e[a].size){t+=(e[a].endValue-e[a].startValue)*(e[a].size===0?1:o/e[a].size)+o;break}else t-=e[a].endValue-e[a].startValue-e[a].size;o+=e[a].size}else break;n=this.conversionParameters.minimum+t}return n},Z.prototype.convertValueToPixel=function(t){return t=this.getApparentDifference(this.conversionParameters.minimum,t,t),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(t/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:this.type==="axisX"?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5},Z.prototype.getApparentDifference=function(t,o,n,e){var a=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){n=P(n)?o/t:n;for(var h=0;h<a.length&&!(o<a[h].startValue);h++)t>a[h].endValue||(t<=a[h].startValue&&o>=a[h].endValue?n=n/a[h].endValue*a[h].startValue*a[h].size:t>=a[h].startValue&&o>=a[h].endValue?n=n/a[h].endValue*t*Math.pow(a[h].size,Math.log(a[h].endValue/t)/Math.log(a[h].endValue/a[h].startValue)):t<=a[h].startValue&&o<=a[h].endValue?n=n/o*a[h].startValue*Math.pow(a[h].size,Math.log(o/a[h].startValue)/Math.log(a[h].endValue/a[h].startValue)):!e&&t>a[h].startValue&&o<a[h].endValue&&(n=t*Math.pow(a[h].size,Math.log(o/t)/Math.log(a[h].endValue/a[h].startValue))))}else for(n=P(n)?Math.abs(o-t):n,h=0;h<a.length&&!(o<a[h].startValue);h++)t>a[h].endValue||(t<=a[h].startValue&&o>=a[h].endValue?n=n-a[h].endValue+a[h].startValue+a[h].size:t>a[h].startValue&&o>=a[h].endValue?n=n-a[h].endValue+t+a[h].size*(a[h].endValue-t)/(a[h].endValue-a[h].startValue):t<=a[h].startValue&&o<a[h].endValue?n=n-o+a[h].startValue+a[h].size*(o-a[h].startValue)/(a[h].endValue-a[h].startValue):!e&&t>a[h].startValue&&o<a[h].endValue&&(n=t+a[h].size*(o-t)/(a[h].endValue-a[h].startValue)));return n},Z.prototype.setViewPortRange=function(t,o){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(t,o),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(t,o)},Z.prototype.getXValueAt=function(t){if(!t)return null;var o=null;return this._position==="left"?o=this.convertPixelToValue(t.y):this._position==="bottom"&&(o=this.convertPixelToValue(t.x)),o},Z.prototype.calculateValueToPixelConversionParameters=function(t){t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var o={pixelPerUnit:null,minimum:null,reference:null},n=this.lineCoordinates.width,e=this.lineCoordinates.height,n=this._position==="bottom"||this._position==="top"?n:e,e=Math.abs(this.range);if(this.logarithmic)for(var a=0;a<t.length&&!(this.viewportMaximum<t[a].startValue);a++)this.viewportMinimum>t[a].endValue||(this.viewportMinimum>=t[a].startValue&&this.viewportMaximum<=t[a].endValue?n=0:this.viewportMinimum<=t[a].startValue&&this.viewportMaximum>=t[a].endValue?(e=e/t[a].endValue*t[a].startValue,n=0<t[a].spacing.toString().indexOf("%")?n*(1-parseFloat(t[a].spacing)/100):n-Math.min(t[a].spacing,.1*n)):this.viewportMinimum>t[a].startValue&&this.viewportMaximum>=t[a].endValue?(e=e/t[a].endValue*this.viewportMinimum,n=0<t[a].spacing.toString().indexOf("%")?n*(1-parseFloat(t[a].spacing)/100*Math.log(t[a].endValue/this.viewportMinimum)/Math.log(t[a].endValue/t[a].startValue)):n-Math.min(t[a].spacing,.1*n)*Math.log(t[a].endValue/this.viewportMinimum)/Math.log(t[a].endValue/t[a].startValue)):this.viewportMinimum<=t[a].startValue&&this.viewportMaximum<t[a].endValue&&(e=e/this.viewportMaximum*t[a].startValue,n=0<t[a].spacing.toString().indexOf("%")?n*(1-parseFloat(t[a].spacing)/100*Math.log(this.viewportMaximum/t[a].startValue)/Math.log(t[a].endValue/t[a].startValue)):n-Math.min(t[a].spacing,.1*n)*Math.log(this.viewportMaximum/t[a].startValue)/Math.log(t[a].endValue/t[a].startValue)));else for(a=0;a<t.length&&!(this.viewportMaximum<t[a].startValue);a++)this.viewportMinimum>t[a].endValue||(this.viewportMinimum>=t[a].startValue&&this.viewportMaximum<=t[a].endValue?n=0:this.viewportMinimum<=t[a].startValue&&this.viewportMaximum>=t[a].endValue?(e=e-t[a].endValue+t[a].startValue,n=0<t[a].spacing.toString().indexOf("%")?n*(1-parseFloat(t[a].spacing)/100):n-Math.min(t[a].spacing,.1*n)):this.viewportMinimum>t[a].startValue&&this.viewportMaximum>=t[a].endValue?(e=e-t[a].endValue+this.viewportMinimum,n=0<t[a].spacing.toString().indexOf("%")?n*(1-parseFloat(t[a].spacing)/100*(t[a].endValue-this.viewportMinimum)/(t[a].endValue-t[a].startValue)):n-Math.min(t[a].spacing,.1*n)*(t[a].endValue-this.viewportMinimum)/(t[a].endValue-t[a].startValue)):this.viewportMinimum<=t[a].startValue&&this.viewportMaximum<t[a].endValue&&(e=e-this.viewportMaximum+t[a].startValue,n=0<t[a].spacing.toString().indexOf("%")?n*(1-parseFloat(t[a].spacing)/100*(this.viewportMaximum-t[a].startValue)/(t[a].endValue-t[a].startValue)):n-Math.min(t[a].spacing,.1*n)*(this.viewportMaximum-t[a].startValue)/(t[a].endValue-t[a].startValue)));o.minimum=this.viewportMinimum,o.maximum=this.viewportMaximum,o.range=e,(this._position==="bottom"||this._position==="top")&&(this.logarithmic?(o.lnLogarithmBase=Math.log(this.logarithmBase),o.pixelPerUnit=(this.reversed?-1:1)*n*o.lnLogarithmBase/Math.log(Math.abs(e))):o.pixelPerUnit=(this.reversed?-1:1)*n/Math.abs(e),o.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),(this._position==="left"||this._position==="right")&&(this.logarithmic?(o.lnLogarithmBase=Math.log(this.logarithmBase),o.pixelPerUnit=(this.reversed?1:-1)*n*o.lnLogarithmBase/Math.log(Math.abs(e))):o.pixelPerUnit=(this.reversed?1:-1)*n/Math.abs(e),o.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=o},Z.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var n=this.chart.layoutManager.getFreeSpace(),t=!1,o=!1;this._position==="bottom"||this._position==="top"?(this.maxWidth=n.width,this.maxHeight=n.height):(this.maxWidth=n.height,this.maxHeight=n.width);var n=this.type==="axisX"?this.chart.plotInfo.axisPlacement==="xySwapped"?62:70:this.chart.plotInfo.axisPlacement==="xySwapped"?50:40,d=4;this.type==="axisX"&&(d=600>this.maxWidth?8:6);var n=Math.max(d,Math.floor(this.maxWidth/n)),e,a,h,d=0;if(!P(this.options.viewportMinimum)&&!P(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),P(this.options.viewportMinimum)&&!P(this.sessionVariables.newViewportMinimum)&&!isNaN(this.sessionVariables.newViewportMinimum)?this.viewportMinimum=this.sessionVariables.newViewportMinimum:(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),P(this.options.viewportMaximum)&&!P(this.sessionVariables.newViewportMaximum)&&!isNaN(this.sessionVariables.newViewportMaximum)?this.viewportMaximum=this.sessionVariables.newViewportMaximum:(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks){for(d=0;d<this.scaleBreaks._appliedBreaks.length;d++)if((!P(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[d].startValue||!P(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[d].startValue||!P(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[d].startValue)&&(!P(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[d].endValue||!P(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[d].endValue||!P(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[d].endValue)){this.scaleBreaks._appliedBreaks.splice(d,1);break}}if(this.type==="axisX"){if(this.dataSeries&&0<this.dataSeries.length)for(e=0;e<this.dataSeries.length;e++)this.dataSeries[e].xValueType==="dateTime"&&(o=!0);e=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,a=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,a-e===0&&(d=typeof this.options.interval>"u"?.4:this.options.interval,a+=d,e-=d),this.dataInfo.minDiff!==1/0?h=this.dataInfo.minDiff:1<a-e?h=.5*Math.abs(a-e):(h=1,o&&(t=!0))}else this.type==="axisY"&&(e=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,a=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(e)||isFinite(a)?isFinite(e)?isFinite(a)||(a=e):e=a:(a=typeof this.options.interval>"u"?-1/0:this.options.interval,e=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),e===0&&a===0?(a+=9,e=0):a-e===0?(d=Math.min(Math.abs(.01*Math.abs(a)),5),a+=d,e-=d):e>a?(d=Math.min(.01*Math.abs(this.getApparentDifference(a,e,null,!0)),5),0<=a?e=a-d:a=isFinite(e)?e+d:0):(d=Math.min(.01*Math.abs(this.getApparentDifference(e,a,null,!0)),.05),a!==0&&(a+=d),e!==0&&(e-=d)),h=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<a-e?.5*Math.abs(a-e):1,this.includeZero&&(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&0<e&&(e=0),this.includeZero&&(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&0>a&&(a=0));d=this.getApparentDifference(isNaN(this.viewportMinimum)||this.viewportMinimum===null?e:this.viewportMinimum,isNaN(this.viewportMaximum)||this.viewportMaximum===null?a:this.viewportMaximum,null,!0),this.type==="axisX"&&o?(this.valueType="dateTime",this.intervalType||(d/1<=n?(this.interval=1,this.intervalType="millisecond"):d/2<=n?(this.interval=2,this.intervalType="millisecond"):d/5<=n?(this.interval=5,this.intervalType="millisecond"):d/10<=n?(this.interval=10,this.intervalType="millisecond"):d/20<=n?(this.interval=20,this.intervalType="millisecond"):d/50<=n?(this.interval=50,this.intervalType="millisecond"):d/100<=n?(this.interval=100,this.intervalType="millisecond"):d/200<=n?(this.interval=200,this.intervalType="millisecond"):d/250<=n?(this.interval=250,this.intervalType="millisecond"):d/300<=n?(this.interval=300,this.intervalType="millisecond"):d/400<=n?(this.interval=400,this.intervalType="millisecond"):d/500<=n?(this.interval=500,this.intervalType="millisecond"):d/(1*Yt.secondDuration)<=n?(this.interval=1,this.intervalType="second"):d/(2*Yt.secondDuration)<=n?(this.interval=2,this.intervalType="second"):d/(5*Yt.secondDuration)<=n?(this.interval=5,this.intervalType="second"):d/(10*Yt.secondDuration)<=n?(this.interval=10,this.intervalType="second"):d/(15*Yt.secondDuration)<=n?(this.interval=15,this.intervalType="second"):d/(20*Yt.secondDuration)<=n?(this.interval=20,this.intervalType="second"):d/(30*Yt.secondDuration)<=n?(this.interval=30,this.intervalType="second"):d/(1*Yt.minuteDuration)<=n?(this.interval=1,this.intervalType="minute"):d/(2*Yt.minuteDuration)<=n?(this.interval=2,this.intervalType="minute"):d/(5*Yt.minuteDuration)<=n?(this.interval=5,this.intervalType="minute"):d/(10*Yt.minuteDuration)<=n?(this.interval=10,this.intervalType="minute"):d/(15*Yt.minuteDuration)<=n?(this.interval=15,this.intervalType="minute"):d/(20*Yt.minuteDuration)<=n?(this.interval=20,this.intervalType="minute"):d/(30*Yt.minuteDuration)<=n?(this.interval=30,this.intervalType="minute"):d/(1*Yt.hourDuration)<=n?(this.interval=1,this.intervalType="hour"):d/(2*Yt.hourDuration)<=n?(this.interval=2,this.intervalType="hour"):d/(3*Yt.hourDuration)<=n?(this.interval=3,this.intervalType="hour"):d/(6*Yt.hourDuration)<=n?(this.interval=6,this.intervalType="hour"):d/(1*Yt.dayDuration)<=n?(this.interval=1,this.intervalType="day"):d/(2*Yt.dayDuration)<=n?(this.interval=2,this.intervalType="day"):d/(4*Yt.dayDuration)<=n?(this.interval=4,this.intervalType="day"):d/(1*Yt.weekDuration)<=n?(this.interval=1,this.intervalType="week"):d/(2*Yt.weekDuration)<=n?(this.interval=2,this.intervalType="week"):d/(3*Yt.weekDuration)<=n?(this.interval=3,this.intervalType="week"):d/(1*Yt.monthDuration)<=n?(this.interval=1,this.intervalType="month"):d/(2*Yt.monthDuration)<=n?(this.interval=2,this.intervalType="month"):d/(3*Yt.monthDuration)<=n?(this.interval=3,this.intervalType="month"):d/(6*Yt.monthDuration)<=n?(this.interval=6,this.intervalType="month"):(this.interval=d/(1*Yt.yearDuration)<=n?1:d/(2*Yt.yearDuration)<=n?2:d/(4*Yt.yearDuration)<=n?4:Math.floor(Z.getNiceNumber(d/(n-1),!0)/Yt.yearDuration),this.intervalType="year")),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=e-h/2),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=a+h/2),t?this.autoValueFormatString="MMM DD YYYY HH:mm":this.intervalType==="year"?this.autoValueFormatString="YYYY":this.intervalType==="month"?this.autoValueFormatString="MMM YYYY":this.intervalType==="week"?this.autoValueFormatString="MMM DD YYYY":this.intervalType==="day"?this.autoValueFormatString="MMM DD YYYY":this.intervalType==="hour"?this.autoValueFormatString="hh:mm TT":this.intervalType==="minute"?this.autoValueFormatString="hh:mm TT":this.intervalType==="second"?this.autoValueFormatString="hh:mm:ss TT":this.intervalType==="millisecond"&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",d=Z.getNiceNumber(d,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:Z.getNiceNumber(d/(n-1),!0),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.type==="axisX"?e-h/2:Math.floor(e/this.interval)*this.interval),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.type==="axisX"?a+h/2:Math.ceil(a/this.interval)*this.interval),this.viewportMaximum===0&&this.viewportMinimum===0&&(this.options.viewportMinimum===0?this.viewportMaximum+=10:this.options.viewportMaximum===0&&(this.viewportMinimum-=10),this.options&&typeof this.options.interval>"u"&&(this.interval=Z.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(n-1),!0)))),(this.minimum===null||this.maximum===null)&&(this.type==="axisX"?(e=this.minimum!==null?this.minimum:this.dataInfo.min,a=this.maximum!==null?this.maximum:this.dataInfo.max,a-e===0&&(d=typeof this.options.interval>"u"?.4:this.options.interval,a+=d,e-=d),h=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<a-e?.5*Math.abs(a-e):1):this.type==="axisY"&&(e=this.minimum!==null?this.minimum:this.dataInfo.min,a=this.maximum!==null?this.maximum:this.dataInfo.max,isFinite(e)||isFinite(a)?e===0&&a===0?(a+=9,e=0):a-e===0?(d=Math.min(Math.abs(.01*Math.abs(a)),5),a+=d,e-=d):e>a?(d=Math.min(.01*Math.abs(this.getApparentDifference(a,e,null,!0)),5),0<=a?e=a-d:a=isFinite(e)?e+d:0):(d=Math.min(.01*Math.abs(this.getApparentDifference(e,a,null,!0)),.05),a!==0&&(a+=d),e!==0&&(e-=d)):(a=typeof this.options.interval>"u"?-1/0:this.options.interval,e=typeof this.options.interval<"u"||isFinite(this.dataInfo.minDiff)?0:1/0),h=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<a-e?.5*Math.abs(a-e):1,this.includeZero&&(this.minimum===null||isNaN(this.minimum))&&0<e&&(e=0),this.includeZero&&(this.maximum===null||isNaN(this.maximum))&&0>a&&(a=0)),Math.abs(this.getApparentDifference(e,a,null,!0)),this.type==="axisX"&&o?(this.valueType="dateTime",(this.minimum===null||isNaN(this.minimum))&&(this.minimum=e-h/2,this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),(this.maximum===null||isNaN(this.maximum))&&(this.maximum=a+h/2,this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum))):(this.intervalType=this.valueType="number",this.minimum===null&&(this.minimum=this.type==="axisX"?e-h/2:Math.floor(e/this.interval)*this.interval,this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),this.maximum===null&&(this.maximum=this.type==="axisX"?a+h/2:Math.ceil(a/this.interval)*this.interval,this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),this.maximum===0&&this.minimum===0&&(this.options.minimum===0?this.maximum+=10:this.options.maximum===0&&(this.minimum-=10)))),P(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),P(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition=this.type==="axisX"&&o?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=Z.generateValueFormatString(this.range,2))}},Z.prototype.calculateLogarithmicAxisParameters=function(){var n=this.chart.layoutManager.getFreeSpace(),t=Math.log(this.logarithmBase),o;this._position==="bottom"||this._position==="top"?(this.maxWidth=n.width,this.maxHeight=n.height):(this.maxWidth=n.height,this.maxHeight=n.width);var n=this.type==="axisX"?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),e,a,h,d;if(d=1,(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks){for(d=0;d<this.scaleBreaks._appliedBreaks.length;d++)if((!P(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[d].startValue||!P(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[d].startValue||!P(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[d].startValue)&&(!P(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[d].endValue||!P(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[d].endValue||!P(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[d].endValue)){this.scaleBreaks._appliedBreaks.splice(d,1);break}}this.type==="axisX"?(e=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,a=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,a/e===1&&(d=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),a*=d,e/=d),h=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:a/e>this.logarithmBase?a/e*Math.pow(this.logarithmBase,.5):this.logarithmBase):this.type==="axisY"&&(e=this.viewportMinimum!==null?this.viewportMinimum:this.dataInfo.viewPortMin,a=this.viewportMaximum!==null?this.viewportMaximum:this.dataInfo.viewPortMax,0>=e&&!isFinite(a)?(a=typeof this.options.interval>"u"?0:this.options.interval,e=1):0>=e?e=a:isFinite(a)||(a=e),e===1&&a===1?(a*=this.logarithmBase-1/this.logarithmBase,e=1):a/e===1?(d=Math.min(a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),a*=d,e/=d):e>a?(d=Math.min(e/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=a?e=a/d:a=e*d):(d=Math.min(a/e*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),a!==1&&(a*=d),e!==1&&(e/=d)),h=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:a/e>this.logarithmBase?a/e*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&1<e&&(e=1),this.includeZero&&(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&1>a&&(a=1)),d=(isNaN(this.viewportMaximum)||this.viewportMaximum===null?a:this.viewportMaximum)/(isNaN(this.viewportMinimum)||this.viewportMinimum===null?e:this.viewportMinimum);var _=(isNaN(this.viewportMaximum)||this.viewportMaximum===null?a:this.viewportMaximum)-(isNaN(this.viewportMinimum)||this.viewportMinimum===null?e:this.viewportMinimum);if(this.intervalType="number",d=Math.pow(this.logarithmBase,Z.getNiceNumber(Math.abs(Math.log(d)/t),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=Z.getNiceExponent(Math.log(d)/t/(n-1),!0),o=Z.getNiceNumber(_/(n-1),!0)),(this.viewportMinimum===null||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.type==="axisX"?e/Math.sqrt(h):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(e)/t/this.interval))),(this.viewportMaximum===null||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.type==="axisX"?a*Math.sqrt(h):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(a)/t/this.interval))),this.viewportMaximum===1&&this.viewportMinimum===1&&(this.options.viewportMinimum===1?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:this.options.viewportMaximum===1&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&typeof this.options.interval>"u"&&(this.interval=Z.getNiceExponent(Math.ceil(Math.log(d)/t)/(n-1)),o=Z.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(n-1),!0))),(this.minimum===null||this.maximum===null)&&(this.type==="axisX"?(e=this.minimum!==null?this.minimum:this.dataInfo.min,a=this.maximum!==null?this.maximum:this.dataInfo.max,a/e===1&&(d=Math.pow(this.logarithmBase,typeof this.options.interval>"u"?.4:this.options.interval),a*=d,e/=d),h=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:a/e>this.logarithmBase?a/e*Math.pow(this.logarithmBase,.5):this.logarithmBase):this.type==="axisY"&&(e=this.minimum!==null?this.minimum:this.dataInfo.min,a=this.maximum!==null?this.maximum:this.dataInfo.max,isFinite(e)||isFinite(a)?e===1&&a===1?(a*=this.logarithmBase,e/=this.logarithmBase):a/e===1?(d=Math.pow(this.logarithmBase,this.interval),a*=d,e/=d):e>a?(d=Math.min(.01*(e/a),5),1<=a?e=a/d:a=e*d):(d=Math.min(a/e*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),a!==1&&(a*=d),e!==1&&(e/=d)):(a=typeof this.options.interval>"u"?0:this.options.interval,e=1),h=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:a/e>this.logarithmBase?a/e*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(this.minimum===null||isNaN(this.minimum))&&1<e&&(e=1),this.includeZero&&(this.maximum===null||isNaN(this.maximum))&&1>a&&(a=1)),this.intervalType="number",this.minimum===null&&(this.minimum=this.type==="axisX"?e/Math.sqrt(h):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(e)/t/this.interval)),P(this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)||(this.minimum=Math.min(this.minimum,this.sessionVariables.viewportMinimum===null||isNaN(this.sessionVariables.viewportMinimum)?typeof this.sessionVariables.newViewportMinimum>"u"?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum))),this.maximum===null&&(this.maximum=this.type==="axisX"?a*Math.sqrt(h):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(a)/t/this.interval)),P(this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)||(this.maximum=Math.max(this.maximum,this.sessionVariables.viewportMaximum===null||isNaN(this.sessionVariables.viewportMaximum)?typeof this.sessionVariables.newViewportMaximum>"u"?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum))),this.maximum===1&&this.minimum===1&&(this.options.minimum===1?this.maximum*=this.logarithmBase-1/this.logarithmBase:this.options.maximum===1&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),e=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(t*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=n,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>n?2:3)){for(t=Math.floor(this.viewportMinimum/o+.5)*o;t<this.viewportMinimum;)t+=o;this.equidistantInterval=!1,this.intervalStartPosition=t,this.interval=o}else this.options.interval||(o=Math.ceil(this.interval),this.range>this.interval&&(this.interval=o,e=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(t*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=e;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(t=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,(isNaN(t)||!isFinite(t))&&(t=2),2<t))for(d=0;d<t-2;d++)this.valueFormatString+="#"},Z.generateValueFormatString=function(t,o){var n="#,##0.",e=o;1>t&&(e+=Math.floor(Math.abs(Math.log(t)/Math.LN10)),isNaN(e)||!isFinite(e))&&(e=o);for(var a=0;a<e;a++)n+="#";return n},Z.getNiceExponent=function(t,o){var n=Math.floor(Math.log(t)/Math.LN10),e=t/Math.pow(10,n),e=0>n?1>=e?1:5>=e?5:10:Math.max(Math.floor(e),1);return-20>n?Number(e*Math.pow(10,n)):Number((e*Math.pow(10,n)).toFixed(20))},Z.getNiceNumber=function(t,o){var n=Math.floor(Math.log(t)/Math.LN10),e=t/Math.pow(10,n),e=o?1.5>e?1:3>e?2:7>e?5:10:1>=e?1:2>=e?2:5>=e?5:10;return-20>n?Number(e*Math.pow(10,n)):Number((e*Math.pow(10,n)).toFixed(20))},Z.prototype.getLabelStartPoint=function(){var t=Yt[this.intervalType+"Duration"]*this.interval,t=new Date(Math.floor(this.viewportMinimum/t)*t);return this.intervalType!=="millisecond"&&(this.intervalType==="second"?0<t.getMilliseconds()&&(t.setSeconds(t.getSeconds()+1),t.setMilliseconds(0)):this.intervalType==="minute"?(0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMinutes(t.getMinutes()+1),t.setSeconds(0),t.setMilliseconds(0)):this.intervalType==="hour"?(0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):this.intervalType==="day"?(0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):this.intervalType==="week"?(0<t.getDay()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+(7-t.getDay())),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):this.intervalType==="month"?(1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMonth(t.getMonth()+1),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):this.intervalType==="year"&&(0<t.getMonth()||1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setFullYear(t.getFullYear()+1),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0))),t},c(jt,Ie),c(ge,Ie),ge.prototype.createUserOptions=function(t){if(typeof t<"u"||this.options._isPlaceholder){var o=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(zt(this.parent[this.optionsName]),o=this.parent.options[this.optionsName].indexOf(this.options)),this.options=typeof t>"u"?{}:t,this.parent.options[this.optionsName][o]=this.options}},ge.prototype.render=function(t){if(this.spacing!==0||this.options.lineThickness!==0&&(typeof this.options.lineThickness<"u"||this.parent.lineThickness!==0)){var o=this.ctx,n=this.ctx.globalAlpha;this.ctx=t||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var e=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),a=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,z(this.id);var h,d,_,b,u,p;t=Math.max(this.spacing,3);var m=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=m,this.ctx.setLineDash&&this.ctx.setLineDash(wt(this.lineDashType,m)),this.scaleBreaks.parent._position==="bottom"||this.scaleBreaks.parent._position==="top"){if(e=m%2===1?(e.x<<0)+.5:e.x<<0,d=m%2===1?(a.x<<0)+.5:a.x<<0,this.scaleBreaks.parent._position==="top"?(a=this.chart.plotArea.y1,_=this.chart.plotArea.y2+m/2+.5<<0):(a=this.chart.plotArea.y2,_=this.chart.plotArea.y1-m/2+.5<<0,t*=-1),this.bounds={x1:e-m/2,y1:a,x2:d+m/2,y2:_},this.ctx.moveTo(e,a),this.type==="straight"||this.scaleBreaks.parent._position==="top"&&0>=t||this.scaleBreaks.parent._position==="bottom"&&0<=t)this.ctx.lineTo(e,_),this.ctx.lineTo(d,_),this.ctx.lineTo(d,a);else if(this.type==="wavy"){b=e,u=a,h=.5,p=(_-u)/t/3;for(var g=0;g<p;g++)this.ctx.bezierCurveTo(b+h*t,u+t,b+h*t,u+2*t,b,u+3*t),u+=3*t,h*=-1;for(this.ctx.bezierCurveTo(b+h*t,u+t,b+h*t,u+2*t,b,u+3*t),b=d,h*=-1,this.ctx.lineTo(b,u),g=0;g<p;g++)this.ctx.bezierCurveTo(b+h*t,u-t,b+h*t,u-2*t,b,u-3*t),u-=3*t,h*=-1}else if(this.type==="zigzag"){for(h=-1,u=a+t,b=e+t,p=(_-u)/t/2,g=0;g<p;g++)this.ctx.lineTo(b,u),b+=2*h*t,u+=2*t,h*=-1;for(this.ctx.lineTo(b,u),b+=d-e,g=0;g<p+1;g++)this.ctx.lineTo(b,u),b+=2*h*t,u-=2*t,h*=-1;this.ctx.lineTo(b+h*t,u+t)}}else if(this.scaleBreaks.parent._position==="left"||this.scaleBreaks.parent._position==="right"){if(a=m%2===1?(a.y<<0)+.5:a.y<<0,_=m%2===1?(e.y<<0)+.5:e.y<<0,this.scaleBreaks.parent._position==="left"?(e=this.chart.plotArea.x1,d=this.chart.plotArea.x2+m/2+.5<<0):(e=this.chart.plotArea.x2,d=this.chart.plotArea.x1-m/2+.5<<0,t*=-1),this.bounds={x1:e,y1:a-m/2,x2:d,y2:_+m/2},this.ctx.moveTo(e,a),this.type==="straight"||this.scaleBreaks.parent._position==="left"&&0>=t||this.scaleBreaks.parent._position==="right"&&0<=t)this.ctx.lineTo(d,a),this.ctx.lineTo(d,_),this.ctx.lineTo(e,_);else if(this.type==="wavy"){for(b=e,u=a,h=.5,p=(d-b)/t/3,g=0;g<p;g++)this.ctx.bezierCurveTo(b+t,u+h*t,b+2*t,u+h*t,b+3*t,u),b+=3*t,h*=-1;for(this.ctx.bezierCurveTo(b+t,u+h*t,b+2*t,u+h*t,b+3*t,u),u=_,h*=-1,this.ctx.lineTo(b,u),g=0;g<p;g++)this.ctx.bezierCurveTo(b-t,u+h*t,b-2*t,u+h*t,b-3*t,u),b-=3*t,h*=-1}else if(this.type==="zigzag"){for(h=1,u=a-t,b=e+t,p=(d-b)/t/2,g=0;g<p;g++)this.ctx.lineTo(b,u),u+=2*h*t,b+=2*t,h*=-1;for(this.ctx.lineTo(b,u),u+=_-a,g=0;g<p+1;g++)this.ctx.lineTo(b,u),u+=2*h*t,b-=2*t,h*=-1;this.ctx.lineTo(b+t,u+h*t)}}0<m&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=n,this.ctx=o}},c(Rt,Ie),Rt.prototype.createUserOptions=function(t){if(typeof t<"u"||this.options._isPlaceholder){var o=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(zt(this.parent.stripLines),o=this.parent.options.stripLines.indexOf(this.options)),this.options=typeof t>"u"?{}:t,this.parent.options.stripLines[o]=this.options}},Rt.prototype.render=function(){this.ctx.save();var t=this.parent.getPixelCoordinatesOnAxis(this.value),o=Math.abs(this._thicknessType==="pixel"?this.thickness:Math.abs(this.parent.convertValueToPixel(this.endValue)-this.parent.convertValueToPixel(this.startValue)));if(0<o){var n=this.opacity===null?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var e=this.ctx.globalAlpha;this.ctx.globalAlpha=n,z(this.id);var a,h,d,_;this.ctx.lineWidth=o,this.ctx.setLineDash&&this.ctx.setLineDash(wt(this.lineDashType,o)),this.parent._position==="bottom"||this.parent._position==="top"?(a=h=this.ctx.lineWidth%2===1?(t.x<<0)+.5:t.x<<0,d=this.chart.plotArea.y1,_=this.chart.plotArea.y2,this.bounds={x1:a-o/2,y1:d,x2:h+o/2,y2:_}):(this.parent._position==="left"||this.parent._position==="right")&&(d=_=this.ctx.lineWidth%2===1?(t.y<<0)+.5:t.y<<0,a=this.chart.plotArea.x1,h=this.chart.plotArea.x2,this.bounds={x1:a,y1:d-o/2,x2:h,y2:_+o/2}),this.ctx.moveTo(a,d),this.ctx.lineTo(h,_),this.ctx.stroke(),this.ctx.globalAlpha=e}this.ctx.restore()},c(Mi,Ie),Mi.prototype.showAt=function(t){if(!this.enabled)return!1;var o=this.chart,n=!1;if(o.resetOverlayedCanvas(),o.clearedOverlayedCanvas=this.parent.type,this.chart.renderCrosshairs(this.parent),o.plotInfo.axisPlacement==="xySwapped"){if(this.parent._position==="bottom")for(var e=0;e<o.axisY.length;e++)this.parent===o.axisY[e]&&(o.axisY[e]._crosshairValue=t>=o.axisY[e].viewportMinimum&&t<=o.axisY[e].viewportMaximum?t:null);else if(this.parent._position==="top")for(e=0;e<o.axisY2.length;e++)this.parent===o.axisY2[e]&&(o.axisY2[e]._crosshairValue=t>=o.axisY2[e].viewportMinimum&&t<=o.axisY2[e].viewportMaximum?t:null);else if(this.parent._position==="left")for(e=0;e<o.axisX.length;e++)this.parent===o.axisX[e]&&(o.axisX[e]._crosshairValue=t>=o.axisX[e].viewportMinimum&&t<=o.axisX[e].viewportMaximum?t:null);else if(this.parent._position==="right")for(e=0;e<o.axisX2.length;e++)this.parent===o.axisX2[e]&&(o.axisX2[e]._crosshairValue=t>=o.axisX2[e].viewportMinimum&&t<=o.axisX2[e].viewportMaximum?t:null)}else if(this.parent._position==="bottom")for(e=0;e<o.axisX.length;e++)this.parent===o.axisX[e]&&(o.axisX[e]._crosshairValue=t>=o.axisX[e].viewportMinimum&&t<=o.axisX[e].viewportMaximum?t:null);else if(this.parent._position==="top")for(e=0;e<o.axisX2.length;e++)this.parent===o.axisX2[e]&&(o.axisX2[e]._crosshairValue=t>=o.axisX2[e].viewportMinimum&&t<=o.axisX2[e].viewportMaximum?t:null);else if(this.parent._position==="left")for(e=0;e<o.axisY.length;e++)this.parent===o.axisY[e]&&(o.axisY[e]._crosshairValue=t>=o.axisY[e].viewportMinimum&&t<=o.axisY[e].viewportMaximum?t:null);else if(this.parent._position==="right")for(e=0;e<o.axisY2.length;e++)this.parent===o.axisY2[e]&&(o.axisY2[e]._crosshairValue=t>=o.axisY2[e].viewportMinimum&&t<=o.axisY2[e].viewportMaximum?t:null);for(e=0;e<o.axisX.length;e++)t=o.axisX[e]._crosshairValue,o.axisX[e].crosshair&&o.axisX[e].crosshair.enabled&&(!P(t)&&t>=o.axisX[e].viewportMinimum&&t<=o.axisX[e].viewportMaximum?(o.axisX[e].showCrosshair(t),o.axisX[e].sessionVariables.crosshairValue=o.axisX[e].crosshair._updatedValue=t,this===o.axisX[e].crosshair&&(n=!0)):t!==void 0&&(o.axisX[e].sessionVariables.crosshairValue=o.axisX[e].crosshair._updatedValue=null));for(e=0;e<o.axisX2.length;e++)t=o.axisX2[e]._crosshairValue,o.axisX2[e].crosshair&&o.axisX2[e].crosshair.enabled&&(!P(t)&&t>=o.axisX2[e].viewportMinimum&&t<=o.axisX2[e].viewportMaximum?(o.axisX2[e].showCrosshair(t),o.axisX2[e].sessionVariables.crosshairValue=o.axisX2[e].crosshair._updatedValue=t,this===o.axisX2[e].crosshair&&(n=!0)):t!==void 0&&(o.axisX2[e].sessionVariables.crosshairValue=o.axisX2[e].crosshair._updatedValue=null));for(e=0;e<o.axisY.length;e++)t=o.axisY[e]._crosshairValue,o.axisY[e].crosshair&&o.axisY[e].crosshair.enabled&&(!P(t)&&t>=o.axisY[e].viewportMinimum&&t<=o.axisY[e].viewportMaximum?(o.axisY[e].showCrosshair(t),o.axisY[e].sessionVariables.crosshairValue=o.axisY[e].crosshair._updatedValue=t,this===o.axisY[e].crosshair&&(n=!0)):t!==void 0&&(o.axisY[e].sessionVariables.crosshairValue=o.axisY[e].crosshair._updatedValue=null));for(e=0;e<o.axisY2.length;e++)t=o.axisY2[e]._crosshairValue,o.axisY2[e].crosshair&&o.axisY2[e].crosshair.enabled&&(!P(t)&&t>=o.axisY2[e].viewportMinimum&&t<=o.axisY2[e].viewportMaximum?(o.axisY2[e].showCrosshair(t),o.axisY2[e].sessionVariables.crosshairValue=o.axisY2[e].crosshair._updatedValue=t,this===o.axisY2[e].crosshair&&(n=!0)):t!==void 0&&(o.axisY2[e].sessionVariables.crosshairValue=o.axisY2[e].crosshair._updatedValue=null));return this.chart.toolTip&&this.chart.toolTip._entries&&this.chart.toolTip.highlightObjects(this.chart.toolTip._entries),o.sessionVariables.crosshairShownByPixel=!1,n},Mi.prototype.hide=function(){this.chart.resetOverlayedCanvas(),this.chart.renderCrosshairs(this.parent),this._hidden=!0},Mi.prototype.render=function(t,o,n){var e,a,h,d,_=null,b=null,u=null,p="";this.valueFormatString||(this.parent.valueType==="dateTime"?this.valueFormatString=this.parent.valueFormatString:(u=0,u=this.chart.plotInfo.axisPlacement==="xySwapped"?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=Z.generateValueFormatString(this.parent.range,u)));var m=this.opacity===null?1:this.opacity,g=Math.abs(this._thicknessType==="pixel"?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness),s=this.chart.overlaidCanvasCtx,y=s.globalAlpha;if(s.beginPath(),s.strokeStyle=this.color,s.lineWidth=g,s.save(),this.labelFontSize=Math.abs(P(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize),this.labelMaxWidth=P(this.options.labelMaxWidth)?.3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=P(this.options.labelWrap)||this.labelWrap?.3*this.chart.height:2*this.labelFontSize,0<g&&s.setLineDash&&s.setLineDash(wt(this.lineDashType,g)),u=new te(s,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:p,textAlign:this.labelTextAlign,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var M=0,p=[];if(this.chart.plotInfo.axisPlacement==="xySwapped"){var T=null;this.parent._position==="bottom"||this.parent._position==="top"?M=this.parent.dataSeries[0].axisX.convertPixelToValue({y:o}):(this.parent._position==="left"||this.parent._position==="right")&&(M=this.parent.convertPixelToValue({y:o}));for(var x=0;x<this.parent.dataSeries.length;x++)(T=this.parent.dataSeries[x].getDataPointAtX(M,!0))&&0<=T.index&&(T.dataSeries=this.parent.dataSeries[x],T.dataPoint.y!==null&&T.dataSeries.visible&&p.push(T));if(T=null,p.length===0)return;p.sort(function(O,J){return O.distance-J.distance});var D=T=0;yPercent=cumulativeY=0;for(var M=1/0,C,x=0;x<p.length;x++){if(p[x].dataSeries.type==="rangeBar"||p[x].dataSeries.type==="error"){if(p[x].dataPoint.y)for(var R=0;R<p[x].dataPoint.y.length;R++)D=Math.abs(t-this.parent.convertValueToPixel(p[x].dataPoint.y[R])),D<=M&&(M=D,T=x)}else p[x].dataSeries.type==="stackedBar"?(cumulativeY=p[x].dataSeries.dataPointEOs[p[x].index].cumulativeY,D=Math.abs(t-this.parent.convertValueToPixel(cumulativeY)),D<=M&&(M=D,T=x)):p[x].dataSeries.type==="stackedBar100"?(D=p[0].dataPoint.x.getTime?p[0].dataPoint.x.getTime():p[0].dataPoint.x,P(C)&&(C=Math.abs(t-this.parent.convertValueToPixel(100*(p[0].dataSeries.dataPointEOs[p[0].index].cumulativeY/p[0].dataSeries.plotUnit.dataPointYSums[D])))),cumulativeY=p[x].dataSeries.dataPointEOs[p[x].index].cumulativeY,D=p[x].dataPoint.x.getTime?p[x].dataPoint.x.getTime():p[x].dataPoint.x,yPercent=100*(cumulativeY/p[x].dataSeries.plotUnit.dataPointYSums[D]),D=Math.abs(t-this.parent.convertValueToPixel(yPercent)),D<=C&&(C=D,T=x)):(D=Math.abs(t-this.parent.convertValueToPixel(p[x].dataPoint.y)),D<=M&&(M=D,T=x));P(C)||(M=Math.min(M,C))}if(C=p[T],x=0,this.parent._position==="bottom"||this.parent._position==="top"){if(C.dataSeries.type==="rangeBar"||C.dataSeries.type==="error"){for(M=Math.abs(t-this.parent.convertValueToPixel(C.dataPoint.y[0])),p=0;p<C.dataPoint.y.length;p++)D=Math.abs(t-this.parent.convertValueToPixel(C.dataPoint.y[p])),D<M&&(M=D,x=p);_=s.lineWidth%2===1?(this.parent.convertValueToPixel(C.dataPoint.y[x])<<0)+.5:this.parent.convertValueToPixel(C.dataPoint.y[x])<<0,this.value=C.dataPoint.y[x],u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.y[x]}):P(this.options.label)?ze(P(n)?C.dataPoint.y[x]:n,this.valueFormatString,this.chart._cultureInfo):this.label}else C.dataSeries.type==="stackedBar"?(M=Math.abs(t-this.parent.convertValueToPixel(p[0].dataPoint.y)),cumulativeY=C.dataSeries.dataPointEOs[C.index].cumulativeY,_=s.lineWidth%2===1?(this.parent.convertValueToPixel(cumulativeY)<<0)+.5:this.parent.convertValueToPixel(cumulativeY)<<0,this.value=cumulativeY,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:cumulativeY}):P(this.options.label)?ze(P(n)?cumulativeY:n,this.valueFormatString,this.chart._cultureInfo):this.label):C.dataSeries.type==="stackedBar100"?(M=Math.abs(t-this.parent.convertValueToPixel(p[0].dataPoint.y)),cumulativeY=C.dataSeries.dataPointEOs[C.index].cumulativeY,D=C.dataPoint.x.getTime?C.dataPoint.x.getTime():C.dataPoint.x,yPercent=100*(cumulativeY/C.dataSeries.plotUnit.dataPointYSums[D]),_=s.lineWidth%2===1?(this.parent.convertValueToPixel(yPercent)<<0)+.5:this.parent.convertValueToPixel(yPercent)<<0,this.value=yPercent,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:yPercent}):P(this.options.label)?ze(P(n)?yPercent:n,this.valueFormatString,this.chart._cultureInfo):this.label):(_=s.lineWidth%2===1?(this.parent.convertValueToPixel(C.dataPoint.y)<<0)+.5:this.parent.convertValueToPixel(C.dataPoint.y)<<0,this.value=C.dataPoint.y,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.y}):P(this.options.label)?ze(P(n)?C.dataPoint.y:n,this.valueFormatString,this.chart._cultureInfo):this.label);e=a=_,h=this.chart.plotArea.y1,d=this.chart.plotArea.y2,this.bounds={x1:e-g/2,y1:h,x2:a+g/2,y2:d},u.x=e-u.measureText().width/2,u.x+u.width>this.chart.bounds.x2?u.x=this.chart.bounds.x2-u.width:u.x<this.chart.bounds.x1&&(u.x=this.chart.bounds.x1),u.y=this.parent.lineCoordinates.y2+(this.parent._position==="top"?-u.height+this.parent.tickLength:u.fontSize/2)+2,u.y+u.height>this.chart.bounds.y2?u.y=this.chart.bounds.y2-u.height:u.y<this.chart.bounds.y1&&(u.y=this.chart.bounds.y1)}else if(this.parent._position==="left"||this.parent._position==="right"){if(h=d=b=s.lineWidth%2===1?(this.parent.convertValueToPixel(C.dataPoint.x)<<0)+.5:this.parent.convertValueToPixel(C.dataPoint.x)<<0,e=this.chart.plotArea.x1,a=this.chart.plotArea.x2,this.bounds={x1:e,y1:h-g/2,x2:a,y2:d+g/2},x=!1,this.parent.labels)for(M=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=M)if(this.parent.labels[p])x=!0;else{x=!1;break}if(x){if(this.parent.type==="axisX")for(M=this.parent.convertPixelToValue({y:o}),T=null,x=0;x<this.parent.dataSeries.length;x++)(T=this.parent.dataSeries[x].getDataPointAtX(M,!0))&&0<=T.index&&(u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.x}):P(this.options.label)?T.dataPoint.label:this.label)}else u.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.x}):P(this.options.label)?ze(C.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.x}):P(this.options.label)?Ca(C.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=C.dataPoint.x,u.y=d+u.fontSize/2-u.measureText().height/2+2,u.y-u.fontSize/2<this.chart.bounds.y1?u.y=this.chart.bounds.y1+u.fontSize/2+2:u.y+u.measureText().height-u.fontSize/2>this.chart.bounds.y2&&(u.y=this.chart.bounds.y2-u.measureText().height+u.fontSize/2),this.parent._position==="left"?u.x=this.parent.lineCoordinates.x2-u.measureText().width:this.parent._position==="right"&&(u.x=this.parent.lineCoordinates.x2)}}else if(this.parent._position==="bottom"||this.parent._position==="top"){for(M=this.parent.convertPixelToValue({x:t}),x=0;x<this.parent.dataSeries.length;x++)(T=this.parent.dataSeries[x].getDataPointAtX(M,!0))&&0<=T.index&&(T.dataSeries=this.parent.dataSeries[x],T.dataPoint.y!==null&&T.dataSeries.visible&&p.push(T));if(p.length===0)return;if(p.sort(function(O,J){return O.distance-J.distance}),C=p[0],e=a=_=s.lineWidth%2===1?(this.parent.convertValueToPixel(C.dataPoint.x)<<0)+.5:this.parent.convertValueToPixel(C.dataPoint.x)<<0,h=this.chart.plotArea.y1,d=this.chart.plotArea.y2,this.bounds={x1:e-g/2,y1:h,x2:a+g/2,y2:d},x=!1,this.parent.labels)for(M=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=M)if(this.parent.labels[p])x=!0;else{x=!1;break}if(x){if(this.parent.type==="axisX")for(M=this.parent.convertPixelToValue({x:t}),T=null,x=0;x<this.parent.dataSeries.length;x++)(T=this.parent.dataSeries[x].getDataPointAtX(M,!0))&&0<=T.index&&(u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.x}):P(this.options.label)?T.dataPoint.label:this.label)}else u.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.x}):P(this.options.label)?ze(C.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.x}):P(this.options.label)?Ca(C.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label;this.value=C.dataPoint.x,u.x=e-u.measureText().width/2,u.x+u.width>this.chart.bounds.x2&&(u.x=this.chart.bounds.x2-u.width),u.x<this.chart.bounds.x1&&(u.x=this.chart.bounds.x1),this.parent._position==="bottom"?u.y=this.parent.lineCoordinates.y2+u.fontSize/2+2:this.parent._position==="top"&&(u.y=this.parent.lineCoordinates.y1-u.height+u.fontSize/2+2)}else if(this.parent._position==="left"||this.parent._position==="right"){for(!P(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(M=this.parent.dataSeries[0].axisX.convertPixelToValue({x:t})),x=0;x<this.parent.dataSeries.length;x++)(T=this.parent.dataSeries[x].getDataPointAtX(M,!0))&&0<=T.index&&(T.dataSeries=this.parent.dataSeries[x],T.dataPoint.y!==null&&T.dataSeries.visible&&p.push(T));if(p.length===0)return;for(p.sort(function(O,J){return O.distance-J.distance}),D=T=0,M=1/0,x=0;x<p.length;x++){if(p[x].dataSeries.type==="rangeColumn"||p[x].dataSeries.type==="rangeArea"||p[x].dataSeries.type==="error"||p[x].dataSeries.type==="rangeSplineArea"||p[x].dataSeries.type==="candlestick"||p[x].dataSeries.type==="ohlc"||p[x].dataSeries.type==="boxAndWhisker"){if(p[x].dataPoint.y)for(R=0;R<p[x].dataPoint.y.length;R++)D=Math.abs(o-this.parent.convertValueToPixel(p[x].dataPoint.y[R])),D<=M&&(M=D,T=x)}else p[x].dataSeries.type==="stackedColumn"?(e=p[x].dataSeries.dataPointEOs[p[x].index].cumulativeY,D=Math.abs(o-this.parent.convertValueToPixel(e)),D<=M&&(M=D,T=x)):p[x].dataSeries.type==="stackedArea"?(e=p[x].dataSeries.dataPointEOs[p[x].index].cumulativeY,D=Math.abs(o-this.parent.convertValueToPixel(e)),D<=M&&(M=D,T=x)):p[x].dataSeries.type==="stackedColumn100"||p[x].dataSeries.type==="stackedArea100"?(D=p[0].dataPoint.x.getTime?p[0].dataPoint.x.getTime():p[0].dataPoint.x,P(C)&&(C=Math.abs(o-this.parent.convertValueToPixel(100*(p[0].dataSeries.dataPointEOs[p[0].index].cumulativeY/p[0].dataSeries.plotUnit.dataPointYSums[D])))),p[x].dataSeries.type==="stackedColumn100"?(b=p[x].dataSeries.dataPointEOs[p[x].index].cumulativeY,D=p[x].dataPoint.x.getTime?p[x].dataPoint.x.getTime():p[x].dataPoint.x,e=100*(b/p[x].dataSeries.plotUnit.dataPointYSums[D]),D=Math.abs(o-this.parent.convertValueToPixel(e)),D<=C&&(C=D,T=x)):p[x].dataSeries.type==="stackedArea100"&&(b=p[x].dataSeries.dataPointEOs[p[x].index].cumulativeY,D=p[x].dataPoint.x.getTime?p[x].dataPoint.x.getTime():p[x].dataPoint.x,e=100*(b/p[x].dataSeries.plotUnit.dataPointYSums[D]),D=Math.abs(o-this.parent.convertValueToPixel(e)),D<=C&&(C=D,T=x))):p[x].dataSeries.type==="waterfall"?(D=Math.abs(o-this.parent.convertValueToPixel(p[x].dataSeries.dataPointEOs[p[x].index].cumulativeSum)),D<=M&&(C=M=D,T=x)):(D=Math.abs(o-this.parent.convertValueToPixel(p[x].dataPoint.y)),D<=M&&(M=D,T=x));P(C)||(M=Math.min(M,C))}if(C=p[T],x=0,C.dataSeries.type==="rangeColumn"||C.dataSeries.type==="rangeArea"||C.dataSeries.type==="error"||C.dataSeries.type==="rangeSplineArea"||C.dataSeries.type==="candlestick"||C.dataSeries.type==="ohlc"||C.dataSeries.type==="boxAndWhisker"){for(M=Math.abs(o-this.parent.convertValueToPixel(C.dataPoint.y[0])),p=0;p<C.dataPoint.y.length;p++)D=Math.abs(o-this.parent.convertValueToPixel(C.dataPoint.y[p])),D<M&&(M=D,x=p);b=s.lineWidth%2===1?(this.parent.convertValueToPixel(C.dataPoint.y[x])<<0)+.5:this.parent.convertValueToPixel(C.dataPoint.y[x])<<0,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataPoint.y[x]}):P(this.options.label)?ze(P(n)?C.dataPoint.y[x]:n,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=C.dataPoint.y[x]}else C.dataSeries.type==="stackedColumn"?(e=C.dataSeries.dataPointEOs[C.index].cumulativeY,b=s.lineWidth%2===1?(this.parent.convertValueToPixel(e)<<0)+.5:this.parent.convertValueToPixel(e)<<0,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:e}):P(this.options.label)?ze(P(n)?e:n,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=e):C.dataSeries.type==="stackedArea"?(e=C.dataSeries.dataPointEOs[C.index].cumulativeY,b=s.lineWidth%2===1?(this.parent.convertValueToPixel(e)<<0)+.5:this.parent.convertValueToPixel(e)<<0,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:e}):P(this.options.label)?ze(P(n)?e:n,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=e):C.dataSeries.type==="stackedColumn100"?(b=C.dataSeries.dataPointEOs[C.index].cumulativeY,D=C.dataPoint.x.getTime?C.dataPoint.x.getTime():C.dataPoint.x,e=100*(b/C.dataSeries.plotUnit.dataPointYSums[D]),b=s.lineWidth%2===1?(this.parent.convertValueToPixel(e)<<0)+.5:this.parent.convertValueToPixel(e)<<0,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:e}):P(this.options.label)?ze(P(n)?e:n,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=e):C.dataSeries.type==="stackedArea100"?(b=C.dataSeries.dataPointEOs[C.index].cumulativeY,D=C.dataPoint.x.getTime?C.dataPoint.x.getTime():C.dataPoint.x,e=100*(b/C.dataSeries.plotUnit.dataPointYSums[D]),b=s.lineWidth%2===1?(this.parent.convertValueToPixel(e)<<0)+.5:this.parent.convertValueToPixel(e)<<0,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:e}):P(this.options.label)?ze(P(n)?e:n,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=e):C.dataSeries.type==="waterfall"?(b=s.lineWidth%2===1?(this.parent.convertValueToPixel(C.dataSeries.dataPointEOs[C.index].cumulativeSum)<<0)+.5:this.parent.convertValueToPixel(C.dataSeries.dataPointEOs[C.index].cumulativeSum)<<0,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:C.dataSeries.dataPointEOs[C.index].cumulativeSum}):P(this.options.label)?ze(P(n)?C.dataSeries.dataPointEOs[C.index].cumulativeSum:n,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=C.dataSeries.dataPointEOs[C.index].cumulativeSum):(b=s.lineWidth%2===1?(P(t)?o:this.parent.convertValueToPixel(C.dataPoint.y)<<0)+.5:P(t)?o:this.parent.convertValueToPixel(C.dataPoint.y)<<0,u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:P(n)?C.dataPoint.y:n}):P(this.options.label)?ze(P(n)?C.dataPoint.y:n,this.valueFormatString,this.chart._cultureInfo):this.label,this.value=C.dataPoint.y);h=d=b,e=this.chart.plotArea.x1,a=this.chart.plotArea.x2,this.bounds={x1:e,y1:h-g/2,x2:a,y2:d+g/2},u.y=d+u.fontSize/2-u.measureText().height/2+2,u.y-u.fontSize/2<this.chart.bounds.y1?u.y=this.chart.bounds.y1+u.fontSize/2+2:u.y+u.measureText().height-u.fontSize/2>this.chart.bounds.y2&&(u.y=this.chart.bounds.y2-u.measureText().height+u.fontSize/2),this.parent._position==="left"?u.x=this.parent.lineCoordinates.x2-u.measureText().width:this.parent._position==="right"&&(u.x=this.parent.lineCoordinates.x2)}p=null,s.globalAlpha=m,(this.parent._position==="bottom"||this.parent._position==="top")&&(this.parent._position==="top"&&u.y-u.fontSize/2<this.chart.bounds.y1&&(u.y=this.chart.bounds.y1+u.fontSize/2),this.parent._position==="bottom"&&this.parent.lineCoordinates.y2-u.fontSize/2+u.measureText().height>this.chart.bounds.y2&&(u.y=this.chart.bounds.y2-u.height+u.fontSize/2+2),this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&0<g&&(s.moveTo(e,h),s.lineTo(a,d),s.stroke(),this._hidden=!1)),(this.parent._position==="left"||this.parent._position==="right")&&(this.parent._position==="left"&&u.x<this.chart.bounds.x1&&(u.x=this.chart.bounds.x1),this.parent._position==="right"&&u.x+u.measureText().width>this.chart.bounds.x2&&(u.x=this.chart.bounds.x2-u.measureText().width),this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&0<g&&(s.moveTo(e,h),s.lineTo(a,d),s.stroke(),this._hidden=!1))}else{if(this.parent._position==="bottom"||this.parent._position==="top"?(e=a=_=s.lineWidth%2===1?(t<<0)+.5:t<<0,h=this.chart.plotArea.y1,d=this.chart.plotArea.y2,this.bounds={x1:e-g/2,y1:h,x2:a+g/2,y2:d}):(this.parent._position==="left"||this.parent._position==="right")&&(h=d=b=s.lineWidth%2===1?(o<<0)+.5:o<<0,e=this.chart.plotArea.x1,a=this.chart.plotArea.x2,this.bounds={x1:e,y1:h-g/2,x2:a,y2:d+g/2}),this.chart.plotInfo.axisPlacement==="xySwapped")if(this.parent._position==="left"||this.parent._position==="right"){if(x=!1,this.parent.labels)for(M=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=M)if(this.parent.labels[p])x=!0;else{x=!1;break}if(x){if(this.parent.type==="axisX")for(M=this.parent.convertPixelToValue({y:o}),T=null,x=0;x<this.parent.dataSeries.length;x++)(T=this.parent.dataSeries[x].getDataPointAtX(M,!0))&&0<=T.index&&(u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:P(n)?this.parent.convertPixelToValue(t):n}):P(this.options.label)?T.dataPoint.label:this.label)}else u.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:P(n)?this.parent.convertPixelToValue(o):n}):P(this.options.label)?ze(P(n)?this.parent.convertPixelToValue(o):n,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:P(n)?this.parent.convertPixelToValue(o):n}):P(this.options.label)?Ca(P(n)?this.parent.convertPixelToValue(o):n,this.valueFormatString,this.chart._cultureInfo):this.label;u.y=o+u.fontSize/2-u.measureText().height/2+2,u.y-u.fontSize/2<this.chart.bounds.y1?u.y=this.chart.bounds.y1+u.fontSize/2+2:u.y+u.measureText().height-u.fontSize/2>this.chart.bounds.y2&&(u.y=this.chart.bounds.y2-u.measureText().height+u.fontSize/2),this.parent._position==="left"?u.x=this.parent.lineCoordinates.x1-u.measureText().width:this.parent._position==="right"&&(u.x=this.parent.lineCoordinates.x2)}else(this.parent._position==="bottom"||this.parent._position==="top")&&(u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:P(n)?this.parent.convertPixelToValue(t):n}):P(this.options.label)?ze(P(n)?this.parent.convertPixelToValue(t):n,this.valueFormatString,this.chart._cultureInfo):this.label,u.x=e-u.measureText().width/2,u.x+u.width>this.chart.bounds.x2&&(u.x=this.chart.bounds.x2-u.width),u.x<this.chart.bounds.x1&&(u.x=this.chart.bounds.x1),this.parent._position==="bottom"?u.y=this.parent.lineCoordinates.y2+u.fontSize/2+2:this.parent._position==="top"&&(u.y=this.parent.lineCoordinates.y1-u.height+u.fontSize/2+2));else if(this.parent._position==="bottom"||this.parent._position==="top"){if(x=!1,p="",this.parent.labels)for(M=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=M)if(this.parent.labels[p])x=!0;else{x=!1;break}if(x){if(this.parent.type==="axisX")for(M=this.parent.convertPixelToValue({x:t}),T=null,x=0;x<this.parent.dataSeries.length;x++)(T=this.parent.dataSeries[x].getDataPointAtX(M,!0))&&0<=T.index&&(u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:P(n)?this.parent.convertPixelToValue(t):n}):P(this.options.label)?P(n)?T.dataPoint.label:n:this.label)}else u.text=this.parent.valueType!=="dateTime"||this.parent.logarithmic?this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:P(n)?0<this.parent.dataSeries.length?this.parent.convertPixelToValue(t):"":n}):P(this.options.label)?ze(P(n)?this.parent.convertPixelToValue(t):n,this.valueFormatString,this.chart._cultureInfo):this.label:this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:P(n)?this.parent.convertPixelToValue(t):n}):P(this.options.label)?Ca(P(n)?this.parent.convertPixelToValue(t):n,this.valueFormatString,this.chart._cultureInfo):this.label;u.x=e-u.measureText().width/2,u.x+u.width>this.chart.bounds.x2&&(u.x=this.chart.bounds.x2-u.width),u.x<this.chart.bounds.x1&&(u.x=this.chart.bounds.x1),this.parent._position==="bottom"?u.y=this.parent.lineCoordinates.y2+u.fontSize/2+2:this.parent._position==="top"&&(u.y=this.parent.lineCoordinates.y1-u.height+u.fontSize/2+2)}else(this.parent._position==="left"||this.parent._position==="right")&&(u.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:P(n)?this.parent.convertPixelToValue(o):n}):P(this.options.label)?ze(P(n)?this.parent.convertPixelToValue(o):n,this.valueFormatString,this.chart._cultureInfo):this.label,u.y=o+u.fontSize/2-u.measureText().height/2+2,u.y-u.fontSize/2<this.chart.bounds.y1?u.y=this.chart.bounds.y1+u.fontSize/2+2:u.y+u.measureText().height-u.fontSize/2>this.chart.bounds.y2&&(u.y=this.chart.bounds.y2-u.measureText().height+u.fontSize/2),this.parent._position==="left"?u.x=this.parent.lineCoordinates.x2-u.measureText().width:this.parent._position==="right"&&(u.x=this.parent.lineCoordinates.x2));this.parent._position==="left"&&u.x<this.chart.bounds.x1?u.x=this.chart.bounds.x1:this.parent._position==="right"&&u.x+u.measureText().width>this.chart.bounds.x2?u.x=this.chart.bounds.x2-u.measureText().width:this.parent._position==="top"&&u.y-u.fontSize/2<this.chart.bounds.y1?u.y=this.chart.bounds.y1+u.fontSize/2:this.parent._position==="bottom"&&this.parent.lineCoordinates.y2-u.fontSize/2+u.measureText().height>this.chart.bounds.y2&&(u.y=this.chart.bounds.y2-u.height+u.fontSize/2+2),s.globalAlpha=m,0<g&&(s.moveTo(e,h),s.lineTo(a,d),s.stroke(),this._hidden=!1),this.value=this.parent._position==="bottom"||this.parent._position==="top"?this.parent.convertPixelToValue(t):this.parent.convertPixelToValue(o)}(this.parent._position==="bottom"||this.parent._position==="top")&&(this.parent.sessionVariables.crosshairValue=this._updatedValue=this.parent.convertPixelToValue(_)),(this.parent._position==="left"||this.parent._position==="right")&&(this.parent.sessionVariables.crosshairValue=this._updatedValue=this.parent.convertPixelToValue(b)),this._textBlock=u,this._label=n,P(n)||this.renderLabel(),s.restore(),s.globalAlpha=y},Mi.prototype.renderLabel=function(){this.value>=Math.min(this.parent.viewportMinimum,this.parent.viewportMaximum)&&this.value<=Math.max(this.parent.viewportMinimum,this.parent.viewportMaximum)&&(P(this._textBlock)||P(this._textBlock.text)||!(typeof this._textBlock.text.valueOf()=="number"||0<this._textBlock.text.length)||this._hidden||this._textBlock.render(!0),P(this._label)&&this.dispatchEvent("updated",{chart:this.chart,crosshair:this.options,axis:this.parent,value:this.value},this.parent))},c(Oe,Ie),Oe.prototype._updateOptions=function(){this.updateOption("enabled"),this.updateOption("shared"),this.updateOption("animationEnabled"),this.updateOption("content"),this.updateOption("contentFormatter"),this.updateOption("reversed"),this.updateOption("backgroundColor"),this.updateOption("borderColor"),this.updateOption("borderThickness"),this.updateOption("cornerRadius"),this.updateOption("fontSize"),this.updateOption("fontColor"),this.updateOption("fontFamily"),this.updateOption("fontWeight"),this.updateOption("fontStyle")},Oe.prototype._initialize=function(){if(this.updateOption("updated"),this.updateOption("hidden"),this.enabled){this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none";var t=document.createElement("div");t.style.width="auto",t.style.height="auto",t.style.minWidth="50px",t.style.lineHeight="normal",t.style.margin="0px 0px 0px 0px",t.style.padding="5px",t.style.fontFamily="Calibri, Arial, Georgia, serif",t.style.fontWeight="normal",t.style.fontStyle=N?"italic":"normal",t.style.fontSize="14px",t.style.color="#000000",t.style.textShadow="1px 1px 1px rgba(0, 0, 0, 0.1)",t.style.textAlign="left",t.style.border="2px solid gray",t.style.background=N?"rgba(255,255,255,.9)":"rgb(255,255,255)",t.style.textIndent="0px",t.style.whiteSpace="nowrap",t.style.borderRadius="5px",t.style.MozUserSelect="none",t.style.WebkitUserSelect="none",t.style.msUserSelect="none",t.style.userSelect="none",N||(t.style.filter="alpha(opacity = 90)",t.style.filter="progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666')"),t.innerText="Sample Tooltip",this.container.appendChild(t),this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container)}},Oe.prototype.mouseMoveHandler=function(t,o){this._lastUpdated&&4>new Date().getTime()-this._lastUpdated||(this._lastUpdated=new Date().getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(t,o),this.enabled&&this._updatedEventParameters&&!isNaN(this._prevX)&&!isNaN(this._prevY)&&this.container&&this.container.style&&this.dispatchEvent(this.container.style.display==="none"?"hidden":"updated",this._updatedEventParameters,this))},Oe.prototype._updateToolTip=function(t,o,n){if(n=typeof n>"u"?!0:n,this._updateOptions(),this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(typeof t>"u"||typeof o>"u"){if(isNaN(this._prevX)||isNaN(this._prevY))return;t=this._prevX,o=this._prevY}else this._prevX=t,this._prevY=o;var e=null,a=null,h=[],d=0;if(this.shared&&this.enabled&&this.chart.plotInfo.axisPlacement!=="none"){var _=[];if(this.chart.axisX)for(var b=0;b<this.chart.axisX.length;b++){for(var d=this.chart.plotInfo.axisPlacement==="xySwapped"?this.chart.axisX[b].convertPixelToValue({y:o}):this.chart.axisX[b].convertPixelToValue({x:t}),u=null,e=0;e<this.chart.axisX[b].dataSeries.length;e++)(u=this.chart.axisX[b].dataSeries[e].getDataPointAtX(d,n))&&0<=u.index&&(u.dataSeries=this.chart.axisX[b].dataSeries[e],u.dataPoint.y!==null&&u.dataSeries.visible&&_.push(u));u=null}if(this.chart.axisX2)for(b=0;b<this.chart.axisX2.length;b++){for(d=this.chart.plotInfo.axisPlacement==="xySwapped"?this.chart.axisX2[b].convertPixelToValue({y:o}):this.chart.axisX2[b].convertPixelToValue({x:t}),u=null,e=0;e<this.chart.axisX2[b].dataSeries.length;e++)(u=this.chart.axisX2[b].dataSeries[e].getDataPointAtX(d,n))&&0<=u.index&&(u.dataSeries=this.chart.axisX2[b].dataSeries[e],u.dataPoint.y!==null&&u.dataSeries.visible&&_.push(u));u=null}if(_.length===0)return;for(_.sort(function(p,m){return p.dataSeries.axisX.logarithmic||m.dataSeries.axisX.logarithmic?p.distance-m.distance:p.distance/p.dataSeries.axisX.range-m.distance/m.dataSeries.axisX.range}),n=_[0],e=0;e<_.length;e++)_[e].dataPoint.x.valueOf()===n.dataPoint.x.valueOf()&&h.push(_[e]);_=null}else{if(u=this.chart.getDataPointAtXY(t,o,n))this.currentDataPointIndex=u.dataPointIndex,this.currentSeriesIndex=u.dataSeries.index;else if(N)if(u=ci(t,o,this.chart._eventManager.ghostCtx),0<u&&typeof this.chart._eventManager.objectMap[u]<"u"){if(u=this.chart._eventManager.objectMap[u],u.objectType==="legendItem")return;this.currentSeriesIndex=u.dataSeriesIndex,this.currentDataPointIndex=0<=u.dataPointIndex?u.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(a=this.chart.data[this.currentSeriesIndex],u={},0<=this.currentDataPointIndex)e=a.dataPoints[this.currentDataPointIndex],u.dataSeries=a,u.dataPoint=e,u.index=this.currentDataPointIndex,u.distance=Math.abs(e.x-d),a.type==="waterfall"&&(u.cumulativeSumYStartValue=a.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,u.cumulativeSum=a.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else if(this.enabled&&a&&(a.type==="line"||a.type==="stepLine"||a.type==="spline"||a.type==="area"||a.type==="stepArea"||a.type==="splineArea"||a.type==="stackedArea"||a.type==="stackedArea100"||a.type==="rangeArea"||a.type==="rangeSplineArea"||a.type==="candlestick"||a.type==="ohlc"||a.type==="boxAndWhisker"))d=a.axisX.convertPixelToValue({x:t}),u=a.getDataPointAtX(d,n),P(u)||(u.dataSeries=a,this.currentDataPointIndex=u.index,e=u.dataPoint);else{this.chart.clearedOverlayedCanvas==="toolTip"&&(this.chart.resetOverlayedCanvas(),this.chart.clearedOverlayedCanvas=null,this.container&&(this.container.style.display="none"));return}if(!P(u)&&!P(u.dataPoint)&&!P(u.dataPoint.y))if(u.dataSeries.axisY)if(0<u.dataPoint.y.length){for(e=n=0;e<u.dataPoint.y.length;e++)u.dataPoint.y[e]<u.dataSeries.axisY.viewportMinimum?n--:u.dataPoint.y[e]>u.dataSeries.axisY.viewportMaximum&&n++;n<u.dataPoint.y.length&&n>-u.dataPoint.y.length&&h.push(u)}else a.type==="column"||a.type==="bar"?0>u.dataPoint.y?0>u.dataSeries.axisY.viewportMinimum&&u.dataSeries.axisY.viewportMaximum>=u.dataPoint.y&&h.push(u):u.dataSeries.axisY.viewportMinimum<=u.dataPoint.y&&0<=u.dataSeries.axisY.viewportMaximum&&h.push(u):a.type==="line"||a.type==="spline"||a.type==="stepLine"||a.type==="area"||a.type==="splineArea"||a.type==="stepArea"?(n=P(u.dataPoint.markerSize)?u.dataSeries.markerSize:u.dataPoint.markerSize,u.dataSeries.axisX.convertValueToPixel(u.dataPoint.x)+n/2>=this.chart.plotArea.x1&&u.dataSeries.axisX.convertValueToPixel(u.dataPoint.x)-n/2<=this.chart.plotArea.x2&&u.dataSeries.axisY.convertValueToPixel(u.dataPoint.y)+n/2>=this.chart.plotArea.y1&&u.dataSeries.axisY.convertValueToPixel(u.dataPoint.y)-n/2<=this.chart.plotArea.y2&&h.push(u)):a.type==="stackedArea"||u.dataSeries.type==="stackedArea100"?(n=P(u.dataPoint.markerSize)?u.dataSeries.markerSize:u.dataPoint.markerSize,u.dataSeries.axisX.convertValueToPixel(u.dataPoint.x)+n/2>=this.chart.plotArea.x1&&u.dataSeries.axisX.convertValueToPixel(u.dataPoint.x)-n/2<=this.chart.plotArea.x2&&h.push(u)):a.type==="bubble"?(n=this.chart._eventManager.objectMap[a.dataPointIds[u.index]].size/2,u.dataPoint.y>=u.dataSeries.axisY.viewportMinimum-n&&u.dataPoint.y<=u.dataSeries.axisY.viewportMaximum+n&&h.push(u)):a.type==="waterfall"?(n=0,u.cumulativeSumYStartValue<u.dataSeries.axisY.viewportMinimum?n--:u.cumulativeSumYStartValue>u.dataSeries.axisY.viewportMaximum&&n++,u.cumulativeSum<u.dataSeries.axisY.viewportMinimum?n--:u.cumulativeSum>u.dataSeries.axisY.viewportMaximum&&n++,2>n&&-2<n&&h.push(u)):(0<=u.dataSeries.type.indexOf("100")||a.type==="stackedColumn"||a.type==="stackedBar"||u.dataPoint.y>=u.dataSeries.axisY.viewportMinimum&&u.dataPoint.y<=u.dataSeries.axisY.viewportMaximum)&&h.push(u);else h.push(u)}}if(0<h.length){if(this.highlightObjects(h),this.enabled){if(n="",n=this.getToolTipInnerHTML({entries:h}),n!==null){if(this.contentDiv.innerHTML=n,this.isToolTipDefinedInData&&P(this.options.content)&&P(this.options.contentFormatter))for(d=this.contentDiv.getElementsByTagName("span"),e=0;e<d.length;e++)d[e]&&(d[e].style.color=d[e].getAttribute("data-color"));d=!1,this.container.style.display==="none"&&(d=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:N?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=h[0].dataSeries.type==="waterfall"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:h[0].dataPoint.color?h[0].dataPoint.color:0<h[0].dataPoint.y?h[0].dataSeries.risingColor:h[0].dataSeries.fallingColor:h[0].dataSeries.type==="error"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:h[0].dataSeries.color?h[0].dataSeries.color:h[0].dataSeries._colorSet[a.index%h[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:h[0].dataPoint.color?h[0].dataPoint.color:h[0].dataSeries.color?h[0].dataSeries.color:h[0].dataSeries._colorSet[h[0].index%h[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||this.borderThickness===0?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||this.cornerRadius===0?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||this.fontSize===0?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:N?"italic":"normal"}catch{}h[0].dataSeries.type==="pie"||h[0].dataSeries.type==="doughnut"||h[0].dataSeries.type==="funnel"||h[0].dataSeries.type==="pyramid"||h[0].dataSeries.type==="bar"||h[0].dataSeries.type==="rangeBar"||h[0].dataSeries.type==="stackedBar"||h[0].dataSeries.type==="stackedBar100"?t=t-10-this.container.clientWidth:(t=h[0].dataSeries.axisX.convertValueToPixel(h[0].dataPoint.x)-this.container.clientWidth<<0,t-=10),0>t&&(t+=this.container.clientWidth+20),t+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(t=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),o=h.length!==1||this.shared||h[0].dataSeries.type!=="line"&&h[0].dataSeries.type!=="stepLine"&&h[0].dataSeries.type!=="spline"&&h[0].dataSeries.type!=="area"&&h[0].dataSeries.type!=="stepArea"&&h[0].dataSeries.type!=="splineArea"?h[0].dataSeries.type==="bar"||h[0].dataSeries.type==="rangeBar"||h[0].dataSeries.type==="stackedBar"||h[0].dataSeries.type==="stackedBar100"?h[0].dataSeries.axisX.convertValueToPixel(h[0].dataPoint.x):o:h[0].dataSeries.axisY.convertValueToPixel(h[0].dataPoint.y),o=-o+10,0<o+this.container.clientHeight+5&&(o-=o+this.container.clientHeight+5-0),this.fixMozTransitionDelay(t,o),!this.animationEnabled||d?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.positionLeft=t,this.positionBottom=o,this.container.style.left=t+"px",this.container.style.bottom=o+"px"}else this.hide(!1),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);for(o=[],e=0;e<h.length;e++)o.push({xValue:h[e].dataPoint.x,dataPoint:h[e].dataPoint,dataSeries:h[e].dataSeries,dataPointIndex:h[e].index,dataSeriesIndex:h[e].dataSeries._index});this._updatedEventParameters={chart:this.chart,toolTip:this.options,content:n,entries:o},this._entries=h}}else this.hide(),this.enabled&&this.dispatchEvent("hidden",{chart:this.chart,toolTip:this},this);this._dataSeriesIndex=this._xValue=null}},Oe.prototype.highlightObjects=function(t){var o=this.chart.overlaidCanvasCtx;P(this.chart.clearedOverlayedCanvas)||this.chart.clearedOverlayedCanvas==="toolTip"?(this.chart.resetOverlayedCanvas(),o.clearRect(0,0,this.chart.width,this.chart.height),this.chart.clearedOverlayedCanvas="toolTip"):this.chart.clearedOverlayedCanvas=null,o.save();var n=this.chart.plotArea,e=0;for(o.beginPath(),o.rect(n.x1,n.y1,n.x2-n.x1,n.y2-n.y1),o.clip(),n=0;n<t.length;n++){var a=t[n];if((a=this.chart._eventManager.objectMap[a.dataSeries.dataPointIds[a.index]])&&a.objectType&&a.objectType==="dataPoint"){var e=this.chart.data[a.dataSeriesIndex],h=e.dataPoints[a.dataPointIndex],d=a.dataPointIndex;h.highlightEnabled===!1||e.highlightEnabled!==!0&&h.highlightEnabled!==!0||(e.type==="line"||e.type==="stepLine"||e.type==="spline"||e.type==="scatter"||e.type==="area"||e.type==="stepArea"||e.type==="splineArea"||e.type==="stackedArea"||e.type==="stackedArea100"||e.type==="rangeArea"||e.type==="rangeSplineArea"?(h=e.getMarkerProperties(d,a.x1,a.y1,this.chart.overlaidCanvasCtx),h.size=Math.max(1.5*h.size<<0,10),h.borderColor=h.borderColor||"#FFFFFF",h.borderThickness=h.borderThickness||Math.ceil(.1*h.size),Se.drawMarkers([h]),typeof a.y2<"u"&&(h=e.getMarkerProperties(d,a.x1,a.y2,this.chart.overlaidCanvasCtx),h.size=Math.max(1.5*h.size<<0,10),h.borderColor=h.borderColor||"#FFFFFF",h.borderThickness=h.borderThickness||Math.ceil(.1*h.size),Se.drawMarkers([h]))):e.type==="bubble"?(h=e.getMarkerProperties(d,a.x1,a.y1,this.chart.overlaidCanvasCtx),h.size=a.size,h.color="white",h.borderColor="white",o.globalAlpha=.3,Se.drawMarkers([h]),o.globalAlpha=1):e.type==="column"||e.type==="stackedColumn"||e.type==="stackedColumn100"||e.type==="bar"||e.type==="rangeBar"||e.type==="stackedBar"||e.type==="stackedBar100"||e.type==="rangeColumn"||e.type==="waterfall"?We(o,a.x1,a.y1,a.x2,a.y2,"white",0,null,!1,!1,!1,!1,.3):e.type==="pie"||e.type==="doughnut"?Wi(o,a.center,a.radius,"white",e.type,a.startAngle,a.endAngle,.3,a.percentInnerRadius):e.type==="funnel"||e.type==="pyramid"?wi(o,a.funnelSection,.3,"white"):e.type==="candlestick"?(o.globalAlpha=1,o.strokeStyle=a.color,o.lineWidth=2*a.borderThickness,e=o.lineWidth%2===0?0:.5,o.beginPath(),o.moveTo(a.x3-e,Math.min(a.y2,a.y3)),o.lineTo(a.x3-e,Math.min(a.y1,a.y4)),o.stroke(),o.beginPath(),o.moveTo(a.x3-e,Math.max(a.y1,a.y4)),o.lineTo(a.x3-e,Math.max(a.y2,a.y3)),o.stroke(),We(o,a.x1,Math.min(a.y1,a.y4),a.x2,Math.max(a.y1,a.y4),"transparent",2*a.borderThickness,a.color,!1,!1,!1,!1),o.globalAlpha=1):e.type==="ohlc"?(o.globalAlpha=1,o.strokeStyle=a.color,o.lineWidth=2*a.borderThickness,e=o.lineWidth%2===0?0:.5,o.beginPath(),o.moveTo(a.x3-e,a.y2),o.lineTo(a.x3-e,a.y3),o.stroke(),o.beginPath(),o.moveTo(a.x3,a.y1),o.lineTo(a.x1,a.y1),o.stroke(),o.beginPath(),o.moveTo(a.x3,a.y4),o.lineTo(a.x2,a.y4),o.stroke(),o.globalAlpha=1):e.type==="boxAndWhisker"?(o.save(),o.globalAlpha=1,o.strokeStyle=a.stemColor,o.lineWidth=2*a.stemThickness,0<a.stemThickness&&(o.beginPath(),o.moveTo(a.x3,a.y2+a.borderThickness/2),o.lineTo(a.x3,a.y1+a.whiskerThickness/2),o.stroke(),o.beginPath(),o.moveTo(a.x3,a.y4-a.whiskerThickness/2),o.lineTo(a.x3,a.y3-a.borderThickness/2),o.stroke()),o.beginPath(),We(o,a.x1,Math.max(a.y2,a.y3),a.x2,Math.min(a.y2,a.y3),"transparent",2*a.borderThickness,a.color,!1,!1,!1,!1),o.globalAlpha=1,o.strokeStyle=a.whiskerColor,o.lineWidth=2*a.whiskerThickness,0<a.whiskerThickness&&(o.beginPath(),o.moveTo(Math.floor(a.x3-a.whiskerLength/2),a.y4),o.lineTo(Math.ceil(a.x3+a.whiskerLength/2),a.y4),o.stroke(),o.beginPath(),o.moveTo(Math.floor(a.x3-a.whiskerLength/2),a.y1),o.lineTo(Math.ceil(a.x3+a.whiskerLength/2),a.y1),o.stroke()),o.globalAlpha=1,o.strokeStyle=a.lineColor,o.lineWidth=2*a.lineThickness,0<a.lineThickness&&(o.beginPath(),o.moveTo(a.x1,a.y5),o.lineTo(a.x2,a.y5),o.stroke()),o.restore(),o.globalAlpha=1):e.type==="error"&&K(o,a.x1,a.y1,a.x2,a.y2,"white",a.whiskerProperties,a.stemProperties,a.isXYSwapped,.3))}}o.restore(),o.globalAlpha=1,o.beginPath()},Oe.prototype.getToolTipInnerHTML=function(t){t=t.entries;var o=null,n=null,e=null,a=0,h="";this.isToolTipDefinedInData=!0;for(var d=0;d<t.length;d++)if(t[d].dataSeries.toolTipContent||t[d].dataPoint.toolTipContent){this.isToolTipDefinedInData=!1;break}if(this.isToolTipDefinedInData&&(this.content&&typeof this.content=="function"||this.contentFormatter))t={chart:this.chart,toolTip:this.options,entries:t},o=this.contentFormatter?this.contentFormatter(t):this.content(t);else if(this.shared&&this.chart.plotInfo.axisPlacement!=="none"){for(var _=null,b="",d=0;d<t.length;d++){if(n=t[d].dataSeries,e=t[d].dataPoint,a=t[d].index,h="",d===0&&this.isToolTipDefinedInData&&!this.content){if(this.chart.axisX&&0<this.chart.axisX.length?b+=typeof this.chart.axisX[0].labels[e.x]<"u"?this.chart.axisX[0].labels[e.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(b+=typeof this.chart.axisX2[0].labels[e.x]<"u"?this.chart.axisX2[0].labels[e.x]:"{x}"),b+="</br>",!n.visible)continue;b=this.chart.replaceKeywordsWithValue(b,e,n,a)}e.toolTipContent===null||typeof e.toolTipContent>"u"&&n.options.toolTipContent===null||(n.type==="line"||n.type==="stepLine"||n.type==="spline"||n.type==="area"||n.type==="stepArea"||n.type==="splineArea"||n.type==="column"||n.type==="bar"||n.type==="scatter"||n.type==="stackedColumn"||n.type==="stackedColumn100"||n.type==="stackedBar"||n.type==="stackedBar100"||n.type==="stackedArea"||n.type==="stackedArea100"||n.type==="waterfall"?(this.chart.axisX&&1<this.chart.axisX.length&&(h+=_!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),h+=e.toolTipContent?e.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y}`,_=n.axisXIndex):n.type==="bubble"?(this.chart.axisX&&1<this.chart.axisX.length&&(h+=_!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),h+=e.toolTipContent?e.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}`):n.type==="rangeColumn"||n.type==="rangeBar"||n.type==="rangeArea"||n.type==="rangeSplineArea"||n.type==="error"?(this.chart.axisX&&1<this.chart.axisX.length&&(h+=_!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),h+=e.toolTipContent?e.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}`):n.type==="candlestick"||n.type==="ohlc"?(this.chart.axisX&&1<this.chart.axisX.length&&(h+=_!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),h+=e.toolTipContent?e.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}`):n.type==="boxAndWhisker"&&(this.chart.axisX&&1<this.chart.axisX.length&&(h+=_!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),h+=e.toolTipContent?e.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>{name}:</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}`),o===null&&(o=""),n.visible&&(this.reversed===!0?(o=this.chart.replaceKeywordsWithValue(h,e,n,a)+o,d<t.length-1&&(o="</br>"+o)):(o+=this.chart.replaceKeywordsWithValue(h,e,n,a),d<t.length-1&&(o+="</br>"))))}o!==null&&(o=b+o)}else{if(n=t[0].dataSeries,e=t[0].dataPoint,a=t[0].index,e.toolTipContent===null||typeof e.toolTipContent>"u"&&n.options.toolTipContent===null)return null;n.type==="line"||n.type==="stepLine"||n.type==="spline"||n.type==="area"||n.type==="stepArea"||n.type==="splineArea"||n.type==="column"||n.type==="bar"||n.type==="scatter"||n.type==="stackedColumn"||n.type==="stackedColumn100"||n.type==="stackedBar"||n.type==="stackedBar100"||n.type==="stackedArea"||n.type==="stackedArea100"||n.type==="waterfall"?h=e.toolTipContent?e.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":n.type==="bubble"?h=e.toolTipContent?e.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":n.type==="pie"||n.type==="doughnut"||n.type==="funnel"||n.type==="pyramid"?h=e.toolTipContent?e.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.name?"{name}:</span>&nbsp;&nbsp;":e.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":n.type==="rangeColumn"||n.type==="rangeBar"||n.type==="rangeArea"||n.type==="rangeSplineArea"||n.type==="error"?h=e.toolTipContent?e.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":n.type==="candlestick"||n.type==="ohlc"?h=e.toolTipContent?e.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":n.type==="boxAndWhisker"&&(h=e.toolTipContent?e.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&typeof this.content!="function"?this.content:`<span data-color='"`+(this.options.fontColor?"":"'{color}'")+`"'>`+(e.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;{y[0]}<br/>Q1:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),o===null&&(o=""),o+=this.chart.replaceKeywordsWithValue(h,e,n,a)}return o},Oe.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var t=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=t,this.container.style.MsTransition=t,this.container.style.transition=t,this.container.style.MozTransition=this.mozContainerTransition}},Oe.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},Oe.prototype.hide=function(t){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._entries=this._dataSeriesIndex=this._xValue=null,this._prevY=this._prevX=NaN,this._updatedEventParameters=null,(typeof t>"u"||t)&&this.chart.resetOverlayedCanvas())},Oe.prototype.show=function(t,o,n){this._updateToolTip(t,o,typeof n>"u"?!1:n)},Oe.prototype.showAtIndex=function(t,o){},Oe.prototype.showAtX=function(t,o){if(!this.enabled)return!1;this.chart.clearedOverlayedCanvas=null,this._updateOptions();var n,e,a,h=[];if(a=!1,o=!P(o)&&0<=o&&o<this.chart.data.length?o:0,this.shared)for(var d=0;d<this.chart.data.length;d++)n=this.chart.data[d],(e=n.getDataPointAtX(t,!1))&&e.dataPoint&&!P(e.dataPoint.y)&&n.visible&&(e.dataSeries=n,this.chart.data[o].axisX.convertValueToPixel(t)===n.axisX.convertValueToPixel(e.dataPoint.x)&&h.push(e));else n=this.chart.data[o],(e=n.getDataPointAtX(t,!1))&&e.dataPoint&&!P(e.dataPoint.y)&&n.visible&&(e.dataSeries=n,h.push(e));if(0<h.length){for(d=0;d<h.length;d++)if(e=h[d],(this.shared||0<=e.dataSeries.type.indexOf("100"))&&e.dataSeries.axisX&&e.dataPoint.x>=e.dataSeries.axisX.viewportMinimum&&e.dataPoint.x<=e.dataSeries.axisX.viewportMaximum){a=!1;break}else if(e.dataSeries.axisX&&e.dataSeries.axisY&&(e.dataPoint.x<e.dataSeries.axisX.viewportMinimum||e.dataPoint.x>e.dataSeries.axisX.viewportMaximum||e.dataPoint.y<e.dataSeries.axisY.viewportMinimum||e.dataPoint.y>e.dataSeries.axisY.viewportMaximum))a=!0;else{a=!1;break}if(a)return this.hide(),!1;if(this.highlightObjects(h),this._entries=h,d="",d=this.getToolTipInnerHTML({entries:h}),d!==null){if(this.contentDiv.innerHTML=d,this.isToolTipDefinedInData&&P(this.options.content)&&P(this.options.contentFormatter))for(e=this.contentDiv.getElementsByTagName("span"),d=0;d<e.length;d++)e[d]&&(e[d].style.color=e[d].getAttribute("data-color"));d=!1,this.container.style.display==="none"&&(d=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:N?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=h[0].dataSeries.type==="waterfall"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:h[0].dataPoint.color?h[0].dataPoint.color:0<h[0].dataPoint.y?h[0].dataSeries.risingColor:h[0].dataSeries.fallingColor:h[0].dataSeries.type==="error"?this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:h[0].dataSeries.color?h[0].dataSeries.color:h[0].dataSeries._colorSet[n.index%h[0].dataSeries._colorSet.length]:this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor?this.options.borderColor:h[0].dataPoint.color?h[0].dataPoint.color:h[0].dataSeries.color?h[0].dataSeries.color:h[0].dataSeries._colorSet[h[0].index%h[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||this.borderThickness===0?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||this.cornerRadius===0?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||this.fontSize===0?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:N?"italic":"normal"}catch{}h[0].dataSeries.type==="pie"||h[0].dataSeries.type==="doughnut"?n=h[0].dataSeries.dataPointEOs[h[0].index].center.x+h[0].dataSeries.radius*Math.cos(h[0].dataSeries.dataPointEOs[h[0].index].midAngle)+-(h[0].dataSeries.dataPointEOs[h[0].index].hemisphere==="left"?0:this.container.clientWidth):h[0].dataSeries.type==="funnel"||h[0].dataSeries.type==="pyramid"?(e=h[0].dataSeries.dataPointEOs[h[0].index].sectionsofFunnel,n=(e.x1+e.x2-this.container.clientWidth)/2):(n=h[0].dataSeries.type==="bar"||h[0].dataSeries.type==="rangeBar"||h[0].dataSeries.type==="stackedBar"||h[0].dataSeries.type==="stackedBar100"?h[0].dataSeries.axisY.convertValueToPixel(h[0].dataPoint.y.length?h[0].dataPoint.y[h[0].dataPoint.y.length-1]:h[0].dataPoint.y)-this.container.clientWidth<<0:h[0].dataSeries.axisX.convertValueToPixel(h[0].dataPoint.x)-this.container.clientWidth<<0,n-=10),0>n&&(n+=this.container.clientWidth+20),n+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(n=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),h.length!==1||this.shared||h[0].dataSeries.type!=="line"&&h[0].dataSeries.type!=="stepLine"&&h[0].dataSeries.type!=="spline"&&h[0].dataSeries.type!=="area"&&h[0].dataSeries.type!=="stepArea"&&h[0].dataSeries.type!=="splineArea"?h[0].dataSeries.type==="pie"||h[0].dataSeries.type==="doughnut"?(e=h[0].dataSeries.dataPointEOs[h[0].index].center.y+h[0].dataSeries.radius*Math.sin(h[0].dataSeries.dataPointEOs[h[0].index].midAngle),e<h[0].dataSeries.dataPointEOs[h[0].index].center.y&&(e+=this.container.clientHeight)):h[0].dataSeries.type==="funnel"||h[0].dataSeries.type==="pyramid"?(e=h[0].dataSeries.dataPointEOs[h[0].dataSeries.reversed?h[0].dataSeries.dataPointEOs.length-1-h[0].index:h[0].index].sectionsofFunnel,e=typeof e.x5<"u"?(e.y2+e.y4)/2:(e.y2+e.y3)/2+this.container.clientHeight/2):e=h[0].dataSeries.type==="bar"||h[0].dataSeries.type==="rangeBar"||h[0].dataSeries.type==="stackedBar"||h[0].dataSeries.type==="stackedBar100"?h[0].dataSeries.axisX.convertValueToPixel(h[0].dataPoint.x):h[0].dataSeries.axisY.convertValueToPixel(h[0].dataPoint.y.length?h[0].dataPoint.y[h[0].dataPoint.y.length-1]:h[0].dataPoint.y):e=h[0].dataSeries.axisY.convertValueToPixel(h[0].dataPoint.y),e=-e+10,0<e+this.container.clientHeight+5&&(e-=e+this.container.clientHeight+5-0),this.fixMozTransitionDelay(n,e),!this.animationEnabled||d?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=n+"px",this.container.style.bottom=e+"px"}else return this.hide(!1),!1}else return this.hide(),!1;return this._xValue=t,this._dataSeriesIndex=o,this._prevY=this._prevX=NaN,!0},Oe.prototype.fixMozTransitionDelay=function(t,o){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var n=parseFloat(this.container.style.left),n=isNaN(n)?0:n,e=parseFloat(this.container.style.bottom),e=isNaN(e)?0:e;10<Math.sqrt(Math.pow(n-t,2)+Math.pow(e-o,2))?this.mozContainerTransition=this.getContainerTransition(.1):this.mozContainerTransition=this.getContainerTransition(0)}},Oe.prototype.getContainerTransition=function(t){return"left "+t+"s ease-out 0s, bottom "+t+"s ease-out 0s"},ai.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],N&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},ai.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},ai.prototype.mouseEventHandler=function(t){if(t.type==="mousemove"||t.type==="click"){var o=[],n=ls(t),e=null;if((e=this.chart.getObjectAtXY(n.x,n.y,!1))&&typeof this.objectMap[e]<"u")if(e=this.objectMap[e],e.objectType==="dataPoint"){var a=this.chart.data[e.dataSeriesIndex],h=a.dataPoints[e.dataPointIndex],d=e.dataPointIndex;e.eventParameter={x:n.x,y:n.y,dataPoint:h,dataSeries:a.options,dataPointIndex:d,dataSeriesIndex:a.index,chart:this.chart},e.eventContext={context:h,userContext:h,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},o.push(e),e=this.objectMap[a.id],e.eventParameter={x:n.x,y:n.y,dataPoint:h,dataSeries:a.options,dataPointIndex:d,dataSeriesIndex:a.index,chart:this.chart},e.eventContext={context:a,userContext:a.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},o.push(this.objectMap[a.id])}else e.objectType==="legendItem"&&(a=this.chart.data[e.dataSeriesIndex],h=e.dataPointIndex!==null?a.dataPoints[e.dataPointIndex]:null,e.eventParameter={x:n.x,y:n.y,dataSeries:a.options,dataPoint:h,dataPointIndex:e.dataPointIndex,dataSeriesIndex:e.dataSeriesIndex,chart:this.chart},e.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},o.push(e));for(a=[],n=0;n<this.mouseoveredObjectMaps.length;n++){for(h=!0,e=0;e<o.length;e++)if(o[e].id===this.mouseoveredObjectMaps[n].id){h=!1;break}h?this.fireEvent(this.mouseoveredObjectMaps[n],"mouseout",t):a.push(this.mouseoveredObjectMaps[n])}for(this.mouseoveredObjectMaps=a,n=0;n<o.length;n++){for(a=!1,e=0;e<this.mouseoveredObjectMaps.length;e++)if(o[n].id===this.mouseoveredObjectMaps[e].id){a=!0;break}a||(this.fireEvent(o[n],"mouseover",t),this.mouseoveredObjectMaps.push(o[n])),t.type==="click"?this.fireEvent(o[n],"click",t):t.type==="mousemove"&&this.fireEvent(o[n],"mousemove",t)}}},ai.prototype.fireEvent=function(t,o,n){if(t&&o){var e=t.eventParameter,a=t.eventContext,h=t.eventContext.userContext;h&&a&&h[a[o]]&&h[a[o]].call(h,e),o!=="mouseout"?h.cursor&&h.cursor!==n.target.style.cursor&&(n.target.style.cursor=h.cursor):(n.target.style.cursor=this.chart.panEnabled?a.mouseout!=="itemmouseout"||h.dockInsidePlotArea?"move":this.chart._defaultCursor:this.chart._defaultCursor,delete t.eventParameter,delete t.eventContext),o==="click"&&t.objectType==="dataPoint"&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[t.dataSeriesIndex],e),o==="click"&&t.objectType==="dataPoint"&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[t.dataSeriesIndex],e)}},pe.prototype.animate=function(t,o,n,e,a){var h=this;for(this.chart.isAnimating=!0,a=a||Tt.easing.linear,n&&this.animations.push({startTime:new Date().getTime()+(t||0),duration:o,animationCallback:n,onComplete:e}),t=[];0<this.animations.length;)o=this.animations.shift(),n=new Date().getTime(),e=0,o.startTime<=n&&(e=a(Math.min(n-o.startTime,o.duration),0,1,o.duration),e=Math.min(e,1),isNaN(e)||!isFinite(e))&&(e=1),1>e&&t.push(o),o.animationCallback(e),1<=e&&o.onComplete&&o.onComplete();this.animations=t,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){h.animate.call(h)}):this.chart.isAnimating=!1},pe.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var Tt={yScaleAnimation:function(t,o){if(t!==0){var n=o.dest,e=o.source.canvas,a=o.animationBase;n.drawImage(e,0,0,e.width,e.height,0,a-a*t,n.canvas.width/ui,t*n.canvas.height/ui)}},xScaleAnimation:function(t,o){if(t!==0){var n=o.dest,e=o.source.canvas,a=o.animationBase;n.drawImage(e,0,0,e.width,e.height,a-a*t,0,t*n.canvas.width/ui,n.canvas.height/ui)}},xClipAnimation:function(t,o){if(t!==0){var n=o.dest,e=o.source.canvas;n.save(),0<t&&n.drawImage(e,0,0,e.width*t,e.height,0,0,e.width*t/ui,e.height/ui),n.restore()}},fadeInAnimation:function(t,o){if(t!==0){var n=o.dest,e=o.source.canvas;n.save(),n.globalAlpha=t,n.drawImage(e,0,0,e.width,e.height,0,0,n.canvas.width/ui,n.canvas.height/ui),n.restore()}},easing:{linear:function(t,o,n,e){return n*t/e+o},easeOutQuad:function(t,o,n,e){return-n*(t/=e)*(t-2)+o},easeOutQuart:function(t,o,n,e){return-n*((t=t/e-1)*t*t*t-1)+o},easeInQuad:function(t,o,n,e){return n*(t/=e)*t+o},easeInQuart:function(t,o,n,e){return n*(t/=e)*t*t*t+o}}},Se={drawMarker:function(t,o,n,e,a,h,d,_){if(n){var b=1;n.fillStyle=h||"#000000",n.strokeStyle=d||"#000000",n.lineWidth=_||0,n.setLineDash&&n.setLineDash(wt("solid",_)),e==="circle"?(n.moveTo(t,o),n.beginPath(),n.arc(t,o,a/2,0,2*Math.PI,!1),h&&n.fill(),_&&(d?n.stroke():(b=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=b))):e==="square"?(n.beginPath(),n.rect(t-a/2,o-a/2,a,a),h&&n.fill(),_&&(d?n.stroke():(b=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=b))):e==="triangle"?(n.beginPath(),n.moveTo(t-a/2,o+a/2),n.lineTo(t+a/2,o+a/2),n.lineTo(t,o-a/2),n.closePath(),h&&n.fill(),_&&(d?n.stroke():(b=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=b)),n.beginPath()):e==="cross"&&(n.strokeStyle=h,n.lineWidth=a/4,n.beginPath(),n.moveTo(t-a/2,o-a/2),n.lineTo(t+a/2,o+a/2),n.stroke(),n.moveTo(t+a/2,o-a/2),n.lineTo(t-a/2,o+a/2),n.stroke())}},drawMarkers:function(t){for(var o=0;o<t.length;o++){var n=t[o];Se.drawMarker(n.x,n.y,n.ctx,n.type,n.size,n.color,n.borderColor,n.borderThickness)}}};return w}(),I.version="v3.10.10 GA",window.CanvasJS&&I&&!window.CanvasJS.Chart&&(window.CanvasJS.Chart=I)})();document.createElement("canvas").getContext||function(){function c(){return this.context_||(this.context_=new wt(this))}function S(I,$,q){var tt=vn.call(arguments,2);return function(){return I.apply($,tt.concat(vn.call(arguments)))}}function i(I){return String(I).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function r(I){I.namespaces.g_vml_||I.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),I.namespaces.g_o_||I.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),I.styleSheets.ex_canvas_||(I=I.createStyleSheet(),I.owningElement.id="ex_canvas_",I.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function l(I){var $=I.srcElement;switch(I.propertyName){case"width":$.getContext().clearRect(),$.style.width=$.attributes.width.nodeValue+"px",$.firstChild.style.width=$.clientWidth+"px";break;case"height":$.getContext().clearRect(),$.style.height=$.attributes.height.nodeValue+"px",$.firstChild.style.height=$.clientHeight+"px"}}function f(I){I=I.srcElement,I.firstChild&&(I.firstChild.style.width=I.clientWidth+"px",I.firstChild.style.height=I.clientHeight+"px")}function k(){return[[1,0,0],[0,1,0],[0,0,1]]}function z(I,$){for(var q=k(),tt=0;3>tt;tt++)for(var ht=0;3>ht;ht++){for(var rt=0,Ft=0;3>Ft;Ft++)rt+=I[tt][Ft]*$[Ft][ht];q[tt][ht]=rt}return q}function Pt(I,$){$.fillStyle=I.fillStyle,$.lineCap=I.lineCap,$.lineJoin=I.lineJoin,$.lineWidth=I.lineWidth,$.miterLimit=I.miterLimit,$.shadowBlur=I.shadowBlur,$.shadowColor=I.shadowColor,$.shadowOffsetX=I.shadowOffsetX,$.shadowOffsetY=I.shadowOffsetY,$.strokeStyle=I.strokeStyle,$.globalAlpha=I.globalAlpha,$.font=I.font,$.textAlign=I.textAlign,$.textBaseline=I.textBaseline,$.arcScaleX_=I.arcScaleX_,$.arcScaleY_=I.arcScaleY_,$.lineScale_=I.lineScale_}function P(I){var q=I.indexOf("(",3),$=I.indexOf(")",q+1),q=I.substring(q+1,$).split(",");return(q.length!=4||I.charAt(3)!="a")&&(q[3]=1),q}function zt(I,$,q){return Math.min(q,Math.max($,I))}function fe(I,$,q){return 0>q&&q++,1<q&&q--,1>6*q?I+6*($-I)*q:1>2*q?$:2>3*q?I+6*($-I)*(2/3-q):I}function xe(I){if(I in Li)return Li[I];var $,q=1;if(I=String(I),I.charAt(0)=="#")$=I;else if(/^rgb/.test(I)){q=P(I),$="#";for(var tt,ht=0;3>ht;ht++)tt=q[ht].indexOf("%")!=-1?Math.floor(255*(parseFloat(q[ht])/100)):+q[ht],$+=Hn[zt(tt,0,255)];q=+q[3]}else if(/^hsl/.test(I)){if(ht=q=P(I),$=parseFloat(ht[0])/360%360,0>$&&$++,tt=zt(parseFloat(ht[1])/100,0,1),ht=zt(parseFloat(ht[2])/100,0,1),tt==0)tt=ht=$=ht;else{var rt=.5>ht?ht*(1+tt):ht+tt-ht*tt,Ft=2*ht-rt;tt=fe(Ft,rt,$+1/3),ht=fe(Ft,rt,$),$=fe(Ft,rt,$-1/3)}$="#"+Hn[Math.floor(255*tt)]+Hn[Math.floor(255*ht)]+Hn[Math.floor(255*$)],q=q[3]}else $=ya[I]||I;return Li[I]={color:$,alpha:q}}function wt(I){this.m_=k(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*te,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=I;var $="width:"+I.clientWidth+"px;height:"+I.clientHeight+"px;overflow:hidden;position:absolute",q=I.ownerDocument.createElement("div");q.style.cssText=$,I.appendChild(q),$=q.cloneNode(!1),$.style.backgroundColor="red",$.style.filter="alpha(opacity=0)",I.appendChild($),this.element_=q,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function ee(I,$,q,tt){I.currentPath_.push({type:"bezierCurveTo",cp1x:$.x,cp1y:$.y,cp2x:q.x,cp2y:q.y,x:tt.x,y:tt.y}),I.currentX_=tt.x,I.currentY_=tt.y}function _n(I,$){var tt=xe(I.strokeStyle),q=tt.color,tt=tt.alpha*I.globalAlpha,ht=I.lineScale_*I.lineWidth;1>ht&&(tt*=ht),$.push("<g_vml_:stroke",' opacity="',tt,'"',' joinstyle="',I.lineJoin,'"',' miterlimit="',I.miterLimit,'"',' endcap="',on[I.lineCap]||"square",'"',' weight="',ht,'px"',' color="',q,'" />')}function ci(I,$,q,tt){var ht=I.fillStyle,rt=I.arcScaleX_,Ft=I.arcScaleY_,ae=tt.x-q.x,Ye=tt.y-q.y;if(ht instanceof xa){var $t=0,Ot=tt=0,bt=0,Ae=1;if(ht.type_=="gradient"){$t=ht.x1_/rt,q=ht.y1_/Ft;var Yt=ne(I,ht.x0_/rt,ht.y0_/Ft),$t=ne(I,$t,q),$t=180*Math.atan2($t.x-Yt.x,$t.y-Yt.y)/Math.PI;0>$t&&($t+=360),1e-6>$t&&($t=0)}else Yt=ne(I,ht.x0_,ht.y0_),tt=(Yt.x-q.x)/ae,Ot=(Yt.y-q.y)/Ye,ae/=rt*te,Ye/=Ft*te,Ae=Ke.max(ae,Ye),bt=2*ht.r0_/Ae,Ae=2*ht.r1_/Ae-bt;rt=ht.colors_,rt.sort(function(Hi,wo){return Hi.offset-wo.offset}),Ft=rt.length,Yt=rt[0].color,q=rt[Ft-1].color,ae=rt[0].alpha*I.globalAlpha,I=rt[Ft-1].alpha*I.globalAlpha;for(var Ye=[],Xn=0;Xn<Ft;Xn++){var Zn=rt[Xn];Ye.push(Zn.offset*Ae+bt+" "+Zn.color)}$.push('<g_vml_:fill type="',ht.type_,'"',' method="none" focus="100%"',' color="',Yt,'"',' color2="',q,'"',' colors="',Ye.join(","),'"',' opacity="',I,'"',' g_o_:opacity2="',ae,'"',' angle="',$t,'"',' focusposition="',tt,",",Ot,'" />')}else ht instanceof ki?ae&&Ye&&$.push("<g_vml_:fill",' position="',-q.x/ae*rt*rt,",",-q.y/Ye*Ft*Ft,'"',' type="tile"',' src="',ht.src_,'" />'):(ht=xe(I.fillStyle),$.push('<g_vml_:fill color="',ht.color,'" opacity="',ht.alpha*I.globalAlpha,'" />'))}function ne(I,$,q){return I=I.m_,{x:te*($*I[0][0]+q*I[1][0]+I[2][0])-xn,y:te*($*I[0][1]+q*I[1][1]+I[2][1])-xn}}function bn(I,$,q){isFinite($[0][0])&&isFinite($[0][1])&&isFinite($[1][0])&&isFinite($[1][1])&&isFinite($[2][0])&&isFinite($[2][1])&&(I.m_=$,q&&(I.lineScale_=Kn(Ie($[0][0]*$[1][1]-$[0][1]*$[1][0]))))}function xa(I){this.type_=I,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function ki(I,$){if(!I||I.nodeType!=1||I.tagName!="IMG")throw new le("TYPE_MISMATCH_ERR");if(I.readyState!="complete")throw new le("INVALID_STATE_ERR");switch($){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=$;break;default:throw new le("SYNTAX_ERR")}this.src_=I.src,this.width_=I.width,this.height_=I.height}function le(I){this.code=this[I],this.message=I+": DOM Exception "+this.code}var Ke=Math,Te=Ke.round,Vi=Ke.sin,va=Ke.cos,Ie=Ke.abs,Kn=Ke.sqrt,te=10,xn=te/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var vn=Array.prototype.slice;r(document);var Jn={init:function(I){I=I||document,I.createElement("canvas"),I.attachEvent("onreadystatechange",S(this.init_,this,I))},init_:function(I){I=I.getElementsByTagName("canvas");for(var $=0;$<I.length;$++)this.initElement(I[$])},initElement:function(I){if(!I.getContext){I.getContext=c,r(I.ownerDocument),I.innerHTML="",I.attachEvent("onpropertychange",l),I.attachEvent("onresize",f);var $=I.attributes;$.width&&$.width.specified?I.style.width=$.width.nodeValue+"px":I.width=I.clientWidth,$.height&&$.height.specified?I.style.height=$.height.nodeValue+"px":I.height=I.clientHeight}return I}};Jn.init();for(var Hn=[],It=0;16>It;It++)for(var yn=0;16>yn;yn++)Hn[16*It+yn]=It.toString(16)+yn.toString(16);var ya={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},Li={},N={},on={butt:"flat",round:"round"},It=wt.prototype;It.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},It.beginPath=function(){this.currentPath_=[]},It.moveTo=function(I,$){var q=ne(this,I,$);this.currentPath_.push({type:"moveTo",x:q.x,y:q.y}),this.currentX_=q.x,this.currentY_=q.y},It.lineTo=function(I,$){var q=ne(this,I,$);this.currentPath_.push({type:"lineTo",x:q.x,y:q.y}),this.currentX_=q.x,this.currentY_=q.y},It.bezierCurveTo=function(I,$,q,tt,ht,rt){ht=ne(this,ht,rt),I=ne(this,I,$),q=ne(this,q,tt),ee(this,I,q,ht)},It.quadraticCurveTo=function(I,$,q,tt){I=ne(this,I,$),q=ne(this,q,tt),tt={x:this.currentX_+2/3*(I.x-this.currentX_),y:this.currentY_+2/3*(I.y-this.currentY_)},ee(this,tt,{x:tt.x+(q.x-this.currentX_)/3,y:tt.y+(q.y-this.currentY_)/3},q)},It.arc=function(I,$,q,tt,ht,rt){q*=te;var Ft=rt?"at":"wa",ae=I+va(tt)*q-xn,Ye=$+Vi(tt)*q-xn;tt=I+va(ht)*q-xn,ht=$+Vi(ht)*q-xn,ae!=tt||rt||(ae+=.125),I=ne(this,I,$),ae=ne(this,ae,Ye),tt=ne(this,tt,ht),this.currentPath_.push({type:Ft,x:I.x,y:I.y,radius:q,xStart:ae.x,yStart:ae.y,xEnd:tt.x,yEnd:tt.y})},It.rect=function(I,$,q,tt){this.moveTo(I,$),this.lineTo(I+q,$),this.lineTo(I+q,$+tt),this.lineTo(I,$+tt),this.closePath()},It.strokeRect=function(I,$,q,tt){var ht=this.currentPath_;this.beginPath(),this.moveTo(I,$),this.lineTo(I+q,$),this.lineTo(I+q,$+tt),this.lineTo(I,$+tt),this.closePath(),this.stroke(),this.currentPath_=ht},It.fillRect=function(I,$,q,tt){var ht=this.currentPath_;this.beginPath(),this.moveTo(I,$),this.lineTo(I+q,$),this.lineTo(I+q,$+tt),this.lineTo(I,$+tt),this.closePath(),this.fill(),this.currentPath_=ht},It.createLinearGradient=function(I,$,q,tt){var ht=new xa("gradient");return ht.x0_=I,ht.y0_=$,ht.x1_=q,ht.y1_=tt,ht},It.createRadialGradient=function(I,$,q,tt,ht,rt){var Ft=new xa("gradientradial");return Ft.x0_=I,Ft.y0_=$,Ft.r0_=q,Ft.x1_=tt,Ft.y1_=ht,Ft.r1_=rt,Ft},It.drawImage=function(I,$){var q,tt,ht,rt,Ft,ae,Ye,$t;ht=I.runtimeStyle.width,rt=I.runtimeStyle.height,I.runtimeStyle.width="auto",I.runtimeStyle.height="auto";var Ot=I.width,bt=I.height;if(I.runtimeStyle.width=ht,I.runtimeStyle.height=rt,arguments.length==3)q=arguments[1],tt=arguments[2],Ft=ae=0,Ye=ht=Ot,$t=rt=bt;else if(arguments.length==5)q=arguments[1],tt=arguments[2],ht=arguments[3],rt=arguments[4],Ft=ae=0,Ye=Ot,$t=bt;else if(arguments.length==9)Ft=arguments[1],ae=arguments[2],Ye=arguments[3],$t=arguments[4],q=arguments[5],tt=arguments[6],ht=arguments[7],rt=arguments[8];else throw Error("Invalid number of arguments");var Ae=ne(this,q,tt),Yt=[];if(Yt.push(" <g_vml_:group",' coordsize="',10*te,",",10*te,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var Xn=[];Xn.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",Te(Ae.x/te),",","Dy=",Te(Ae.y/te),"");var Zn=ne(this,q+ht,tt),Hi=ne(this,q,tt+rt);q=ne(this,q+ht,tt+rt),Ae.x=Ke.max(Ae.x,Zn.x,Hi.x,q.x),Ae.y=Ke.max(Ae.y,Zn.y,Hi.y,q.y),Yt.push("padding:0 ",Te(Ae.x/te),"px ",Te(Ae.y/te),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",Xn.join(""),", sizingmethod='clip');")}else Yt.push("top:",Te(Ae.y/te),"px;left:",Te(Ae.x/te),"px;");Yt.push(' ">','<g_vml_:image src="',I.src,'"',' style="width:',te*ht,"px;"," height:",te*rt,'px"',' cropleft="',Ft/Ot,'"',' croptop="',ae/bt,'"',' cropright="',(Ot-Ft-Ye)/Ot,'"',' cropbottom="',(bt-ae-$t)/bt,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",Yt.join(""))},It.stroke=function(I){var $=[];$.push("<g_vml_:shape",' filled="',!!I,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*te,",",10*te,'"',' stroked="',!I,'"',' path="');for(var q={x:null,y:null},tt={x:null,y:null},ht=0;ht<this.currentPath_.length;ht++){var rt=this.currentPath_[ht];switch(rt.type){case"moveTo":$.push(" m ",Te(rt.x),",",Te(rt.y));break;case"lineTo":$.push(" l ",Te(rt.x),",",Te(rt.y));break;case"close":$.push(" x "),rt=null;break;case"bezierCurveTo":$.push(" c ",Te(rt.cp1x),",",Te(rt.cp1y),",",Te(rt.cp2x),",",Te(rt.cp2y),",",Te(rt.x),",",Te(rt.y));break;case"at":case"wa":$.push(" ",rt.type," ",Te(rt.x-this.arcScaleX_*rt.radius),",",Te(rt.y-this.arcScaleY_*rt.radius)," ",Te(rt.x+this.arcScaleX_*rt.radius),",",Te(rt.y+this.arcScaleY_*rt.radius)," ",Te(rt.xStart),",",Te(rt.yStart)," ",Te(rt.xEnd),",",Te(rt.yEnd))}rt&&((q.x==null||rt.x<q.x)&&(q.x=rt.x),(tt.x==null||rt.x>tt.x)&&(tt.x=rt.x),(q.y==null||rt.y<q.y)&&(q.y=rt.y),(tt.y==null||rt.y>tt.y)&&(tt.y=rt.y))}$.push(' ">'),I?ci(this,$,q,tt):_n(this,$),$.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",$.join(""))},It.fill=function(){this.stroke(!0)},It.closePath=function(){this.currentPath_.push({type:"close"})},It.save=function(){var I={};Pt(this,I),this.aStack_.push(I),this.mStack_.push(this.m_),this.m_=z(k(),this.m_)},It.restore=function(){this.aStack_.length&&(Pt(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},It.translate=function(I,$){bn(this,z([[1,0,0],[0,1,0],[I,$,1]],this.m_),!1)},It.rotate=function(I){var $=va(I);I=Vi(I),bn(this,z([[$,I,0],[-I,$,0],[0,0,1]],this.m_),!1)},It.scale=function(I,$){this.arcScaleX_*=I,this.arcScaleY_*=$,bn(this,z([[I,0,0],[0,$,0],[0,0,1]],this.m_),!0)},It.transform=function(I,$,q,tt,ht,rt){bn(this,z([[I,$,0],[q,tt,0],[ht,rt,1]],this.m_),!0)},It.setTransform=function(I,$,q,tt,ht,rt){bn(this,[[I,$,0],[q,tt,0],[ht,rt,1]],!0)},It.drawText_=function(I,$,q,tt,ht){var rt=this.m_;tt=0;var Ft=1e3,ae=0,Ye=[],$t;if($t=this.font,N[$t])$t=N[$t];else{var Ot=document.createElement("div").style;try{Ot.font=$t}catch{}$t=N[$t]={style:Ot.fontStyle||"normal",variant:Ot.fontVariant||"normal",weight:Ot.fontWeight||"normal",size:Ot.fontSize||10,family:Ot.fontFamily||"sans-serif"}}var Ot=$t,bt=this.element_;$t={};for(var Ae in Ot)$t[Ae]=Ot[Ae];switch(Ae=parseFloat(bt.currentStyle.fontSize),bt=parseFloat(Ot.size),typeof Ot.size=="number"?$t.size=Ot.size:Ot.size.indexOf("px")!=-1?$t.size=bt:Ot.size.indexOf("em")!=-1?$t.size=Ae*bt:Ot.size.indexOf("%")!=-1?$t.size=Ae/100*bt:Ot.size.indexOf("pt")!=-1?$t.size=bt/.75:$t.size=Ae,$t.size*=.981,Ae=$t.style+" "+$t.variant+" "+$t.weight+" "+$t.size+"px "+$t.family,bt=this.element_.currentStyle,Ot=this.textAlign.toLowerCase(),Ot){case"left":case"center":case"right":break;case"end":Ot=bt.direction=="ltr"?"right":"left";break;case"start":Ot=bt.direction=="rtl"?"right":"left";break;default:Ot="left"}switch(this.textBaseline){case"hanging":case"top":ae=$t.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":ae=-$t.size/2.25}switch(Ot){case"right":tt=1e3,Ft=.05;break;case"center":tt=Ft=500}$=ne(this,$+0,q+ae),Ye.push('<g_vml_:line from="',-tt,' 0" to="',Ft,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!ht,'" stroked="',!!ht,'" style="position:absolute;width:1px;height:1px;">'),ht?_n(this,Ye):ci(this,Ye,{x:-tt,y:0},{x:Ft,y:$t.size}),ht=rt[0][0].toFixed(3)+","+rt[1][0].toFixed(3)+","+rt[0][1].toFixed(3)+","+rt[1][1].toFixed(3)+",0,0",$=Te($.x/te)+","+Te($.y/te),Ye.push('<g_vml_:skew on="t" matrix="',ht,'" ',' offset="',$,'" origin="',tt,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',i(I),'" style="v-text-align:',Ot,";font:",i(Ae),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",Ye.join(""))},It.fillText=function(I,$,q,tt){this.drawText_(I,$,q,tt,!1)},It.strokeText=function(I,$,q,tt){this.drawText_(I,$,q,tt,!0)},It.measureText=function(I){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var $=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild($.createTextNode(I)),{width:this.textMeasureEl_.offsetWidth}},It.clip=function(){},It.arcTo=function(){},It.createPattern=function(I,$){return new ki(I,$)},xa.prototype.addColorStop=function(I,$){$=xe($),this.colors_.push({offset:I,color:$.color,alpha:$.alpha})},It=le.prototype=Error(),It.INDEX_SIZE_ERR=1,It.DOMSTRING_SIZE_ERR=2,It.HIERARCHY_REQUEST_ERR=3,It.WRONG_DOCUMENT_ERR=4,It.INVALID_CHARACTER_ERR=5,It.NO_DATA_ALLOWED_ERR=6,It.NO_MODIFICATION_ALLOWED_ERR=7,It.NOT_FOUND_ERR=8,It.NOT_SUPPORTED_ERR=9,It.INUSE_ATTRIBUTE_ERR=10,It.INVALID_STATE_ERR=11,It.SYNTAX_ERR=12,It.INVALID_MODIFICATION_ERR=13,It.NAMESPACE_ERR=14,It.INVALID_ACCESS_ERR=15,It.VALIDATION_ERR=16,It.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=Jn,CanvasRenderingContext2D=wt,CanvasGradient=xa,CanvasPattern=ki,DOMException=le}()});var rd=[[["caption"]],[["colgroup"],["col"]],"*"],ld=["caption","colgroup, col","*"];function hd(c,S){c&1&&Ge(0,2)}function dd(c,S){c&1&&(A(0,"thead",0),$i(1,1),B(),A(2,"tbody",0),$i(3,2)(4,3),B(),A(5,"tfoot",0),$i(6,4),B())}function cd(c,S){c&1&&$i(0,1)(1,2)(2,3)(3,4)}var fn=new ti("CDK_TABLE");var Ns=(()=>{class c{constructor(i){this.template=i}static{this.\u0275fac=function(r){return new(r||c)(Y(pi))}}static{this.\u0275dir=Jt({type:c,selectors:[["","cdkCellDef",""]],standalone:!0})}}return c})(),Ws=(()=>{class c{constructor(i){this.template=i}static{this.\u0275fac=function(r){return new(r||c)(Y(pi))}}static{this.\u0275dir=Jt({type:c,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}}return c})(),Nl=(()=>{class c{constructor(i){this.template=i}static{this.\u0275fac=function(r){return new(r||c)(Y(pi))}}static{this.\u0275dir=Jt({type:c,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}}return c})(),La=(()=>{class c{get name(){return this._name}set name(i){this._setNameInput(i)}get sticky(){return this._sticky}set sticky(i){i!==this._sticky&&(this._sticky=i,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(i){i!==this._stickyEnd&&(this._stickyEnd=i,this._hasStickyChanged=!0)}constructor(i){this._table=i,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let i=this._hasStickyChanged;return this.resetStickyChanged(),i}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(i){i&&(this._name=i,this.cssClassFriendlyName=i.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(r){return new(r||c)(Y(fn,8))}}static{this.\u0275dir=Jt({type:c,selectors:[["","cdkColumnDef",""]],contentQueries:function(r,l,f){if(r&1&&(Xe(f,Ns,5),Xe(f,Ws,5),Xe(f,Nl,5)),r&2){let k;Lt(k=Nt())&&(l.cell=k.first),Lt(k=Nt())&&(l.headerCell=k.first),Lt(k=Nt())&&(l.footerCell=k.first)}},inputs:{name:[kt.None,"cdkColumnDef","name"],sticky:[kt.HasDecoratorInputTransform,"sticky","sticky",me],stickyEnd:[kt.HasDecoratorInputTransform,"stickyEnd","stickyEnd",me]},standalone:!0,features:[ye([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:c}]),Qe]})}}return c})(),Bs=class{constructor(S,i){i.nativeElement.classList.add(...S._columnCssClassName)}},Wl=(()=>{class c extends Bs{constructor(i,r){super(i,r)}static{this.\u0275fac=function(r){return new(r||c)(Y(La),Y(we))}}static{this.\u0275dir=Jt({type:c,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[Ee]})}}return c})();var Yl=(()=>{class c extends Bs{constructor(i,r){super(i,r);let l=i._table?._getCellRole();l&&r.nativeElement.setAttribute("role",l)}static{this.\u0275fac=function(r){return new(r||c)(Y(La),Y(we))}}static{this.\u0275dir=Jt({type:c,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[Ee]})}}return c})(),Os=class{constructor(){this.tasks=[],this.endTasks=[]}},Rs=new ti("_COALESCED_STYLE_SCHEDULER"),No=(()=>{class c{constructor(i){this._ngZone=i,this._currentSchedule=null,this._destroyed=new ri}schedule(i){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(i)}scheduleEnd(i){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(i)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Os,this._getScheduleObservable().pipe(rn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let i=this._currentSchedule;this._currentSchedule=new Os;for(let r of i.tasks)r();for(let r of i.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Er(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Gi(1))}static{this.\u0275fac=function(r){return new(r||c)(vi(Ui))}}static{this.\u0275prov=He({token:c,factory:c.\u0275fac})}}return c})();var Wo=(()=>{class c{constructor(i,r){this.template=i,this._differs=r}ngOnChanges(i){if(!this._columnsDiffer){let r=i.columns&&i.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(i){return this instanceof Za?i.headerCell.template:this instanceof Yo?i.footerCell.template:i.cell.template}static{this.\u0275fac=function(r){return new(r||c)(Y(pi),Y(Fa))}}static{this.\u0275dir=Jt({type:c,features:[ke]})}}return c})(),Za=(()=>{class c extends Wo{get sticky(){return this._sticky}set sticky(i){i!==this._sticky&&(this._sticky=i,this._hasStickyChanged=!0)}constructor(i,r,l){super(i,r),this._table=l,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(i){super.ngOnChanges(i)}hasStickyChanged(){let i=this._hasStickyChanged;return this.resetStickyChanged(),i}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(r){return new(r||c)(Y(pi),Y(Fa),Y(fn,8))}}static{this.\u0275dir=Jt({type:c,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[kt.None,"cdkHeaderRowDef","columns"],sticky:[kt.HasDecoratorInputTransform,"cdkHeaderRowDefSticky","sticky",me]},standalone:!0,features:[Qe,Ee,ke]})}}return c})(),Yo=(()=>{class c extends Wo{get sticky(){return this._sticky}set sticky(i){i!==this._sticky&&(this._sticky=i,this._hasStickyChanged=!0)}constructor(i,r,l){super(i,r),this._table=l,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(i){super.ngOnChanges(i)}hasStickyChanged(){let i=this._hasStickyChanged;return this.resetStickyChanged(),i}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(r){return new(r||c)(Y(pi),Y(Fa),Y(fn,8))}}static{this.\u0275dir=Jt({type:c,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[kt.None,"cdkFooterRowDef","columns"],sticky:[kt.HasDecoratorInputTransform,"cdkFooterRowDefSticky","sticky",me]},standalone:!0,features:[Qe,Ee,ke]})}}return c})(),Ys=(()=>{class c extends Wo{constructor(i,r,l){super(i,r),this._table=l}static{this.\u0275fac=function(r){return new(r||c)(Y(pi),Y(Fa),Y(fn,8))}}static{this.\u0275dir=Jt({type:c,selectors:[["","cdkRowDef",""]],inputs:{columns:[kt.None,"cdkRowDefColumns","columns"],when:[kt.None,"cdkRowDefWhen","when"]},standalone:!0,features:[Ee]})}}return c})(),ka=(()=>{class c{static{this.mostRecentCellOutlet=null}constructor(i){this._viewContainer=i,c.mostRecentCellOutlet=this}ngOnDestroy(){c.mostRecentCellOutlet===this&&(c.mostRecentCellOutlet=null)}static{this.\u0275fac=function(r){return new(r||c)(Y(zi))}}static{this.\u0275dir=Jt({type:c,selectors:[["","cdkCellOutlet",""]],standalone:!0})}}return c})(),zo=(()=>{class c{static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275cmp=St({type:c,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[Dt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,l){r&1&&$i(0,0)},dependencies:[ka],encapsulation:2})}}return c})();var Ho=(()=>{class c{static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275cmp=St({type:c,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[Dt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,l){r&1&&$i(0,0)},dependencies:[ka],encapsulation:2})}}return c})(),zl=(()=>{class c{constructor(i){this.templateRef=i,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(r){return new(r||c)(Y(pi))}}static{this.\u0275dir=Jt({type:c,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}}return c})(),Ol=["top","bottom","left","right"],Lo=class{constructor(S,i,r,l,f=!0,k=!0,z){this._isNativeHtmlTable=S,this._stickCellCss=i,this.direction=r,this._coalescedStyleScheduler=l,this._isBrowser=f,this._needsPositionStickyOnElement=k,this._positionListener=z,this._cachedCellWidths=[],this._borderCellCss={top:`${i}-border-elem-top`,bottom:`${i}-border-elem-bottom`,left:`${i}-border-elem-left`,right:`${i}-border-elem-right`}}clearStickyPositioning(S,i){let r=[];for(let l of S)if(l.nodeType===l.ELEMENT_NODE){r.push(l);for(let f=0;f<l.children.length;f++)r.push(l.children[f])}this._coalescedStyleScheduler.schedule(()=>{for(let l of r)this._removeStickyStyle(l,i)})}updateStickyColumns(S,i,r,l=!0){if(!S.length||!this._isBrowser||!(i.some(f=>f)||r.some(f=>f))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let f=S[0],k=f.children.length,z=this._getCellWidths(f,l),Pt=this._getStickyStartColumnPositions(z,i),P=this._getStickyEndColumnPositions(z,r),zt=i.lastIndexOf(!0),fe=r.indexOf(!0),xe=this.direction==="rtl",wt=xe?"right":"left",ee=xe?"left":"right";for(let _n of S)for(let ci=0;ci<k;ci++){let ne=_n.children[ci];i[ci]&&this._addStickyStyle(ne,wt,Pt[ci],ci===zt),r[ci]&&this._addStickyStyle(ne,ee,P[ci],ci===fe)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:zt===-1?[]:z.slice(0,zt+1).map((_n,ci)=>i[ci]?_n:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:fe===-1?[]:z.slice(fe).map((_n,ci)=>r[ci+fe]?_n:null).reverse()}))})}stickRows(S,i,r){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let l=r==="bottom"?S.slice().reverse():S,f=r==="bottom"?i.slice().reverse():i,k=[],z=[],Pt=[];for(let zt=0,fe=0;zt<l.length;zt++){if(!f[zt])continue;k[zt]=fe;let xe=l[zt];Pt[zt]=this._isNativeHtmlTable?Array.from(xe.children):[xe];let wt=xe.getBoundingClientRect().height;fe+=wt,z[zt]=wt}let P=f.lastIndexOf(!0);for(let zt=0;zt<l.length;zt++){if(!f[zt])continue;let fe=k[zt],xe=zt===P;for(let wt of Pt[zt])this._addStickyStyle(wt,r,fe,xe)}r==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:z,offsets:k,elements:Pt}):this._positionListener?.stickyFooterRowsUpdated({sizes:z,offsets:k,elements:Pt})})}updateStickyFooterContainer(S,i){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let r=S.querySelector("tfoot");r&&(i.some(l=>!l)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1))})}_removeStickyStyle(S,i){for(let l of i)S.style[l]="",S.classList.remove(this._borderCellCss[l]);Ol.some(l=>i.indexOf(l)===-1&&S.style[l])?S.style.zIndex=this._getCalculatedZIndex(S):(S.style.zIndex="",this._needsPositionStickyOnElement&&(S.style.position=""),S.classList.remove(this._stickCellCss))}_addStickyStyle(S,i,r,l){S.classList.add(this._stickCellCss),l&&S.classList.add(this._borderCellCss[i]),S.style[i]=`${r}px`,S.style.zIndex=this._getCalculatedZIndex(S),this._needsPositionStickyOnElement&&(S.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(S){let i={top:100,bottom:10,left:1,right:1},r=0;for(let l of Ol)S.style[l]&&(r+=i[l]);return r?`${r}`:""}_getCellWidths(S,i=!0){if(!i&&this._cachedCellWidths.length)return this._cachedCellWidths;let r=[],l=S.children;for(let f=0;f<l.length;f++){let k=l[f];r.push(k.getBoundingClientRect().width)}return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(S,i){let r=[],l=0;for(let f=0;f<S.length;f++)i[f]&&(r[f]=l,l+=S[f]);return r}_getStickyEndColumnPositions(S,i){let r=[],l=0;for(let f=S.length;f>0;f--)i[f]&&(r[f]=l,l+=S[f]);return r}};var Vs=new ti("CDK_SPL");var Xo=(()=>{class c{constructor(i,r){this.viewContainer=i,this.elementRef=r;let l=Di(fn);l._rowOutlet=this,l._outletAssigned()}static{this.\u0275fac=function(r){return new(r||c)(Y(zi),Y(we))}}static{this.\u0275dir=Jt({type:c,selectors:[["","rowOutlet",""]],standalone:!0})}}return c})(),jo=(()=>{class c{constructor(i,r){this.viewContainer=i,this.elementRef=r;let l=Di(fn);l._headerRowOutlet=this,l._outletAssigned()}static{this.\u0275fac=function(r){return new(r||c)(Y(zi),Y(we))}}static{this.\u0275dir=Jt({type:c,selectors:[["","headerRowOutlet",""]],standalone:!0})}}return c})(),Go=(()=>{class c{constructor(i,r){this.viewContainer=i,this.elementRef=r;let l=Di(fn);l._footerRowOutlet=this,l._outletAssigned()}static{this.\u0275fac=function(r){return new(r||c)(Y(zi),Y(we))}}static{this.\u0275dir=Jt({type:c,selectors:[["","footerRowOutlet",""]],standalone:!0})}}return c})(),Uo=(()=>{class c{constructor(i,r){this.viewContainer=i,this.elementRef=r;let l=Di(fn);l._noDataRowOutlet=this,l._outletAssigned()}static{this.\u0275fac=function(r){return new(r||c)(Y(zi),Y(we))}}static{this.\u0275dir=Jt({type:c,selectors:[["","noDataRowOutlet",""]],standalone:!0})}}return c})();var $o=(()=>{class c{_getCellRole(){if(this._cellRoleInternal===void 0){let i=this._elementRef.nativeElement.getAttribute("role"),r=i==="grid"||i==="treegrid"?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&r==="cell"?null:r}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(i){this._trackByFn=i}get dataSource(){return this._dataSource}set dataSource(i){this._dataSource!==i&&this._switchDataSource(i)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(i){this._multiTemplateDataRows=i,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(i){this._fixedLayout=i,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(i,r,l,f,k,z,Pt,P,zt,fe,xe,wt){this._differs=i,this._changeDetectorRef=r,this._elementRef=l,this._dir=k,this._platform=Pt,this._viewRepeater=P,this._coalescedStyleScheduler=zt,this._viewportRuler=fe,this._stickyPositioningListener=xe,this._ngZone=wt,this._onDestroy=new ri,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Bt,this.viewChange=new Mn({start:0,end:Number.MAX_VALUE}),f||l.nativeElement.setAttribute("role","table"),this._document=z,this._isServer=!Pt.isBrowser,this._isNativeHtmlTable=l.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((i,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(rn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(i=>{i?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Ds(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let i=this._dataDiffer.diff(this._renderRows);if(!i){this._updateNoDataRow(),this.contentChanged.next();return}let r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(i,r,(l,f,k)=>this._getEmbeddedViewArgs(l.item,k),l=>l.item.data,l=>{l.operation===Sl.INSERTED&&l.context&&this._renderCellTemplateForItem(l.record.item.rowDef,l.context)}),this._updateRowIndexContext(),i.forEachIdentityChange(l=>{let f=r.get(l.currentIndex);f.context.$implicit=l.item.data}),this._updateNoDataRow(),this._ngZone&&Ui.isInAngularZone()?this._ngZone.onStable.pipe(Gi(1),rn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(i){this._customColumnDefs.add(i)}removeColumnDef(i){this._customColumnDefs.delete(i)}addRowDef(i){this._customRowDefs.add(i)}removeRowDef(i){this._customRowDefs.delete(i)}addHeaderRowDef(i){this._customHeaderRowDefs.add(i),this._headerRowDefChanged=!0}removeHeaderRowDef(i){this._customHeaderRowDefs.delete(i),this._headerRowDefChanged=!0}addFooterRowDef(i){this._customFooterRowDefs.add(i),this._footerRowDefChanged=!0}removeFooterRowDef(i){this._customFooterRowDefs.delete(i),this._footerRowDefChanged=!0}setNoDataRow(i){this._customNoDataRow=i}updateStickyHeaderRowStyles(){let i=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let l=Rl(this._headerRowOutlet,"thead");l&&(l.style.display=i.length?"":"none")}let r=this._headerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(i,["top"]),this._stickyStyler.stickRows(i,r,"top"),this._headerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyFooterRowStyles(){let i=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let l=Rl(this._footerRowOutlet,"tfoot");l&&(l.style.display=i.length?"":"none")}let r=this._footerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(i,["bottom"]),this._stickyStyler.stickRows(i,r,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,r),this._footerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyColumnStyles(){let i=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),l=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...i,...r,...l],["left","right"]),this._stickyColumnStylesNeedReset=!1),i.forEach((f,k)=>{this._addStickyColumnStyles([f],this._headerRowDefs[k])}),this._rowDefs.forEach(f=>{let k=[];for(let z=0;z<r.length;z++)this._renderRows[z].rowDef===f&&k.push(r[z]);this._addStickyColumnStyles(k,f)}),l.forEach((f,k)=>{this._addStickyColumnStyles([f],this._footerRowDefs[k])}),Array.from(this._columnDefsByName.values()).forEach(f=>f.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let i=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let l=0;l<this._data.length;l++){let f=this._data[l],k=this._getRenderRowsForData(f,l,r.get(f));this._cachedRenderRowsMap.has(f)||this._cachedRenderRowsMap.set(f,new WeakMap);for(let z=0;z<k.length;z++){let Pt=k[z],P=this._cachedRenderRowsMap.get(Pt.data);P.has(Pt.rowDef)?P.get(Pt.rowDef).push(Pt):P.set(Pt.rowDef,[Pt]),i.push(Pt)}}return i}_getRenderRowsForData(i,r,l){return this._getRowDefs(i,r).map(k=>{let z=l&&l.has(k)?l.get(k):[];if(z.length){let Pt=z.shift();return Pt.dataIndex=r,Pt}else return{data:i,rowDef:k,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Fs(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=Fs(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Fs(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Fs(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let i=this._rowDefs.filter(r=>!r.when);!this.multiTemplateDataRows&&i.length>1,this._defaultRowDef=i[0]}_renderUpdatedColumns(){let i=(k,z)=>k||!!z.getColumnsDiff(),r=this._rowDefs.reduce(i,!1);r&&this._forceRenderDataRows();let l=this._headerRowDefs.reduce(i,!1);l&&this._forceRenderHeaderRows();let f=this._footerRowDefs.reduce(i,!1);return f&&this._forceRenderFooterRows(),r||l||f}_switchDataSource(i){this._data=[],Ds(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),i||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=i}_observeRenderChanges(){if(!this.dataSource)return;let i;Ds(this.dataSource)?i=this.dataSource.connect(this):Fr(this.dataSource)?i=this.dataSource:Array.isArray(this.dataSource)&&(i=ji(this.dataSource)),this._renderChangeSubscription=i.pipe(rn(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((i,r)=>this._renderRow(this._headerRowOutlet,i,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((i,r)=>this._renderRow(this._footerRowOutlet,i,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(i,r){let l=Array.from(r.columns||[]).map(z=>{let Pt=this._columnDefsByName.get(z);return Pt}),f=l.map(z=>z.sticky),k=l.map(z=>z.stickyEnd);this._stickyStyler.updateStickyColumns(i,f,k,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(i){let r=[];for(let l=0;l<i.viewContainer.length;l++){let f=i.viewContainer.get(l);r.push(f.rootNodes[0])}return r}_getRowDefs(i,r){if(this._rowDefs.length==1)return[this._rowDefs[0]];let l=[];if(this.multiTemplateDataRows)l=this._rowDefs.filter(f=>!f.when||f.when(r,i));else{let f=this._rowDefs.find(k=>k.when&&k.when(r,i))||this._defaultRowDef;f&&l.push(f)}return l.length,l}_getEmbeddedViewArgs(i,r){let l=i.rowDef,f={$implicit:i.data};return{templateRef:l.template,context:f,index:r}}_renderRow(i,r,l,f={}){let k=i.viewContainer.createEmbeddedView(r.template,f,l);return this._renderCellTemplateForItem(r,f),k}_renderCellTemplateForItem(i,r){for(let l of this._getCellTemplates(i))ka.mostRecentCellOutlet&&ka.mostRecentCellOutlet._viewContainer.createEmbeddedView(l,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let i=this._rowOutlet.viewContainer;for(let r=0,l=i.length;r<l;r++){let k=i.get(r).context;k.count=l,k.first=r===0,k.last=r===l-1,k.even=r%2===0,k.odd=!k.even,this.multiTemplateDataRows?(k.dataIndex=this._renderRows[r].dataIndex,k.renderIndex=r):k.index=this._renderRows[r].dataIndex}}_getCellTemplates(i){return!i||!i.columns?[]:Array.from(i.columns,r=>{let l=this._columnDefsByName.get(r);return i.extractCellTemplate(l)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let i=(r,l)=>r||l.hasStickyChanged();this._headerRowDefs.reduce(i,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(i,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(i,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let i=this._dir?this._dir.value:"ltr";this._stickyStyler=new Lo(this._isNativeHtmlTable,this.stickyCssClass,i,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:ji()).pipe(rn(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(i){return i.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){let i=this._customNoDataRow||this._noDataRow;if(!i)return;let r=this._rowOutlet.viewContainer.length===0;if(r===this._isShowingNoDataRow)return;let l=this._noDataRowOutlet.viewContainer;if(r){let f=l.createEmbeddedView(i.templateRef),k=f.rootNodes[0];f.rootNodes.length===1&&k?.nodeType===this._document.ELEMENT_NODE&&(k.setAttribute("role","row"),k.classList.add(i._contentClassName))}else l.clear();this._isShowingNoDataRow=r,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(r){return new(r||c)(Y(Fa),Y(ii),Y(we),Ea("role"),Y(Si,8),Y(ia),Y(gn),Y(Ka),Y(Rs),Y(Ta),Y(Vs,12),Y(Ui,8))}}static{this.\u0275cmp=St({type:c,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(r,l,f){if(r&1&&(Xe(f,zl,5),Xe(f,La,5),Xe(f,Ys,5),Xe(f,Za,5),Xe(f,Yo,5)),r&2){let k;Lt(k=Nt())&&(l._noDataRow=k.first),Lt(k=Nt())&&(l._contentColumnDefs=k),Lt(k=Nt())&&(l._contentRowDefs=k),Lt(k=Nt())&&(l._contentHeaderRowDefs=k),Lt(k=Nt())&&(l._contentFooterRowDefs=k)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(r,l){r&2&&Be("cdk-table-fixed-layout",l.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[kt.HasDecoratorInputTransform,"multiTemplateDataRows","multiTemplateDataRows",me],fixedLayout:[kt.HasDecoratorInputTransform,"fixedLayout","fixedLayout",me]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[ye([{provide:fn,useExisting:c},{provide:Ka,useClass:Ps},{provide:Rs,useClass:No},{provide:Vs,useValue:null}]),Qe,Dt],ngContentSelectors:ld,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,l){r&1&&(yi(rd),Ge(0),Ge(1,1),ft(2,hd,1,0)(3,dd,7,0)(4,cd,4,0)),r&2&&(H(2),mi(2,l._isServer?2:-1),H(),mi(3,l._isNativeHtmlTable?3:4))},dependencies:[jo,Xo,Uo,Go],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return c})();function Fs(c,S){return c.concat(Array.from(S))}function Rl(c,S){let i=S.toUpperCase(),r=c.viewContainer.element.nativeElement;for(;r;){let l=r.nodeType===1?r.nodeName:null;if(l===i)return r;if(l==="TABLE")break;r=r.parentNode}return null}var Hl=(()=>{class c{static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275mod=ei({type:c})}static{this.\u0275inj=qe({imports:[Dl]})}}return c})();var ud=[[["caption"]],[["colgroup"],["col"]],"*"],pd=["caption","colgroup, col","*"];function md(c,S){c&1&&Ge(0,2)}function gd(c,S){c&1&&(A(0,"thead",0),$i(1,1),B(),A(2,"tbody",2),$i(3,3)(4,4),B(),A(5,"tfoot",0),$i(6,5),B())}function fd(c,S){c&1&&$i(0,1)(1,3)(2,4)(3,5)}var Dn=(()=>{class c extends $o{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static{this.\u0275fac=(()=>{let i;return function(l){return(i||(i=Yi(c)))(l||c)}})()}static{this.\u0275cmp=St({type:c,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(r,l){r&2&&Be("mdc-table-fixed-layout",l.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[ye([{provide:$o,useExisting:c},{provide:fn,useExisting:c},{provide:Rs,useClass:No},{provide:Ka,useClass:Ps},{provide:Vs,useValue:null}]),Ee,Dt],ngContentSelectors:pd,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,l){r&1&&(yi(ud),Ge(0),Ge(1,1),ft(2,md,1,0)(3,gd,7,0)(4,fd,4,0)),r&2&&(H(2),mi(2,l._isServer?2:-1),H(),mi(3,l._isNativeHtmlTable?3:4))},dependencies:[jo,Xo,Uo,Go],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return c})(),Pn=(()=>{class c extends Ns{static{this.\u0275fac=(()=>{let i;return function(l){return(i||(i=Yi(c)))(l||c)}})()}static{this.\u0275dir=Jt({type:c,selectors:[["","matCellDef",""]],standalone:!0,features:[ye([{provide:Ns,useExisting:c}]),Ee]})}}return c})(),In=(()=>{class c extends Ws{static{this.\u0275fac=(()=>{let i;return function(l){return(i||(i=Yi(c)))(l||c)}})()}static{this.\u0275dir=Jt({type:c,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[ye([{provide:Ws,useExisting:c}]),Ee]})}}return c})();var An=(()=>{class c extends La{get name(){return this._name}set name(i){this._setNameInput(i)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=(()=>{let i;return function(l){return(i||(i=Yi(c)))(l||c)}})()}static{this.\u0275dir=Jt({type:c,selectors:[["","matColumnDef",""]],inputs:{name:[kt.None,"matColumnDef","name"]},standalone:!0,features:[ye([{provide:La,useExisting:c},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:c}]),Ee]})}}return c})(),En=(()=>{class c extends Wl{static{this.\u0275fac=(()=>{let i;return function(l){return(i||(i=Yi(c)))(l||c)}})()}static{this.\u0275dir=Jt({type:c,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[Ee]})}}return c})();var Fn=(()=>{class c extends Yl{static{this.\u0275fac=(()=>{let i;return function(l){return(i||(i=Yi(c)))(l||c)}})()}static{this.\u0275dir=Jt({type:c,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[Ee]})}}return c})();var Bn=(()=>{class c extends Za{static{this.\u0275fac=(()=>{let i;return function(l){return(i||(i=Yi(c)))(l||c)}})()}static{this.\u0275dir=Jt({type:c,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[kt.None,"matHeaderRowDef","columns"],sticky:[kt.HasDecoratorInputTransform,"matHeaderRowDefSticky","sticky",me]},standalone:!0,features:[ye([{provide:Za,useExisting:c}]),Qe,Ee]})}}return c})();var On=(()=>{class c extends Ys{static{this.\u0275fac=(()=>{let i;return function(l){return(i||(i=Yi(c)))(l||c)}})()}static{this.\u0275dir=Jt({type:c,selectors:[["","matRowDef",""]],inputs:{columns:[kt.None,"matRowDefColumns","columns"],when:[kt.None,"matRowDefWhen","when"]},standalone:!0,features:[ye([{provide:Ys,useExisting:c}]),Ee]})}}return c})(),Rn=(()=>{class c extends zo{static{this.\u0275fac=(()=>{let i;return function(l){return(i||(i=Yi(c)))(l||c)}})()}static{this.\u0275cmp=St({type:c,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[ye([{provide:zo,useExisting:c}]),Ee,Dt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,l){r&1&&$i(0,0)},dependencies:[ka],encapsulation:2})}}return c})();var Vn=(()=>{class c extends Ho{static{this.\u0275fac=(()=>{let i;return function(l){return(i||(i=Yi(c)))(l||c)}})()}static{this.\u0275cmp=St({type:c,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[ye([{provide:Ho,useExisting:c}]),Ee,Dt],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,l){r&1&&$i(0,0)},dependencies:[ka],encapsulation:2})}}return c})();var Ln=(()=>{class c{static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275mod=ei({type:c})}static{this.\u0275inj=qe({imports:[Ki,Hl,Ki]})}}return c})(),_d=9007199254740991,Ue=class extends Tl{get data(){return this._data.value}set data(S){S=Array.isArray(S)?S:[],this._data.next(S),this._renderChangesSubscription||this._filterData(S)}get filter(){return this._filter.value}set filter(S){this._filter.next(S),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(S){this._sort=S,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(S){this._paginator=S,this._updateChangeSubscription()}constructor(S=[]){super(),this._renderData=new Mn([]),this._filter=new Mn(""),this._internalPageChanges=new ri,this._renderChangesSubscription=null,this.sortingDataAccessor=(i,r)=>{let l=i[r];if(qr(l)){let f=Number(l);return f<_d?f:l}return l},this.sortData=(i,r)=>{let l=r.active,f=r.direction;return!l||f==""?i:i.sort((k,z)=>{let Pt=this.sortingDataAccessor(k,l),P=this.sortingDataAccessor(z,l),zt=typeof Pt,fe=typeof P;zt!==fe&&(zt==="number"&&(Pt+=""),fe==="number"&&(P+=""));let xe=0;return Pt!=null&&P!=null?Pt>P?xe=1:Pt<P&&(xe=-1):Pt!=null?xe=1:P!=null&&(xe=-1),xe*(f=="asc"?1:-1)})},this.filterPredicate=(i,r)=>{let l=Object.keys(i).reduce((k,z)=>k+i[z]+"\u25EC","").toLowerCase(),f=r.trim().toLowerCase();return l.indexOf(f)!=-1},this._data=new Mn(S),this._updateChangeSubscription()}_updateChangeSubscription(){let S=this._sort?Ti(this._sort.sortChange,this._sort.initialized):ji(null),i=this._paginator?Ti(this._paginator.page,this._internalPageChanges,this._paginator.initialized):ji(null),r=this._data,l=us([r,this._filter]).pipe(Mt(([z])=>this._filterData(z))),f=us([l,S]).pipe(Mt(([z])=>this._orderData(z))),k=us([f,i]).pipe(Mt(([z])=>this._pageData(z)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=k.subscribe(z=>this._renderData.next(z))}_filterData(S){return this.filteredData=this.filter==null||this.filter===""?S:S.filter(i=>this.filterPredicate(i,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(S){return this.sort?this.sortData(S.slice(),this.sort):S}_pageData(S){if(!this.paginator)return S;let i=this.paginator.pageIndex*this.paginator.pageSize;return S.slice(i,i+this.paginator.pageSize)}_updatePaginator(S){Promise.resolve().then(()=>{let i=this.paginator;if(i&&(i.length=S,i.pageIndex>0)){let r=Math.ceil(i.length/i.pageSize)-1||0,l=Math.min(i.pageIndex,r);l!==i.pageIndex&&(i.pageIndex=l,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}};var yd=["mat-calendar-body",""];function Cd(c,S){if(c&1&&(A(0,"tr",0)(1,"td",3),U(2),B()()),c&2){let i=ot();H(),Un("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),Re("colspan",i.numCols),H(),At(" ",i.label," ")}}function Md(c,S){if(c&1&&(A(0,"td",3),U(1),B()),c&2){let i=ot(2);Un("padding-top",i._cellPadding)("padding-bottom",i._cellPadding),Re("colspan",i._firstRowOffset),H(),At(" ",i._firstRowOffset>=i.labelMinRequiredCells?i.label:""," ")}}function wd(c,S){if(c&1){let i=se();A(0,"td",6)(1,"button",7),pt("click",function(l){let f=ct(i).$implicit,k=ot(2);return ut(k._cellClicked(f,l))})("focus",function(l){let f=ct(i).$implicit,k=ot(2);return ut(k._emitActiveDateChange(f,l))}),A(2,"span",8),U(3),B(),Et(4,"span",9),B()()}if(c&2){let i=S.$implicit,r=S.$index,l=ot().$index,f=ot();Un("width",f._cellWidth)("padding-top",f._cellPadding)("padding-bottom",f._cellPadding),Re("data-mat-row",l)("data-mat-col",r),H(),Be("mat-calendar-body-disabled",!i.enabled)("mat-calendar-body-active",f._isActiveCell(l,r))("mat-calendar-body-range-start",f._isRangeStart(i.compareValue))("mat-calendar-body-range-end",f._isRangeEnd(i.compareValue))("mat-calendar-body-in-range",f._isInRange(i.compareValue))("mat-calendar-body-comparison-bridge-start",f._isComparisonBridgeStart(i.compareValue,l,r))("mat-calendar-body-comparison-bridge-end",f._isComparisonBridgeEnd(i.compareValue,l,r))("mat-calendar-body-comparison-start",f._isComparisonStart(i.compareValue))("mat-calendar-body-comparison-end",f._isComparisonEnd(i.compareValue))("mat-calendar-body-in-comparison-range",f._isInComparisonRange(i.compareValue))("mat-calendar-body-preview-start",f._isPreviewStart(i.compareValue))("mat-calendar-body-preview-end",f._isPreviewEnd(i.compareValue))("mat-calendar-body-in-preview",f._isInPreview(i.compareValue)),lt("ngClass",i.cssClasses)("tabindex",f._isActiveCell(l,r)?0:-1),Re("aria-label",i.ariaLabel)("aria-disabled",!i.enabled||null)("aria-pressed",f._isSelected(i.compareValue))("aria-current",f.todayValue===i.compareValue?"date":null)("aria-describedby",f._getDescribedby(i.compareValue)),H(),Be("mat-calendar-body-selected",f._isSelected(i.compareValue))("mat-calendar-body-comparison-identical",f._isComparisonIdentical(i.compareValue))("mat-calendar-body-today",f.todayValue===i.compareValue),H(),At(" ",i.displayValue," ")}}function Td(c,S){if(c&1&&(A(0,"tr",1),ft(1,Md,2,6,"td",4),pn(2,wd,5,48,"td",5,un),B()),c&2){let i=S.$implicit,r=S.$index,l=ot();H(),mi(1,r===0&&l._firstRowOffset?1:-1),H(),mn(i)}}function Sd(c,S){if(c&1&&(A(0,"th",2)(1,"span",6),U(2),B(),A(3,"span",3),U(4),B()()),c&2){let i=S.$implicit;H(2),Ci(i.long),H(2),Ci(i.narrow)}}var kd=["*"];function Dd(c,S){}function Pd(c,S){if(c&1){let i=se();A(0,"mat-month-view",2),ue("activeDateChange",function(l){ct(i);let f=ot();return ce(f.activeDate,l)||(f.activeDate=l),ut(l)}),pt("_userSelection",function(l){ct(i);let f=ot();return ut(f._dateSelected(l))})("dragStarted",function(l){ct(i);let f=ot();return ut(f._dragStarted(l))})("dragEnded",function(l){ct(i);let f=ot();return ut(f._dragEnded(l))}),B()}if(c&2){let i=ot();de("activeDate",i.activeDate),lt("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName)("activeDrag",i._activeDrag)}}function Id(c,S){if(c&1){let i=se();A(0,"mat-year-view",3),ue("activeDateChange",function(l){ct(i);let f=ot();return ce(f.activeDate,l)||(f.activeDate=l),ut(l)}),pt("monthSelected",function(l){ct(i);let f=ot();return ut(f._monthSelectedInYearView(l))})("selectedChange",function(l){ct(i);let f=ot();return ut(f._goToDateInView(l,"month"))}),B()}if(c&2){let i=ot();de("activeDate",i.activeDate),lt("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function Ad(c,S){if(c&1){let i=se();A(0,"mat-multi-year-view",4),ue("activeDateChange",function(l){ct(i);let f=ot();return ce(f.activeDate,l)||(f.activeDate=l),ut(l)}),pt("yearSelected",function(l){ct(i);let f=ot();return ut(f._yearSelectedInMultiYearView(l))})("selectedChange",function(l){ct(i);let f=ot();return ut(f._goToDateInView(l,"year"))}),B()}if(c&2){let i=ot();de("activeDate",i.activeDate),lt("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function Ed(c,S){}var Fd=["button"],Bd=[[["","matDatepickerToggleIcon",""]]],Od=["[matDatepickerToggleIcon]"];function Rd(c,S){c&1&&(So(),A(0,"svg",2),Et(1,"path",3),B())}var Vd=[[["input","matStartDate",""]],[["input","matEndDate",""]]],Ld=["input[matStartDate]","input[matEndDate]"];var ns=(()=>{class c{constructor(){this.changes=new ri,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(i,r){return`${i} \u2013 ${r}`}formatYearRangeLabel(i,r){return`${i} to ${r}`}static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275prov=He({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})(),es=class{constructor(S,i,r,l,f={},k=S,z){this.value=S,this.displayValue=i,this.ariaLabel=r,this.enabled=l,this.cssClasses=f,this.compareValue=k,this.rawValue=z}},Nd=1,Xl=Ba({passive:!1,capture:!0}),ua=Ba({passive:!0,capture:!0}),zs=Ba({passive:!0}),Wa=(()=>{class c{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(i,r){this._elementRef=i,this._ngZone=r,this._platform=Di(gn),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Bt,this.previewChange=new Bt,this.activeDateChange=new Bt,this.dragStarted=new Bt,this.dragEnded=new Bt,this._didDragSinceMouseDown=!1,this._enterHandler=l=>{if(this._skipNextFocus&&l.type==="focus"){this._skipNextFocus=!1;return}if(l.target&&this.isRange){let f=this._getCellFromElement(l.target);f&&this._ngZone.run(()=>this.previewChange.emit({value:f.enabled?f:null,event:l}))}},this._touchmoveHandler=l=>{if(!this.isRange)return;let f=jl(l),k=f?this._getCellFromElement(f):null;f!==l.target&&(this._didDragSinceMouseDown=!0),Ko(l.target)&&l.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:k?.enabled?k:null,event:l}))},this._leaveHandler=l=>{this.previewEnd!==null&&this.isRange&&(l.type!=="blur"&&(this._didDragSinceMouseDown=!0),l.target&&this._getCellFromElement(l.target)&&!(l.relatedTarget&&this._getCellFromElement(l.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:l})))},this._mousedownHandler=l=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let f=l.target&&this._getCellFromElement(l.target);!f||!this._isInRange(f.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:f.rawValue,event:l})})},this._mouseupHandler=l=>{if(!this.isRange)return;let f=Ko(l.target);if(!f){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:l})});return}f.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let k=this._getCellFromElement(f);this.dragEnded.emit({value:k?.rawValue??null,event:l})})},this._touchendHandler=l=>{let f=jl(l);f&&this._mouseupHandler({target:f})},this._id=`mat-calendar-body-${Nd++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,r.runOutsideAngular(()=>{let l=i.nativeElement;l.addEventListener("touchmove",this._touchmoveHandler,Xl),l.addEventListener("mouseenter",this._enterHandler,ua),l.addEventListener("focus",this._enterHandler,ua),l.addEventListener("mouseleave",this._leaveHandler,ua),l.addEventListener("blur",this._leaveHandler,ua),l.addEventListener("mousedown",this._mousedownHandler,zs),l.addEventListener("touchstart",this._mousedownHandler,zs),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(i,r){this._didDragSinceMouseDown||i.enabled&&this.selectedValueChange.emit({value:i.value,event:r})}_emitActiveDateChange(i,r){i.enabled&&this.activeDateChange.emit({value:i.value,event:r})}_isSelected(i){return this.startValue===i||this.endValue===i}ngOnChanges(i){let r=i.numCols,{rows:l,numCols:f}=this;(i.rows||r)&&(this._firstRowOffset=l&&l.length&&l[0].length?f-l[0].length:0),(i.cellAspectRatio||r||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/f}%`),(r||!this._cellWidth)&&(this._cellWidth=`${100/f}%`)}ngOnDestroy(){let i=this._elementRef.nativeElement;i.removeEventListener("touchmove",this._touchmoveHandler,Xl),i.removeEventListener("mouseenter",this._enterHandler,ua),i.removeEventListener("focus",this._enterHandler,ua),i.removeEventListener("mouseleave",this._leaveHandler,ua),i.removeEventListener("blur",this._leaveHandler,ua),i.removeEventListener("mousedown",this._mousedownHandler,zs),i.removeEventListener("touchstart",this._mousedownHandler,zs),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(i,r){let l=i*this.numCols+r;return i&&(l-=this._firstRowOffset),l==this.activeCell}_focusActiveCell(i=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Gi(1)).subscribe(()=>{setTimeout(()=>{let r=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");r&&(i||(this._skipNextFocus=!0),r.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(i){return Jo(i,this.startValue,this.endValue)}_isRangeEnd(i){return Zo(i,this.startValue,this.endValue)}_isInRange(i){return qo(i,this.startValue,this.endValue,this.isRange)}_isComparisonStart(i){return Jo(i,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(i,r,l){if(!this._isComparisonStart(i)||this._isRangeStart(i)||!this._isInRange(i))return!1;let f=this.rows[r][l-1];if(!f){let k=this.rows[r-1];f=k&&k[k.length-1]}return f&&!this._isRangeEnd(f.compareValue)}_isComparisonBridgeEnd(i,r,l){if(!this._isComparisonEnd(i)||this._isRangeEnd(i)||!this._isInRange(i))return!1;let f=this.rows[r][l+1];if(!f){let k=this.rows[r+1];f=k&&k[0]}return f&&!this._isRangeStart(f.compareValue)}_isComparisonEnd(i){return Zo(i,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(i){return qo(i,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(i){return this.comparisonStart===this.comparisonEnd&&i===this.comparisonStart}_isPreviewStart(i){return Jo(i,this.previewStart,this.previewEnd)}_isPreviewEnd(i){return Zo(i,this.previewStart,this.previewEnd)}_isInPreview(i){return qo(i,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(i){return this.isRange?this.startValue===i&&this.endValue===i?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===i?this._startDateLabelId:this.endValue===i?this._endDateLabelId:null:null}_getCellFromElement(i){let r=Ko(i);if(r){let l=r.getAttribute("data-mat-row"),f=r.getAttribute("data-mat-col");if(l&&f)return this.rows[parseInt(l)][parseInt(f)]}return null}static{this.\u0275fac=function(r){return new(r||c)(Y(we),Y(Ui))}}static{this.\u0275cmp=St({type:c,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[ke,Dt],attrs:yd,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(r,l){r&1&&(ft(0,Cd,3,6,"tr",0),pn(1,Td,4,1,"tr",1,un),A(3,"label",2),U(4),B(),A(5,"label",2),U(6),B()),r&2&&(mi(0,l._firstRowOffset<l.labelMinRequiredCells?0:-1),H(),mn(l.rows),H(2),lt("id",l._startDateLabelId),H(),At(" ",l.startDateAccessibleName,`
`),H(),lt("id",l._endDateLabelId),H(),At(" ",l.endDateAccessibleName,`
`))},dependencies:[Ur],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}}return c})();function Qo(c){return c?.nodeName==="TD"}function Ko(c){let S;return Qo(c)?S=c:Qo(c.parentNode)?S=c.parentNode:Qo(c.parentNode?.parentNode)&&(S=c.parentNode.parentNode),S?.getAttribute("data-mat-row")!=null?S:null}function Jo(c,S,i){return i!==null&&S!==i&&c<i&&c===S}function Zo(c,S,i){return S!==null&&S!==i&&c>=S&&c===i}function qo(c,S,i,r){return r&&S!==null&&i!==null&&S!==i&&c>=S&&c<=i}function jl(c){let S=c.changedTouches[0];return document.elementFromPoint(S.clientX,S.clientY)}var fi=class{constructor(S,i){this.start=S,this.end=i}},ga=(()=>{class c{constructor(i,r){this.selection=i,this._adapter=r,this._selectionChanged=new ri,this.selectionChanged=this._selectionChanged,this.selection=i}updateSelection(i,r){let l=this.selection;this.selection=i,this._selectionChanged.next({selection:i,source:r,oldValue:l})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(i){return this._adapter.isDateInstance(i)&&this._adapter.isValid(i)}static{this.\u0275fac=function(r){zr()}}static{this.\u0275prov=He({token:c,factory:c.\u0275fac})}}return c})(),Wd=(()=>{class c extends ga{constructor(i){super(null,i)}add(i){super.updateSelection(i,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let i=new c(this._adapter);return i.updateSelection(this.selection,this),i}static{this.\u0275fac=function(r){return new(r||c)(vi(ni))}}static{this.\u0275prov=He({token:c,factory:c.\u0275fac})}}return c})(),Yd=(()=>{class c extends ga{constructor(i){super(new fi(null,null),i)}add(i){let{start:r,end:l}=this.selection;r==null?r=i:l==null?l=i:(r=i,l=null),super.updateSelection(new fi(r,l),this)}isValid(){let{start:i,end:r}=this.selection;return i==null&&r==null?!0:i!=null&&r!=null?this._isValidDateInstance(i)&&this._isValidDateInstance(r)&&this._adapter.compareDate(i,r)<=0:(i==null||this._isValidDateInstance(i))&&(r==null||this._isValidDateInstance(r))}isComplete(){return this.selection.start!=null&&this.selection.end!=null}clone(){let i=new c(this._adapter);return i.updateSelection(this.selection,this),i}static{this.\u0275fac=function(r){return new(r||c)(vi(ni))}}static{this.\u0275prov=He({token:c,factory:c.\u0275fac})}}return c})();function zd(c,S){return c||new Wd(S)}var Jl={provide:ga,deps:[[new ps,new ms,ga],ni],useFactory:zd};function Hd(c,S){return c||new Yd(S)}var Xd={provide:ga,deps:[[new ps,new ms,ga],ni],useFactory:Hd},Hs=new ti("MAT_DATE_RANGE_SELECTION_STRATEGY"),jd=(()=>{class c{constructor(i){this._dateAdapter=i}selectionFinished(i,r){let{start:l,end:f}=r;return l==null?l=i:f==null&&i&&this._dateAdapter.compareDate(i,l)>=0?f=i:(l=i,f=null),new fi(l,f)}createPreview(i,r){let l=null,f=null;return r.start&&!r.end&&i&&(l=r.start,f=i),new fi(l,f)}createDrag(i,r,l){let f=r.start,k=r.end;if(!f||!k)return null;let z=this._dateAdapter,Pt=z.compareDate(f,k)!==0,P=z.getYear(l)-z.getYear(i),zt=z.getMonth(l)-z.getMonth(i),fe=z.getDate(l)-z.getDate(i);return Pt&&z.sameDate(i,r.start)?(f=l,z.compareDate(l,k)>0&&(k=z.addCalendarYears(k,P),k=z.addCalendarMonths(k,zt),k=z.addCalendarDays(k,fe))):Pt&&z.sameDate(i,r.end)?(k=l,z.compareDate(l,f)<0&&(f=z.addCalendarYears(f,P),f=z.addCalendarMonths(f,zt),f=z.addCalendarDays(f,fe))):(f=z.addCalendarYears(f,P),f=z.addCalendarMonths(f,zt),f=z.addCalendarDays(f,fe),k=z.addCalendarYears(k,P),k=z.addCalendarMonths(k,zt),k=z.addCalendarDays(k,fe)),new fi(f,k)}static{this.\u0275fac=function(r){return new(r||c)(vi(ni))}}static{this.\u0275prov=He({token:c,factory:c.\u0275fac})}}return c})();function Gd(c,S){return c||new jd(S)}var Ud={provide:Hs,deps:[[new ps,new ms,Hs],ni],useFactory:Gd},tr=7,Gl=(()=>{class c{get activeDate(){return this._activeDate}set activeDate(i){let r=this._activeDate,l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(l,this.minDate,this.maxDate),this._hasSameMonthAndYear(r,this._activeDate)||this._init()}get selected(){return this._selected}set selected(i){i instanceof fi?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}constructor(i,r,l,f,k){this._changeDetectorRef=i,this._dateFormats=r,this._dateAdapter=l,this._dir=f,this._rangeStrategy=k,this._rerenderSubscription=oi.EMPTY,this.activeDrag=null,this.selectedChange=new Bt,this._userSelection=new Bt,this.dragStarted=new Bt,this.dragEnded=new Bt,this.activeDateChange=new Bt,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(wn(null)).subscribe(()=>this._init())}ngOnChanges(i){let r=i.comparisonStart||i.comparisonEnd;r&&!r.firstChange&&this._setRanges(this.selected),i.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(i){let r=i.value,l=this._getDateFromDayOfMonth(r),f,k;this._selected instanceof fi?(f=this._getDateInCurrentMonth(this._selected.start),k=this._getDateInCurrentMonth(this._selected.end)):f=k=this._getDateInCurrentMonth(this._selected),(f!==r||k!==r)&&this.selectedChange.emit(l),this._userSelection.emit({value:l,event:i.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(i){let r=i.value,l=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(r),this._dateAdapter.compareDate(l,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(i){let r=this._activeDate,l=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,l?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,l?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=i.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&i.preventDefault();return;case 27:this._previewEnd!=null&&!en(i)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:i}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:i})),i.preventDefault(),i.stopPropagation());return;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),i.preventDefault()}_handleCalendarBodyKeyup(i){(i.keyCode===32||i.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(tr+this._dateAdapter.getDayOfWeek(i)-this._dateAdapter.getFirstDayOfWeek())%tr,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(i){this._matCalendarBody._focusActiveCell(i)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:i,value:r}){if(this._rangeStrategy){let l=r?r.rawValue:null,f=this._rangeStrategy.createPreview(l,this.selected,i);if(this._previewStart=this._getCellCompareValue(f.start),this._previewEnd=this._getCellCompareValue(f.end),this.activeDrag&&l){let k=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,l,i);k&&(this._previewStart=this._getCellCompareValue(k.start),this._previewEnd=this._getCellCompareValue(k.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(i){if(this.activeDrag)if(i.value){let r=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,i.value,i.event);this.dragEnded.emit({value:r??null,event:i.event})}else this.dragEnded.emit({value:null,event:i.event})}_getDateFromDayOfMonth(i){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i)}_initWeekdays(){let i=this._dateAdapter.getFirstDayOfWeek(),r=this._dateAdapter.getDayOfWeekNames("narrow"),f=this._dateAdapter.getDayOfWeekNames("long").map((k,z)=>({long:k,narrow:r[z]}));this._weekdays=f.slice(i).concat(f.slice(0,i))}_createWeekCells(){let i=this._dateAdapter.getNumDaysInMonth(this.activeDate),r=this._dateAdapter.getDateNames();this._weeks=[[]];for(let l=0,f=this._firstWeekOffset;l<i;l++,f++){f==tr&&(this._weeks.push([]),f=0);let k=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),l+1),z=this._shouldEnableDate(k),Pt=this._dateAdapter.format(k,this._dateFormats.display.dateA11yLabel),P=this.dateClass?this.dateClass(k,"month"):void 0;this._weeks[this._weeks.length-1].push(new es(l+1,r[l],Pt,z,P,this._getCellCompareValue(k),k))}}_shouldEnableDate(i){return!!i&&(!this.minDate||this._dateAdapter.compareDate(i,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(i,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(i))}_getDateInCurrentMonth(i){return i&&this._hasSameMonthAndYear(i,this.activeDate)?this._dateAdapter.getDate(i):null}_hasSameMonthAndYear(i,r){return!!(i&&r&&this._dateAdapter.getMonth(i)==this._dateAdapter.getMonth(r)&&this._dateAdapter.getYear(i)==this._dateAdapter.getYear(r))}_getCellCompareValue(i){if(i){let r=this._dateAdapter.getYear(i),l=this._dateAdapter.getMonth(i),f=this._dateAdapter.getDate(i);return new Date(r,l,f).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(i){i instanceof fi?(this._rangeStart=this._getCellCompareValue(i.start),this._rangeEnd=this._getCellCompareValue(i.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(i),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(i){return!this.dateFilter||this.dateFilter(i)}_clearPreview(){this._previewStart=this._previewEnd=null}static{this.\u0275fac=function(r){return new(r||c)(Y(ii),Y(hn,8),Y(ni,8),Y(Si,8),Y(Hs,8))}}static{this.\u0275cmp=St({type:c,selectors:[["mat-month-view"]],viewQuery:function(r,l){if(r&1&&ve(Wa,5),r&2){let f;Lt(f=Nt())&&(l._matCalendarBody=f.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[ke,Dt],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(r,l){r&1&&(A(0,"table",0)(1,"thead",1)(2,"tr"),pn(3,Sd,5,2,"th",2,un),B(),A(5,"tr",3),Et(6,"th",4),B()(),A(7,"tbody",5),pt("selectedValueChange",function(k){return l._dateSelected(k)})("activeDateChange",function(k){return l._updateActiveDate(k)})("previewChange",function(k){return l._previewChanged(k)})("dragStarted",function(k){return l.dragStarted.emit(k)})("dragEnded",function(k){return l._dragEnded(k)})("keyup",function(k){return l._handleCalendarBodyKeyup(k)})("keydown",function(k){return l._handleCalendarBodyKeydown(k)}),B()()),r&2&&(H(3),mn(l._weekdays),H(4),lt("label",l._monthLabel)("rows",l._weeks)("todayValue",l._todayDate)("startValue",l._rangeStart)("endValue",l._rangeEnd)("comparisonStart",l._comparisonRangeStart)("comparisonEnd",l._comparisonRangeEnd)("previewStart",l._previewStart)("previewEnd",l._previewEnd)("isRange",l._isRange)("labelMinRequiredCells",3)("activeCell",l._dateAdapter.getDate(l.activeDate)-1)("startDateAccessibleName",l.startDateAccessibleName)("endDateAccessibleName",l.endDateAccessibleName))},dependencies:[Wa],encapsulation:2,changeDetection:0})}}return c})(),sn=24,er=4,Ul=(()=>{class c{get activeDate(){return this._activeDate}set activeDate(i){let r=this._activeDate,l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(l,this.minDate,this.maxDate),Zl(this._dateAdapter,r,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(i){i instanceof fi?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedYear(i)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}constructor(i,r,l){this._changeDetectorRef=i,this._dateAdapter=r,this._dir=l,this._rerenderSubscription=oi.EMPTY,this.selectedChange=new Bt,this.yearSelected=new Bt,this.activeDateChange=new Bt,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(wn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let r=this._dateAdapter.getYear(this._activeDate)-ts(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let l=0,f=[];l<sn;l++)f.push(r+l),f.length==er&&(this._years.push(f.map(k=>this._createCellForYear(k))),f=[]);this._changeDetectorRef.markForCheck()}_yearSelected(i){let r=i.value,l=this._dateAdapter.createDate(r,0,1),f=this._getDateFromYear(r);this.yearSelected.emit(l),this.selectedChange.emit(f)}_updateActiveDate(i){let r=i.value,l=this._activeDate;this.activeDate=this._getDateFromYear(r),this._dateAdapter.compareDate(l,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(i){let r=this._activeDate,l=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,l?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,l?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-er);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,er);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-ts(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,sn-ts(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-sn*10:-sn);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?sn*10:sn);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),i.preventDefault()}_handleCalendarBodyKeyup(i){(i.keyCode===32||i.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_getActiveCell(){return ts(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(i){let r=this._dateAdapter.getMonth(this.activeDate),l=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,r,1));return this._dateAdapter.createDate(i,r,Math.min(this._dateAdapter.getDate(this.activeDate),l))}_createCellForYear(i){let r=this._dateAdapter.createDate(i,0,1),l=this._dateAdapter.getYearName(r),f=this.dateClass?this.dateClass(r,"multi-year"):void 0;return new es(i,l,l,this._shouldEnableYear(i),f)}_shouldEnableYear(i){if(i==null||this.maxDate&&i>this._dateAdapter.getYear(this.maxDate)||this.minDate&&i<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(i,0,1);for(let l=r;this._dateAdapter.getYear(l)==i;l=this._dateAdapter.addCalendarDays(l,1))if(this.dateFilter(l))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(i){if(this._selectedYear=null,i instanceof fi){let r=i.start||i.end;r&&(this._selectedYear=this._dateAdapter.getYear(r))}else i&&(this._selectedYear=this._dateAdapter.getYear(i))}static{this.\u0275fac=function(r){return new(r||c)(Y(ii),Y(ni,8),Y(Si,8))}}static{this.\u0275cmp=St({type:c,selectors:[["mat-multi-year-view"]],viewQuery:function(r,l){if(r&1&&ve(Wa,5),r&2){let f;Lt(f=Nt())&&(l._matCalendarBody=f.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[Dt],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(r,l){r&1&&(A(0,"table",0)(1,"thead",1)(2,"tr"),Et(3,"th",2),B()(),A(4,"tbody",3),pt("selectedValueChange",function(k){return l._yearSelected(k)})("activeDateChange",function(k){return l._updateActiveDate(k)})("keyup",function(k){return l._handleCalendarBodyKeyup(k)})("keydown",function(k){return l._handleCalendarBodyKeydown(k)}),B()()),r&2&&(H(4),lt("rows",l._years)("todayValue",l._todayYear)("startValue",l._selectedYear)("endValue",l._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",l._getActiveCell()))},dependencies:[Wa],encapsulation:2,changeDetection:0})}}return c})();function Zl(c,S,i,r,l){let f=c.getYear(S),k=c.getYear(i),z=ql(c,r,l);return Math.floor((f-z)/sn)===Math.floor((k-z)/sn)}function ts(c,S,i,r){let l=c.getYear(S);return $d(l-ql(c,i,r),sn)}function ql(c,S,i){let r=0;return i?r=c.getYear(i)-sn+1:S&&(r=c.getYear(S)),r}function $d(c,S){return(c%S+S)%S}var $l=(()=>{class c{get activeDate(){return this._activeDate}set activeDate(i){let r=this._activeDate,l=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(l,this.minDate,this.maxDate),this._dateAdapter.getYear(r)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(i){i instanceof fi?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i)),this._setSelectedMonth(i)}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}constructor(i,r,l,f){this._changeDetectorRef=i,this._dateFormats=r,this._dateAdapter=l,this._dir=f,this._rerenderSubscription=oi.EMPTY,this.selectedChange=new Bt,this.monthSelected=new Bt,this.activeDateChange=new Bt,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(wn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(i){let r=i.value,l=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),r,1);this.monthSelected.emit(l);let f=this._getDateFromMonth(r);this.selectedChange.emit(f)}_updateActiveDate(i){let r=i.value,l=this._activeDate;this.activeDate=this._getDateFromMonth(r),this._dateAdapter.compareDate(l,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(i){let r=this._activeDate,l=this._isRtl();switch(i.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,l?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,l?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),i.preventDefault()}_handleCalendarBodyKeyup(i){(i.keyCode===32||i.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:i}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let i=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(r=>r.map(l=>this._createCellForMonth(l,i[l]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(i){return i&&this._dateAdapter.getYear(i)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(i):null}_getDateFromMonth(i){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),l=this._dateAdapter.getNumDaysInMonth(r);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),l))}_createCellForMonth(i,r){let l=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1),f=this._dateAdapter.format(l,this._dateFormats.display.monthYearA11yLabel),k=this.dateClass?this.dateClass(l,"year"):void 0;return new es(i,r.toLocaleUpperCase(),f,this._shouldEnableMonth(i),k)}_shouldEnableMonth(i){let r=this._dateAdapter.getYear(this.activeDate);if(i==null||this._isYearAndMonthAfterMaxDate(r,i)||this._isYearAndMonthBeforeMinDate(r,i))return!1;if(!this.dateFilter)return!0;let l=this._dateAdapter.createDate(r,i,1);for(let f=l;this._dateAdapter.getMonth(f)==i;f=this._dateAdapter.addCalendarDays(f,1))if(this.dateFilter(f))return!0;return!1}_isYearAndMonthAfterMaxDate(i,r){if(this.maxDate){let l=this._dateAdapter.getYear(this.maxDate),f=this._dateAdapter.getMonth(this.maxDate);return i>l||i===l&&r>f}return!1}_isYearAndMonthBeforeMinDate(i,r){if(this.minDate){let l=this._dateAdapter.getYear(this.minDate),f=this._dateAdapter.getMonth(this.minDate);return i<l||i===l&&r<f}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(i){i instanceof fi?this._selectedMonth=this._getMonthInCurrentYear(i.start)||this._getMonthInCurrentYear(i.end):this._selectedMonth=this._getMonthInCurrentYear(i)}static{this.\u0275fac=function(r){return new(r||c)(Y(ii),Y(hn,8),Y(ni,8),Y(Si,8))}}static{this.\u0275cmp=St({type:c,selectors:[["mat-year-view"]],viewQuery:function(r,l){if(r&1&&ve(Wa,5),r&2){let f;Lt(f=Nt())&&(l._matCalendarBody=f.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[Dt],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(r,l){r&1&&(A(0,"table",0)(1,"thead",1)(2,"tr"),Et(3,"th",2),B()(),A(4,"tbody",3),pt("selectedValueChange",function(k){return l._monthSelected(k)})("activeDateChange",function(k){return l._updateActiveDate(k)})("keyup",function(k){return l._handleCalendarBodyKeyup(k)})("keydown",function(k){return l._handleCalendarBodyKeydown(k)}),B()()),r&2&&(H(4),lt("label",l._yearLabel)("rows",l._months)("todayValue",l._todayMonth)("startValue",l._selectedMonth)("endValue",l._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",l._dateAdapter.getMonth(l.activeDate)))},dependencies:[Wa],encapsulation:2,changeDetection:0})}}return c})(),Qd=1,th=(()=>{class c{constructor(i,r,l,f,k){this._intl=i,this.calendar=r,this._dateAdapter=l,this._dateFormats=f,this._id=`mat-calendar-header-${Qd++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>k.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-sn)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:sn)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(i,r){return this.calendar.currentView=="month"?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(r)&&this._dateAdapter.getMonth(i)==this._dateAdapter.getMonth(r):this.calendar.currentView=="year"?this._dateAdapter.getYear(i)==this._dateAdapter.getYear(r):Zl(this._dateAdapter,i,r,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let r=this._dateAdapter.getYear(this.calendar.activeDate)-ts(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),l=r+sn-1,f=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1)),k=this._dateAdapter.getYearName(this._dateAdapter.createDate(l,0,1));return[f,k]}static{this.\u0275fac=function(r){return new(r||c)(Y(ns),Y(Gn(()=>ir)),Y(ni,8),Y(hn,8),Y(ii))}}static{this.\u0275cmp=St({type:c,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[Dt],ngContentSelectors:kd,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],[1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(r,l){r&1&&(yi(),A(0,"div",0)(1,"div",1)(2,"label",2),U(3),B(),A(4,"button",3),pt("click",function(){return l.currentPeriodClicked()}),A(5,"span",4),U(6),B(),So(),A(7,"svg",5),Et(8,"polygon",6),B()(),Wr(),Et(9,"div",7),Ge(10),A(11,"button",8),pt("click",function(){return l.previousClicked()}),B(),A(12,"button",9),pt("click",function(){return l.nextClicked()}),B()()()),r&2&&(H(2),lt("id",l._periodButtonLabelId),H(),Ci(l.periodButtonDescription),H(),Re("aria-label",l.periodButtonLabel)("aria-describedby",l._periodButtonLabelId),H(2),Ci(l.periodButtonText),H(),Be("mat-calendar-invert",l.calendar.currentView!=="month"),H(4),lt("disabled",!l.previousEnabled()),Re("aria-label",l.prevButtonLabel),H(),lt("disabled",!l.nextEnabled()),Re("aria-label",l.nextButtonLabel))},dependencies:[Ro,an],encapsulation:2,changeDetection:0})}}return c})(),ir=(()=>{class c{get startAt(){return this._startAt}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get selected(){return this._selected}set selected(i){i instanceof fi?this._selected=i:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get minDate(){return this._minDate}set minDate(i){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get maxDate(){return this._maxDate}set maxDate(i){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get activeDate(){return this._clampedActiveDate}set activeDate(i){this._clampedActiveDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(i){let r=this._currentView!==i?i:null;this._currentView=i,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),r&&this.viewChanged.emit(r)}constructor(i,r,l,f){this._dateAdapter=r,this._dateFormats=l,this._changeDetectorRef=f,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Bt,this.yearSelected=new Bt,this.monthSelected=new Bt,this.viewChanged=new Bt(!0),this._userSelection=new Bt,this._userDragDrop=new Bt,this._activeDrag=null,this.stateChanges=new ri,this._intlChanges=i.changes.subscribe(()=>{f.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Vo(this.headerComponent||th),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(i){let r=i.minDate&&!this._dateAdapter.sameDate(i.minDate.previousValue,i.minDate.currentValue)?i.minDate:void 0,l=i.maxDate&&!this._dateAdapter.sameDate(i.maxDate.previousValue,i.maxDate.currentValue)?i.maxDate:void 0,f=r||l||i.dateFilter;if(f&&!f.firstChange){let k=this._getCurrentViewComponent();k&&(this._changeDetectorRef.detectChanges(),k._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(i){let r=i.value;(this.selected instanceof fi||r&&!this._dateAdapter.sameDate(r,this.selected))&&this.selectedChange.emit(r),this._userSelection.emit(i)}_yearSelectedInMultiYearView(i){this.yearSelected.emit(i)}_monthSelectedInYearView(i){this.monthSelected.emit(i)}_goToDateInView(i,r){this.activeDate=i,this.currentView=r}_dragStarted(i){this._activeDrag=i}_dragEnded(i){this._activeDrag&&(i.value&&this._userDragDrop.emit(i),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static{this.\u0275fac=function(r){return new(r||c)(Y(ns),Y(ni,8),Y(hn,8),Y(ii))}}static{this.\u0275cmp=St({type:c,selectors:[["mat-calendar"]],viewQuery:function(r,l){if(r&1&&(ve(Gl,5),ve($l,5),ve(Ul,5)),r&2){let f;Lt(f=Nt())&&(l.monthView=f.first),Lt(f=Nt())&&(l.yearView=f.first),Lt(f=Nt())&&(l.multiYearView=f.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[ye([Jl]),ke,Dt],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(r,l){if(r&1&&(ft(0,Dd,0,0,"ng-template",0),A(1,"div",1),ft(2,Pd,1,11)(3,Id,1,6)(4,Ad,1,6),B()),r&2){let f;lt("cdkPortalOutlet",l._calendarHeaderPortal),H(2),mi(2,(f=l.currentView)==="month"?2:f==="year"?3:f==="multi-year"?4:-1)}},dependencies:[Sa,$a,Gl,$l,Ul],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight);--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return c})(),Ql={transformPanel:wa("transformPanel",[ln("void => enter-dropdown",tn("120ms cubic-bezier(0, 0, 0.2, 1)",Ao([gi({opacity:0,transform:"scale(1, 0.8)"}),gi({opacity:1,transform:"scale(1, 1)"})]))),ln("void => enter-dialog",tn("150ms cubic-bezier(0, 0, 0.2, 1)",Ao([gi({opacity:0,transform:"scale(0.7)"}),gi({transform:"none",opacity:1})]))),ln("* => void",tn("100ms linear",gi({opacity:0})))]),fadeInCalendar:wa("fadeInCalendar",[$n("void",gi({opacity:0})),$n("enter",gi({opacity:1})),ln("void => *",tn("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},Kd=0,eh=new ti("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let c=Di(kn);return()=>c.scrollStrategies.reposition()}});function Jd(c){return()=>c.scrollStrategies.reposition()}var Zd={provide:eh,deps:[kn],useFactory:Jd},ih=(()=>{class c{constructor(i,r,l,f,k,z){this._elementRef=i,this._changeDetectorRef=r,this._globalModel=l,this._dateAdapter=f,this._rangeSelectionStrategy=k,this._subscriptions=new oi,this._animationDone=new ri,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=z.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(i){let r=this._model.selection,l=i.value,f=r instanceof fi;if(f&&this._rangeSelectionStrategy){let k=this._rangeSelectionStrategy.selectionFinished(l,r,i.event);this._model.updateSelection(k,this)}else l&&(f||!this._dateAdapter.sameDate(l,r))&&this._model.add(l);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(i){this._model.updateSelection(i.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(i){this._isAnimating=i.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(i,r){this._model=i?this._globalModel.clone():this._globalModel,this._actionsPortal=i,r&&this._changeDetectorRef.detectChanges()}static{this.\u0275fac=function(r){return new(r||c)(Y(we),Y(ii),Y(ga),Y(ni),Y(Hs,8),Y(ns))}}static{this.\u0275cmp=St({type:c,selectors:[["mat-datepicker-content"]],viewQuery:function(r,l){if(r&1&&ve(ir,5),r&2){let f;Lt(f=Nt())&&(l._calendar=f.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(r,l){r&1&&jr("@transformPanel.start",function(k){return l._handleAnimationEvent(k)})("@transformPanel.done",function(k){return l._handleAnimationEvent(k)}),r&2&&(Xr("@transformPanel",l._animationState),Tn(l.color?"mat-"+l.color:""),Be("mat-datepicker-content-touch",l.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[Dt],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(r,l){if(r&1&&(A(0,"div",0)(1,"mat-calendar",1),pt("yearSelected",function(k){return l.datepicker._selectYear(k)})("monthSelected",function(k){return l.datepicker._selectMonth(k)})("viewChanged",function(k){return l.datepicker._viewChanged(k)})("_userSelection",function(k){return l._handleUserSelection(k)})("_userDragDrop",function(k){return l._handleUserDragDrop(k)}),B(),ft(2,Ed,0,0,"ng-template",2),A(3,"button",3),pt("focus",function(){return l._closeButtonFocused=!0})("blur",function(){return l._closeButtonFocused=!1})("click",function(){return l.datepicker.close()}),U(4),B()()),r&2){let f;Be("mat-datepicker-content-container-with-custom-header",l.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",l._actionsPortal),Re("aria-modal",!0)("aria-labelledby",(f=l._dialogLabelId)!==null&&f!==void 0?f:void 0),H(),Tn(l.datepicker.panelClass),lt("id",l.datepicker.id)("startAt",l.datepicker.startAt)("startView",l.datepicker.startView)("minDate",l.datepicker._getMinDate())("maxDate",l.datepicker._getMaxDate())("dateFilter",l.datepicker._getDateFilter())("headerComponent",l.datepicker.calendarHeaderComponent)("selected",l._getSelected())("dateClass",l.datepicker.dateClass)("comparisonStart",l.comparisonStart)("comparisonEnd",l.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",l.startDateAccessibleName)("endDateAccessibleName",l.endDateAccessibleName),H(),lt("cdkPortalOutlet",l._actionsPortal),H(),Be("cdk-visually-hidden",!l._closeButtonFocused),lt("color",l.color||"primary"),H(),Ci(l._closeButtonText)}},dependencies:[sl,ir,Sa,Ro],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color);box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape);position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Ql.transformPanel,Ql.fadeInCalendar]},changeDetection:0})}}return c})(),Xs=(()=>{class c{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(i){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(i){this._color=i}get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(i){i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(i){this._panelClass=tl(i)}get opened(){return this._opened}set opened(i){i?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(i,r,l,f,k,z,Pt){this._overlay=i,this._ngZone=r,this._viewContainerRef=l,this._dateAdapter=k,this._dir=z,this._model=Pt,this._inputStateChanges=oi.EMPTY,this._document=Di(ia),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new Bt,this.monthSelected=new Bt,this.viewChanged=new Bt(!0),this.openedStream=new Bt,this.closedStream=new Bt,this._opened=!1,this.id=`mat-datepicker-${Kd++}`,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new ri,this._dateAdapter,this._scrollStrategy=f}ngOnChanges(i){let r=i.xPosition||i.yPosition;if(r&&!r.firstChange&&this._overlayRef){let l=this._overlayRef.getConfig().positionStrategy;l instanceof Al&&(this._setConnectedPositions(l),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(i){this._model.add(i)}_selectYear(i){this.yearSelected.emit(i)}_selectMonth(i){this.monthSelected.emit(i)}_viewChanged(i){this.viewChanged.emit(i)}registerInput(i){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=i,this._inputStateChanges=i.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(i){this._actionsPortal,this._actionsPortal=i,this._componentRef?.instance._assignActions(i,!0)}removeActions(i){i===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=Jr(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let i=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",r=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:l,location:f}=this._componentRef;l._startExitAnimation(),l._animationDone.pipe(Gi(1)).subscribe(()=>{let k=this._document.activeElement;i&&(!k||k===this._document.activeElement||f.nativeElement.contains(k))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}i?setTimeout(r):r()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(i){i.datepicker=this,i.color=this.color,i._dialogLabelId=this.datepickerInput.getOverlayLabelId(),i._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let i=this.touchUi,r=new Vo(ih,this._viewContainerRef),l=this._overlayRef=this._overlay.create(new As({positionStrategy:i?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[i?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:i?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${i?"dialog":"popup"}`}));this._getCloseStream(l).subscribe(f=>{f&&f.preventDefault(),this.close()}),l.keydownEvents().subscribe(f=>{let k=f.keyCode;(k===38||k===40||k===37||k===39||k===33||k===34)&&f.preventDefault()}),this._componentRef=l.attach(r),this._forwardContentValues(this._componentRef.instance),i||this._ngZone.onStable.pipe(Gi(1)).subscribe(()=>l.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let i=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(i)}_setConnectedPositions(i){let r=this.xPosition==="end"?"end":"start",l=r==="start"?"end":"start",f=this.yPosition==="above"?"bottom":"top",k=f==="top"?"bottom":"top";return i.withPositions([{originX:r,originY:k,overlayX:r,overlayY:f},{originX:r,originY:f,overlayX:r,overlayY:k},{originX:l,originY:k,overlayX:l,overlayY:f},{originX:l,originY:f,overlayX:l,overlayY:k}])}_getCloseStream(i){let r=["ctrlKey","shiftKey","metaKey"];return Ti(i.backdropClick(),i.detachments(),i.keydownEvents().pipe(Vt(l=>l.keyCode===27&&!en(l)||this.datepickerInput&&en(l,"altKey")&&l.keyCode===38&&r.every(f=>!en(l,f)))))}static{this.\u0275fac=function(r){return new(r||c)(Y(kn),Y(Ui),Y(zi),Y(eh),Y(ni,8),Y(Si,8),Y(ga))}}static{this.\u0275dir=Jt({type:c,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[kt.HasDecoratorInputTransform,"touchUi","touchUi",me],disabled:[kt.HasDecoratorInputTransform,"disabled","disabled",me],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[kt.HasDecoratorInputTransform,"restoreFocus","restoreFocus",me],dateClass:"dateClass",panelClass:"panelClass",opened:[kt.HasDecoratorInputTransform,"opened","opened",me]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Qe,ke]})}}return c})(),nh=(()=>{class c extends Xs{static{this.\u0275fac=(()=>{let i;return function(l){return(i||(i=Yi(c)))(l||c)}})()}static{this.\u0275cmp=St({type:c,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],standalone:!0,features:[ye([Jl,{provide:Xs,useExisting:c}]),Ee,Dt],decls:0,vars:0,template:function(r,l){},encapsulation:2,changeDetection:0})}}return c})(),Na=class{constructor(S,i){this.target=S,this.targetElement=i,this.value=this.target.value}},ah=(()=>{class c{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(i){this._assignValueProgrammatically(i)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(i){let r=i,l=this._elementRef.nativeElement;this._disabled!==r&&(this._disabled=r,this.stateChanges.next(void 0)),r&&this._isInitialized&&l.blur&&l.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(i){this._model=i,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(r=>{if(this._shouldHandleChangeEvent(r)){let l=this._getValueFromModel(r.selection);this._lastValueValid=this._isValidValue(l),this._cvaOnChange(l),this._onTouched(),this._formatValue(l),this.dateInput.emit(new Na(this,this._elementRef.nativeElement)),this.dateChange.emit(new Na(this,this._elementRef.nativeElement))}})}constructor(i,r,l){this._elementRef=i,this._dateAdapter=r,this._dateFormats=l,this.dateChange=new Bt,this.dateInput=new Bt,this.stateChanges=new ri,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=oi.EMPTY,this._localeSubscription=oi.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=f=>{let k=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(f.value));return!k||this._matchesFilter(k)?null:{matDatepickerFilter:!0}},this._minValidator=f=>{let k=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(f.value)),z=this._getMinDate();return!z||!k||this._dateAdapter.compareDate(z,k)<=0?null:{matDatepickerMin:{min:z,actual:k}}},this._maxValidator=f=>{let k=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(f.value)),z=this._getMaxDate();return!z||!k||this._dateAdapter.compareDate(z,k)>=0?null:{matDatepickerMax:{max:z,actual:k}}},this._lastValueValid=!1,this._localeSubscription=r.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(i){sh(i,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(i){this._validatorOnChange=i}validate(i){return this._validator?this._validator(i):null}writeValue(i){this._assignValueProgrammatically(i)}registerOnChange(i){this._cvaOnChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}_onKeydown(i){let r=["ctrlKey","shiftKey","metaKey"];en(i,"altKey")&&i.keyCode===40&&r.every(f=>!en(i,f))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),i.preventDefault())}_onInput(i){let r=this._lastValueValid,l=this._dateAdapter.parse(i,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(l),l=this._dateAdapter.getValidDateOrNull(l);let f=!this._dateAdapter.sameDate(l,this.value);!l||f?this._cvaOnChange(l):(i&&!this.value&&this._cvaOnChange(l),r!==this._lastValueValid&&this._validatorOnChange()),f&&(this._assignValue(l),this.dateInput.emit(new Na(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Na(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(i){this._elementRef.nativeElement.value=i!=null?this._dateAdapter.format(i,this._dateFormats.display.dateInput):""}_assignValue(i){this._model?(this._assignValueToModel(i),this._pendingValue=null):this._pendingValue=i}_isValidValue(i){return!i||this._dateAdapter.isValid(i)}_parentDisabled(){return!1}_assignValueProgrammatically(i){i=this._dateAdapter.deserialize(i),this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i),this._assignValue(i),this._formatValue(i)}_matchesFilter(i){let r=this._getDateFilter();return!r||r(i)}static{this.\u0275fac=function(r){return new(r||c)(Y(we),Y(ni,8),Y(hn,8))}}static{this.\u0275dir=Jt({type:c,inputs:{value:"value",disabled:[kt.HasDecoratorInputTransform,"disabled","disabled",me]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[Qe,ke]})}}return c})();function sh(c,S){let i=Object.keys(c);for(let r of i){let{previousValue:l,currentValue:f}=c[r];if(S.isDateInstance(l)&&S.isDateInstance(f)){if(!S.sameDate(l,f))return!0}else return!0}return!1}var qd={provide:Oa,useExisting:Gn(()=>Us),multi:!0},tc={provide:Ms,useExisting:Gn(()=>Us),multi:!0},Us=(()=>{class c extends ah{set matDatepicker(i){i&&(this._datepicker=i,this._closedSubscription=i.closedStream.subscribe(()=>this._onTouched()),this._registerModel(i.registerInput(this)))}get min(){return this._min}set min(i){let r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(r,this._min)||(this._min=r,this._validatorOnChange())}get max(){return this._max}set max(i){let r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(r,this._max)||(this._max=r,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(i){let r=this._matchesFilter(this.value);this._dateFilter=i,this._matchesFilter(this.value)!==r&&this._validatorOnChange()}constructor(i,r,l,f){super(i,r,l),this._formField=f,this._closedSubscription=oi.EMPTY,this._validator=Ji.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(i){return i}_assignValueToModel(i){this._model&&this._model.updateSelection(i,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(i){return i.source!==this}static{this.\u0275fac=function(r){return new(r||c)(Y(we),Y(ni,8),Y(hn,8),Y(Qa,8))}}static{this.\u0275dir=Jt({type:c,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(r,l){r&1&&pt("input",function(k){return l._onInput(k.target.value)})("change",function(){return l._onChange()})("blur",function(){return l._onBlur()})("keydown",function(k){return l._onKeydown(k)}),r&2&&(Ga("disabled",l.disabled),Re("aria-haspopup",l._datepicker?"dialog":null)("aria-owns",(l._datepicker==null?null:l._datepicker.opened)&&l._datepicker.id||null)("min",l.min?l._dateAdapter.toIso8601(l.min):null)("max",l.max?l._dateAdapter.toIso8601(l.max):null)("data-mat-calendar",l._datepicker?l._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[kt.None,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],standalone:!0,features:[ye([qd,tc,{provide:Ml,useExisting:c}]),Ee]})}}return c})(),ec=(()=>{class c{static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275dir=Jt({type:c,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}}return c})(),as=(()=>{class c{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(i){this._disabled=i}constructor(i,r,l){this._intl=i,this._changeDetectorRef=r,this._stateChanges=oi.EMPTY;let f=Number(l);this.tabIndex=f||f===0?f:null}ngOnChanges(i){i.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(i){this.datepicker&&!this.disabled&&(this.datepicker.open(),i.stopPropagation())}_watchStateChanges(){let i=this.datepicker?this.datepicker.stateChanges:ji(),r=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:ji(),l=this.datepicker?Ti(this.datepicker.openedStream,this.datepicker.closedStream):ji();this._stateChanges.unsubscribe(),this._stateChanges=Ti(this._intl.changes,i,r,l).subscribe(()=>this._changeDetectorRef.markForCheck())}static{this.\u0275fac=function(r){return new(r||c)(Y(ns),Y(ii),Ea("tabindex"))}}static{this.\u0275cmp=St({type:c,selectors:[["mat-datepicker-toggle"]],contentQueries:function(r,l,f){if(r&1&&Xe(f,ec,5),r&2){let k;Lt(k=Nt())&&(l._customIcon=k.first)}},viewQuery:function(r,l){if(r&1&&ve(Fd,5),r&2){let f;Lt(f=Nt())&&(l._button=f.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(r,l){r&1&&pt("click",function(k){return l._open(k)}),r&2&&(Re("tabindex",null)("data-mat-calendar",l.datepicker?l.datepicker.id:null),Be("mat-datepicker-toggle-active",l.datepicker&&l.datepicker.opened)("mat-accent",l.datepicker&&l.datepicker.color==="accent")("mat-warn",l.datepicker&&l.datepicker.color==="warn"))},inputs:{datepicker:[kt.None,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[kt.None,"aria-label","ariaLabel"],disabled:[kt.HasDecoratorInputTransform,"disabled","disabled",me],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[Qe,ke,Dt],ngContentSelectors:Od,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(r,l){r&1&&(yi(Bd),A(0,"button",1,0),ft(2,Rd,2,0,":svg:svg",2),Ge(3),B()),r&2&&(lt("disabled",l.disabled)("disableRipple",l.disableRipple),Re("aria-haspopup",l.datepicker?"dialog":null)("aria-label",l.ariaLabel||l._intl.openCalendarLabel)("tabindex",l.disabled?-1:l.tabIndex),H(2),mi(2,l._customIcon?-1:2))},dependencies:[an],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}}return c})();function ic(c){return nr(c,!0)}function Kl(c){return c.nodeType===Node.ELEMENT_NODE}function nc(c){return c.nodeName==="INPUT"}function ac(c){return c.nodeName==="TEXTAREA"}function nr(c,S){if(Kl(c)&&S){let r=(c.getAttribute?.("aria-labelledby")?.split(/\s+/g)||[]).reduce((l,f)=>{let k=document.getElementById(f);return k&&l.push(k),l},[]);if(r.length)return r.map(l=>nr(l,!1)).join(" ")}if(Kl(c)){let i=c.getAttribute("aria-label")?.trim();if(i)return i}if(nc(c)||ac(c)){if(c.labels?.length)return Array.from(c.labels).map(l=>nr(l,!1)).join(" ");let i=c.getAttribute("placeholder")?.trim();if(i)return i;let r=c.getAttribute("title")?.trim();if(r)return r}return(c.textContent||"").replace(/\s+/g," ").trim()}var $s=new ti("MAT_DATE_RANGE_INPUT_PARENT"),oh=(()=>{class c extends ah{get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}constructor(i,r,l,f,k,z,Pt,P){super(r,Pt,P),this._rangeInput=i,this._elementRef=r,this._defaultErrorStateMatcher=l,this._injector=f,this._parentForm=k,this._parentFormGroup=z,this._dir=Di(Si,{optional:!0}),this._errorStateTracker=new rl(this._defaultErrorStateMatcher,null,this._parentFormGroup,this._parentForm,this.stateChanges)}ngOnInit(){let i=this._injector.get(_l,null,{optional:!0,self:!0});i&&(this.ngControl=i,this._errorStateTracker.ngControl=i)}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return this._elementRef.nativeElement.value.length===0}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}getMirrorValue(){let i=this._elementRef.nativeElement,r=i.value;return r.length>0?r:i.placeholder}updateErrorState(){this._errorStateTracker.updateErrorState()}_onInput(i){super._onInput(i),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:i}){return i!==this._rangeInput._startInput&&i!==this._rangeInput._endInput}_assignValueProgrammatically(i){super._assignValueProgrammatically(i),(this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput)?._validatorOnChange()}_getAccessibleName(){return ic(this._elementRef.nativeElement)}static{this.\u0275fac=function(r){return new(r||c)(Y($s),Y(we),Y(ys),Y(ja),Y(ws,8),Y(Ra,8),Y(ni,8),Y(hn,8))}}static{this.\u0275dir=Jt({type:c,inputs:{errorStateMatcher:"errorStateMatcher"},standalone:!0,features:[Ee]})}}return c})(),or=(()=>{class c extends oh{constructor(i,r,l,f,k,z,Pt,P){super(i,r,l,f,k,z,Pt,P),this._startValidator=zt=>{let fe=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(zt.value)),xe=this._model?this._model.selection.end:null;return!fe||!xe||this._dateAdapter.compareDate(fe,xe)<=0?null:{matStartDateInvalid:{end:xe,actual:fe}}},this._validator=Ji.compose([...super._getValidators(),this._startValidator])}_getValueFromModel(i){return i.start}_shouldHandleChangeEvent(i){return super._shouldHandleChangeEvent(i)?i.oldValue?.start?!i.selection.start||!!this._dateAdapter.compareDate(i.oldValue.start,i.selection.start):!!i.selection.start:!1}_assignValueToModel(i){if(this._model){let r=new fi(i,this._model.selection.end);this._model.updateSelection(r,this)}}_formatValue(i){super._formatValue(i),this._rangeInput._handleChildValueChange()}_onKeydown(i){let r=this._rangeInput._endInput,l=this._elementRef.nativeElement,f=this._dir?.value!=="rtl";(i.keyCode===39&&f||i.keyCode===37&&!f)&&l.selectionStart===l.value.length&&l.selectionEnd===l.value.length?(i.preventDefault(),r._elementRef.nativeElement.setSelectionRange(0,0),r.focus()):super._onKeydown(i)}static{this.\u0275fac=function(r){return new(r||c)(Y($s),Y(we),Y(ys),Y(ja),Y(ws,8),Y(Ra,8),Y(ni,8),Y(hn,8))}}static{this.\u0275dir=Jt({type:c,selectors:[["input","matStartDate",""]],hostAttrs:["type","text",1,"mat-start-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(r,l){r&1&&pt("input",function(k){return l._onInput(k.target.value)})("change",function(){return l._onChange()})("keydown",function(k){return l._onKeydown(k)})("blur",function(){return l._onBlur()}),r&2&&(Ga("disabled",l.disabled),Re("aria-haspopup",l._rangeInput.rangePicker?"dialog":null)("aria-owns",(l._rangeInput.rangePicker==null?null:l._rangeInput.rangePicker.opened)&&l._rangeInput.rangePicker.id||null)("min",l._getMinDate()?l._dateAdapter.toIso8601(l._getMinDate()):null)("max",l._getMaxDate()?l._dateAdapter.toIso8601(l._getMaxDate()):null))},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[ye([{provide:Oa,useExisting:c,multi:!0},{provide:Ms,useExisting:c,multi:!0}]),Ee]})}}return c})(),rr=(()=>{class c extends oh{constructor(i,r,l,f,k,z,Pt,P){super(i,r,l,f,k,z,Pt,P),this._endValidator=zt=>{let fe=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(zt.value)),xe=this._model?this._model.selection.start:null;return!fe||!xe||this._dateAdapter.compareDate(fe,xe)>=0?null:{matEndDateInvalid:{start:xe,actual:fe}}},this._validator=Ji.compose([...super._getValidators(),this._endValidator])}_getValueFromModel(i){return i.end}_shouldHandleChangeEvent(i){return super._shouldHandleChangeEvent(i)?i.oldValue?.end?!i.selection.end||!!this._dateAdapter.compareDate(i.oldValue.end,i.selection.end):!!i.selection.end:!1}_assignValueToModel(i){if(this._model){let r=new fi(this._model.selection.start,i);this._model.updateSelection(r,this)}}_moveCaretToEndOfStartInput(){let i=this._rangeInput._startInput._elementRef.nativeElement,r=i.value;r.length>0&&i.setSelectionRange(r.length,r.length),i.focus()}_onKeydown(i){let r=this._elementRef.nativeElement,l=this._dir?.value!=="rtl";i.keyCode===8&&!r.value?this._moveCaretToEndOfStartInput():(i.keyCode===37&&l||i.keyCode===39&&!l)&&r.selectionStart===0&&r.selectionEnd===0?(i.preventDefault(),this._moveCaretToEndOfStartInput()):super._onKeydown(i)}static{this.\u0275fac=function(r){return new(r||c)(Y($s),Y(we),Y(ys),Y(ja),Y(ws,8),Y(Ra,8),Y(ni,8),Y(hn,8))}}static{this.\u0275dir=Jt({type:c,selectors:[["input","matEndDate",""]],hostAttrs:["type","text",1,"mat-end-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(r,l){r&1&&pt("input",function(k){return l._onInput(k.target.value)})("change",function(){return l._onChange()})("keydown",function(k){return l._onKeydown(k)})("blur",function(){return l._onBlur()}),r&2&&(Ga("disabled",l.disabled),Re("aria-haspopup",l._rangeInput.rangePicker?"dialog":null)("aria-owns",(l._rangeInput.rangePicker==null?null:l._rangeInput.rangePicker.opened)&&l._rangeInput.rangePicker.id||null)("min",l._getMinDate()?l._dateAdapter.toIso8601(l._getMinDate()):null)("max",l._getMaxDate()?l._dateAdapter.toIso8601(l._getMaxDate()):null))},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[ye([{provide:Oa,useExisting:c,multi:!0},{provide:Ms,useExisting:c,multi:!0}]),Ee]})}}return c})(),sc=0,rh=(()=>{class c{get value(){return this._model?this._model.selection:null}get shouldLabelFloat(){return this.focused||!this.empty}get placeholder(){let i=this._startInput?._getPlaceholder()||"",r=this._endInput?._getPlaceholder()||"";return i||r?`${i} ${this.separator} ${r}`:""}get rangePicker(){return this._rangePicker}set rangePicker(i){i&&(this._model=i.registerInput(this),this._rangePicker=i,this._closedSubscription.unsubscribe(),this._closedSubscription=i.closedStream.subscribe(()=>{this._startInput?._onTouched(),this._endInput?._onTouched()}),this._registerModel(this._model))}get required(){return this._required??(this._isTargetRequired(this)||this._isTargetRequired(this._startInput)||this._isTargetRequired(this._endInput))??!1}set required(i){this._required=i}get dateFilter(){return this._dateFilter}set dateFilter(i){let r=this._startInput,l=this._endInput,f=r&&r._matchesFilter(r.value),k=l&&l._matchesFilter(r.value);this._dateFilter=i,r&&r._matchesFilter(r.value)!==f&&r._validatorOnChange(),l&&l._matchesFilter(l.value)!==k&&l._validatorOnChange()}get min(){return this._min}set min(i){let r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(r,this._min)||(this._min=r,this._revalidate())}get max(){return this._max}set max(i){let r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(i));this._dateAdapter.sameDate(r,this._max)||(this._max=r,this._revalidate())}get disabled(){return this._startInput&&this._endInput?this._startInput.disabled&&this._endInput.disabled:this._groupDisabled}set disabled(i){i!==this._groupDisabled&&(this._groupDisabled=i,this.stateChanges.next(void 0))}get errorState(){return this._startInput&&this._endInput?this._startInput.errorState||this._endInput.errorState:!1}get empty(){let i=this._startInput?this._startInput.isEmpty():!1,r=this._endInput?this._endInput.isEmpty():!1;return i&&r}constructor(i,r,l,f,k){this._changeDetectorRef=i,this._elementRef=r,this._dateAdapter=f,this._formField=k,this._closedSubscription=oi.EMPTY,this.id=`mat-date-range-input-${sc++}`,this.focused=!1,this.controlType="mat-date-range-input",this._groupDisabled=!1,this._ariaDescribedBy=null,this.separator="\u2013",this.comparisonStart=null,this.comparisonEnd=null,this.stateChanges=new ri,this.disableAutomaticLabeling=!0,k?._elementRef.nativeElement.classList.contains("mat-mdc-form-field")&&r.nativeElement.classList.add("mat-mdc-input-element","mat-mdc-form-field-input-control","mdc-text-field__input"),this.ngControl=l}setDescribedByIds(i){this._ariaDescribedBy=i.length?i.join(" "):null}onContainerClick(){!this.focused&&!this.disabled&&(!this._model||!this._model.selection.start?this._startInput.focus():this._endInput.focus())}ngAfterContentInit(){this._model&&this._registerModel(this._model),Ti(this._startInput.stateChanges,this._endInput.stateChanges).subscribe(()=>{this.stateChanges.next(void 0)})}ngOnChanges(i){sh(i,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._closedSubscription.unsubscribe(),this.stateChanges.complete()}getStartValue(){return this.value?this.value.start:null}getThemePalette(){return this._formField?this._formField.color:void 0}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():null}_getInputMirrorValue(i){let r=i==="start"?this._startInput:this._endInput;return r?r.getMirrorValue():""}_shouldHidePlaceholders(){return this._startInput?!this._startInput.isEmpty():!1}_handleChildValueChange(){this.stateChanges.next(void 0),this._changeDetectorRef.markForCheck()}_openDatepicker(){this._rangePicker&&this._rangePicker.open()}_shouldHideSeparator(){return(!this._formField||this._formField.getLabelId()&&!this._formField._shouldLabelFloat())&&this.empty}_getAriaLabelledby(){let i=this._formField;return i&&i._hasFloatingLabel()?i._labelId:null}_getStartDateAccessibleName(){return this._startInput._getAccessibleName()}_getEndDateAccessibleName(){return this._endInput._getAccessibleName()}_updateFocus(i){this.focused=i!==null,this.stateChanges.next()}_revalidate(){this._startInput&&this._startInput._validatorOnChange(),this._endInput&&this._endInput._validatorOnChange()}_registerModel(i){this._startInput&&this._startInput._registerModel(i),this._endInput&&this._endInput._registerModel(i)}_isTargetRequired(i){return i?.ngControl?.control?.hasValidator(Ji.required)}static{this.\u0275fac=function(r){return new(r||c)(Y(ii),Y(we),Y(fl,10),Y(ni,8),Y(Qa,8))}}static{this.\u0275cmp=St({type:c,selectors:[["mat-date-range-input"]],contentQueries:function(r,l,f){if(r&1&&(Xe(f,or,5),Xe(f,rr,5)),r&2){let k;Lt(k=Nt())&&(l._startInput=k.first),Lt(k=Nt())&&(l._endInput=k.first)}},hostAttrs:["role","group",1,"mat-date-range-input"],hostVars:8,hostBindings:function(r,l){r&2&&(Re("id",l.id)("aria-labelledby",l._getAriaLabelledby())("aria-describedby",l._ariaDescribedBy)("data-mat-calendar",l.rangePicker?l.rangePicker.id:null),Be("mat-date-range-input-hide-placeholders",l._shouldHidePlaceholders())("mat-date-range-input-required",l.required))},inputs:{rangePicker:"rangePicker",required:[kt.HasDecoratorInputTransform,"required","required",me],dateFilter:"dateFilter",min:"min",max:"max",disabled:[kt.HasDecoratorInputTransform,"disabled","disabled",me],separator:"separator",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},exportAs:["matDateRangeInput"],standalone:!0,features:[ye([{provide:gl,useExisting:c},{provide:$s,useExisting:c}]),Qe,ke,Dt],ngContentSelectors:Ld,decls:11,vars:5,consts:[["cdkMonitorSubtreeFocus","",1,"mat-date-range-input-container",3,"cdkFocusChange"],[1,"mat-date-range-input-wrapper"],["aria-hidden","true",1,"mat-date-range-input-mirror"],[1,"mat-date-range-input-separator"],[1,"mat-date-range-input-wrapper","mat-date-range-input-end-wrapper"]],template:function(r,l){r&1&&(yi(Vd),A(0,"div",0),pt("cdkFocusChange",function(k){return l._updateFocus(k)}),A(1,"div",1),Ge(2),A(3,"span",2),U(4),B()(),A(5,"span",3),U(6),B(),A(7,"div",4),Ge(8,1),A(9,"span",2),U(10),B()()()),r&2&&(H(4),Ci(l._getInputMirrorValue("start")),H(),Be("mat-date-range-input-separator-hidden",l._shouldHideSeparator()),H(),Ci(l.separator),H(4),Ci(l._getInputMirrorValue("end")))},dependencies:[$a],styles:[".mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px;color:var(--mat-datepicker-range-input-separator-color)}.mat-form-field-disabled .mat-date-range-input-separator{color:var(--mat-datepicker-range-input-disabled-state-separator-color)}._mat-animation-noopable .mat-date-range-input-separator{transition:none}.mat-date-range-input-separator-hidden{-webkit-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-end-wrapper{flex-grow:1}.mat-date-range-input-inner{position:absolute;top:0;left:0;font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%;height:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner[disabled]{color:var(--mat-datepicker-range-input-disabled-state-text-color)}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-date-range-input-inner::placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-moz-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner:-ms-input-placeholder{transition:none}.mat-date-range-input-mirror{-webkit-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-mdc-form-field-type-mat-date-range-input .mat-mdc-form-field-infix{width:200px}"],encapsulation:2,changeDetection:0})}}return c})(),lh=(()=>{class c extends Xs{_forwardContentValues(i){super._forwardContentValues(i);let r=this.datepickerInput;r&&(i.comparisonStart=r.comparisonStart,i.comparisonEnd=r.comparisonEnd,i.startDateAccessibleName=r._getStartDateAccessibleName(),i.endDateAccessibleName=r._getEndDateAccessibleName())}static{this.\u0275fac=(()=>{let i;return function(l){return(i||(i=Yi(c)))(l||c)}})()}static{this.\u0275cmp=St({type:c,selectors:[["mat-date-range-picker"]],exportAs:["matDateRangePicker"],standalone:!0,features:[ye([Xd,Ud,{provide:Xs,useExisting:c}]),Ee,Dt],decls:0,vars:0,template:function(r,l){},encapsulation:2,changeDetection:0})}}return c})();var Qs=(()=>{class c{static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275mod=ei({type:c})}static{this.\u0275inj=qe({providers:[ns,Zd],imports:[na,li,Es,ol,Il,Ki,ih,as,th,Is]})}}return c})();function Ks(c,S,i,r){let l=new qt(S,Ks.PATH,"post");return i&&l.body(i.body,"application/json"),c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}Ks.PATH="/app/DebtManagement/api/products";function Js(c,S,i,r){let l=new qt(S,Js.PATH,"delete");return i&&l.path("id",i.id,{}),c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}Js.PATH="/app/DebtManagement/api/products/{id}";function Zs(c,S,i,r){let l=new qt(S,Zs.PATH,"delete");return i&&(l.path("id",i.id,{}),l.path("specification-id",i["specification-id"],{})),c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}Zs.PATH="/app/DebtManagement/api/products/{id}/specifications/{specification-id}";function qs(c,S,i,r){let l=new qt(S,qs.PATH,"get");return c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}qs.PATH="/app/DebtManagement/api/products/product-ids";function to(c,S,i,r){let l=new qt(S,to.PATH,"get");return c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}to.PATH="/app/DebtManagement/api/products";function eo(c,S,i,r){let l=new qt(S,eo.PATH,"get");return c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}eo.PATH="/app/DebtManagement/api/products/specifications";function io(c,S,i,r){let l=new qt(S,io.PATH,"get");return i&&l.path("id",i.id,{}),c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}io.PATH="/app/DebtManagement/api/products/{id}";function no(c,S,i,r){let l=new qt(S,no.PATH,"put");return i&&(l.path("id",i.id,{}),l.body(i.body,"application/json")),c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}no.PATH="/app/DebtManagement/api/products/{id}";var Wn=(()=>{class c extends ha{constructor(i,r){super(i,r)}static{this.GetProductByIdPath="/app/DebtManagement/api/products/{id}"}getProductById$Response(i,r){return io(this.http,this.rootUrl,i,r)}getProductById(i,r){return this.getProductById$Response(i,r).pipe(Mt(l=>l.body))}static{this.UpdateProductPath="/app/DebtManagement/api/products/{id}"}updateProduct$Response(i,r){return no(this.http,this.rootUrl,i,r)}updateProduct(i,r){return this.updateProduct$Response(i,r).pipe(Mt(l=>l.body))}static{this.DeleteProductPath="/app/DebtManagement/api/products/{id}"}deleteProduct$Response(i,r){return Js(this.http,this.rootUrl,i,r)}deleteProduct(i,r){return this.deleteProduct$Response(i,r).pipe(Mt(l=>l.body))}static{this.GetAllProductsPath="/app/DebtManagement/api/products"}getAllProducts$Response(i,r){return to(this.http,this.rootUrl,i,r)}getAllProducts(i,r){return this.getAllProducts$Response(i,r).pipe(Mt(l=>l.body))}static{this.CreateProductPath="/app/DebtManagement/api/products"}createProduct$Response(i,r){return Ks(this.http,this.rootUrl,i,r)}createProduct(i,r){return this.createProduct$Response(i,r).pipe(Mt(l=>l.body))}static{this.GetAllSpecificationsPath="/app/DebtManagement/api/products/specifications"}getAllSpecifications$Response(i,r){return eo(this.http,this.rootUrl,i,r)}getAllSpecifications(i,r){return this.getAllSpecifications$Response(i,r).pipe(Mt(l=>l.body))}static{this.GetAllProductIdsPath="/app/DebtManagement/api/products/product-ids"}getAllProductIds$Response(i,r){return qs(this.http,this.rootUrl,i,r)}getAllProductIds(i,r){return this.getAllProductIds$Response(i,r).pipe(Mt(l=>l.body))}static{this.DeleteSpecificationPath="/app/DebtManagement/api/products/{id}/specifications/{specification-id}"}deleteSpecification$Response(i,r){return Zs(this.http,this.rootUrl,i,r)}deleteSpecification(i,r){return this.deleteSpecification$Response(i,r).pipe(Mt(l=>l.body))}static{this.\u0275fac=function(r){return new(r||c)(vi(la),vi(aa))}}static{this.\u0275prov=He({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})();var ao=(()=>{class c{constructor(){}formatDate(i){return i.split("-").reverse().join("/")}static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275prov=He({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})();var di=(()=>{class c{constructor(){this.objectSource=new Mn(null),this.object$=this.objectSource.asObservable(),this.resetSource=new Mn(null),this.reset$=this.resetSource.asObservable()}notify(i){this.objectSource.next(i)}resetNotify(i){this.resetSource.next(i)}static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275prov=He({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})();function so(c,S,i,r){let l=new qt(S,so.PATH,"post");return i&&l.body(i.body,"application/json"),c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}so.PATH="/app/DebtManagement/api/invoices";function oo(c,S,i,r){let l=new qt(S,oo.PATH,"delete");return i&&l.path("id",i.id,{}),c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}oo.PATH="/app/DebtManagement/api/invoices/{id}";function ro(c,S,i,r){let l=new qt(S,ro.PATH,"post");return i&&l.path("id",i.id,{}),c.request(l.build({responseType:"blob",accept:"application/pdf",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}ro.PATH="/app/DebtManagement/api/invoices/{id}/generate-pdf";function lo(c,S,i,r){let l=new qt(S,lo.PATH,"get");return c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}lo.PATH="/app/DebtManagement/api/invoices";function ho(c,S,i,r){let l=new qt(S,ho.PATH,"get");return i&&l.path("id",i.id,{}),c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}ho.PATH="/app/DebtManagement/api/invoices/customers/{id}";function co(c,S,i,r){let l=new qt(S,co.PATH,"get");return i&&l.path("id",i.id,{}),c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}co.PATH="/app/DebtManagement/api/invoices/{id}";var zn=(()=>{class c extends ha{constructor(i,r){super(i,r)}static{this.GetAllInvoicesPath="/app/DebtManagement/api/invoices"}getAllInvoices$Response(i,r){return lo(this.http,this.rootUrl,i,r)}getAllInvoices(i,r){return this.getAllInvoices$Response(i,r).pipe(Mt(l=>l.body))}static{this.CreateInvoicePath="/app/DebtManagement/api/invoices"}createInvoice$Response(i,r){return so(this.http,this.rootUrl,i,r)}createInvoice(i,r){return this.createInvoice$Response(i,r).pipe(Mt(l=>l.body))}static{this.GenerateInvoicePdfPath="/app/DebtManagement/api/invoices/{id}/generate-pdf"}generateInvoicePdf$Response(i,r){return ro(this.http,this.rootUrl,i,r)}generateInvoicePdf(i,r){return this.generateInvoicePdf$Response(i,r).pipe(Mt(l=>l.body))}static{this.GetInvoiceByIdPath="/app/DebtManagement/api/invoices/{id}"}getInvoiceById$Response(i,r){return co(this.http,this.rootUrl,i,r)}getInvoiceById(i,r){return this.getInvoiceById$Response(i,r).pipe(Mt(l=>l.body))}static{this.DeleteInvoicePath="/app/DebtManagement/api/invoices/{id}"}deleteInvoice$Response(i,r){return oo(this.http,this.rootUrl,i,r)}deleteInvoice(i,r){return this.deleteInvoice$Response(i,r).pipe(Mt(l=>l.body))}static{this.GetAllInvoicesOfCustomerPath="/app/DebtManagement/api/invoices/customers/{id}"}getAllInvoicesOfCustomer$Response(i,r){return ho(this.http,this.rootUrl,i,r)}getAllInvoicesOfCustomer(i,r){return this.getAllInvoicesOfCustomer$Response(i,r).pipe(Mt(l=>l.body))}static{this.\u0275fac=function(r){return new(r||c)(vi(la),vi(aa))}}static{this.\u0275prov=He({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})();var oc=()=>[10,20,30];function rc(c,S){c&1&&(A(0,"th",20),U(1," M\xE3 s\u1EA3n ph\u1EA9m "),B())}function lc(c,S){if(c&1&&(A(0,"td",21),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.productId," ")}}function hc(c,S){c&1&&(A(0,"th",20),U(1," T\xEAn s\u1EA3n ph\u1EA9m "),B())}function dc(c,S){if(c&1&&(A(0,"td",21),U(1),B()),c&2){let i=S.$implicit,r=ot();H(),At(" ",r.getProductName(i.productId)," ")}}function cc(c,S){c&1&&(A(0,"th",20),U(1," Quy c\xE1ch \u0111\xF3ng th\xF9ng "),B())}function uc(c,S){if(c&1&&(A(0,"td",21),U(1),B()),c&2){let i=S.$implicit,r=ot();H(),At(" ",r.getSpecification(i.specificationId).amountPerBox," ")}}function pc(c,S){c&1&&(A(0,"th",20),U(1," S\u1ED1 l\u01B0\u1EE3ng th\xF9ng "),B())}function mc(c,S){if(c&1&&(A(0,"td",21),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.numberOfBoxes," ")}}function gc(c,S){c&1&&(A(0,"th",20),U(1," Ghi ch\xFA "),B())}function fc(c,S){if(c&1&&(A(0,"td",21),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.note," ")}}function _c(c,S){c&1&&Et(0,"tr",22)}function bc(c,S){c&1&&Et(0,"tr",23)}var ch=(()=>{class c{constructor(i,r,l,f){this.productService=i,this.dateService=r,this.observer=l,this.invoiceService=f,this.dataSource=new Ue([]),this.columnsToDisplay=["productId","productName","specification","numOfBoxes","note"],this.products=[],this.specifications=[],this.invoice={}}ngOnChanges(i){}ngOnInit(){this.productService.getAllProducts().subscribe({next:i=>this.products=i}),this.productService.getAllSpecifications().subscribe({next:i=>this.specifications=i})}getSpecification(i){for(let r of this.specifications)if(r.id==i)return r;return{}}getProductName(i){for(let r of this.products)if(r.productId==i)return r.name?r.name:"";return""}set setDataSource(i){this.dataSource=i}set setInvoice(i){this.invoice=i}deleteInvoice(){this.observer.notify({type:"invoice",id:this.invoice.id})}printInvoice(){this.invoiceService.generateInvoicePdf({id:this.invoice.id||""}).subscribe({next:i=>{let r=window.URL.createObjectURL(i);window.open(r)}})}static{this.\u0275fac=function(r){return new(r||c)(Y(Wn),Y(ao),Y(di),Y(zn))}}static{this.\u0275cmp=St({type:c,selectors:[["app-invoice-detail"]],inputs:{setDataSource:"setDataSource",setInvoice:"setInvoice"},standalone:!0,features:[ke,Dt],decls:61,vars:11,consts:[[2,"margin-top","5rem"],[2,"text-align","center"],["mat-mini-fab","","color","accent","matTooltip","Xu\u1EA5t h\xF3a \u0111\u01A1n","tabindex","-1",2,"margin-right","5px","margin-left","5px",3,"click"],["mat-mini-fab","","color","warn","matTooltip","X\xF3a","tabindex","-1","data-bs-toggle","modal","data-bs-target","#deleteModal",3,"click"],[2,"margin-left","5rem"],[1,"mat-grid-tile-content",2,"font-weight","bold"],[1,"mat-grid-tile-content"],[2,"font-weight","bold"],[1,"table-container"],["mat-table","",1,"custom-table",3,"dataSource"],["matColumnDef","productId"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","productName"],["matColumnDef","specification"],["matColumnDef","numOfBoxes"],["matColumnDef","note"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(r,l){r&1&&(A(0,"div",0)(1,"h1",1),U(2," Chi ti\u1EBFt h\xF3a \u0111\u01A1n "),A(3,"button",2),pt("click",function(){return l.printInvoice()}),A(4,"mat-icon"),U(5,"print"),B()(),A(6,"button",3),pt("click",function(){return l.deleteInvoice()}),A(7,"mat-icon"),U(8,"delete"),B()()(),A(9,"table",4)(10,"tbody")(11,"tr")(12,"td",5),U(13," S\u1ED1 h\xF3a \u0111\u01A1n "),B(),A(14,"td",6),U(15),B()(),A(16,"tr")(17,"td",5),U(18," M\xE3 kh\xE1ch h\xE0ng "),B(),A(19,"td",6),U(20),B()(),A(21,"tr")(22,"td",7),U(23," Kh\xE1ch h\xE0ng "),B(),A(24,"td"),U(25),B()(),A(26,"tr")(27,"td",7),U(28," S\u1ED1 \u0111i\u1EC7n tho\u1EA1i "),B(),A(29,"td"),U(30),B()(),A(31,"tr")(32,"td",7),U(33," T\u1EC9nh/Th\xE0nh ph\u1ED1 "),B(),A(34,"td"),U(35),B()(),A(36,"tr")(37,"td",7),U(38," Ng\xE0y xu\u1EA5t "),B(),A(39,"td"),U(40),B()()()(),A(41,"div",8)(42,"table",9),De(43,10),ft(44,rc,2,0,"th",11)(45,lc,2,1,"td",12),Pe(),De(46,13),ft(47,hc,2,0,"th",11)(48,dc,2,1,"td",12),Pe(),De(49,14),ft(50,cc,2,0,"th",11)(51,uc,2,1,"td",12),Pe(),De(52,15),ft(53,pc,2,0,"th",11)(54,mc,2,1,"td",12),Pe(),De(55,16),ft(56,gc,2,0,"th",11)(57,fc,2,1,"td",12),Pe(),ft(58,_c,1,0,"tr",17)(59,bc,1,0,"tr",18),B(),Et(60,"mat-paginator",19),B()()),r&2&&(H(15),At(" ",l.invoice.id," "),H(5),At(" ",l.invoice.customer==null?null:l.invoice.customer.customerId," "),H(5),At(" ",l.invoice.customer==null?null:l.invoice.customer.name," "),H(5),At(" ",l.invoice.customer==null?null:l.invoice.customer.telephone," "),H(5),At(" ",l.invoice.customer==null?null:l.invoice.customer.province," "),H(5),At(" ",l.dateService.formatDate(l.invoice.date?l.invoice.date:"")," "),H(2),lt("dataSource",l.dataSource),H(16),lt("matHeaderRowDef",l.columnsToDisplay),H(),lt("matRowDefColumns",l.columnsToDisplay),H(),lt("pageSizeOptions",ea(10,oc)))},dependencies:[Ln,Dn,In,Bn,An,Pn,On,En,Fn,Rn,Vn,qi,li,Zi,hi,je,dn],styles:["td[_ngcontent-%COMP%]{padding:5px}"]})}}return c})();function xc(c,S){if(c&1&&Et(0,"div",1),c&2){let i=ot();Ma("id",i.chartContainerId),lt("ngStyle",i.styles)}}typeof document=="object"&&document&&(ph=uh());var ph,mh=(()=>{class c{constructor(){this.shouldUpdateChart=!1,this.isDOMPresent=typeof document=="object"&&!!document,this.chartInstance=new Bt,this.options=this.options?this.options:{},this.styles=this.styles?this.styles:{width:"100%",position:"relative"},this.styles.height=this.options.height?this.options.height+"px":"400px",this.chartContainerId="canvasjs-angular-chart-container-"+c._cjsChartContainerId++}ngDoCheck(){this.prevChartOptions!=this.options&&(this.shouldUpdateChart=!0)}ngOnChanges(){this.shouldUpdateChart&&this.chart&&(this.chart.options=this.options,this.chart.render(),this.shouldUpdateChart=!1,this.prevChartOptions=this.options)}ngAfterViewInit(){this.isDOMPresent&&(this.chart=new ph.Chart(this.chartContainerId,this.options),this.chart.render(),this.prevChartOptions=this.options,this.chartInstance.emit(this.chart))}ngOnDestroy(){this.chart&&this.chart.destroy()}}return c._cjsChartContainerId=0,c.\u0275fac=function(i){return new(i||c)},c.\u0275cmp=St({type:c,selectors:[["canvasjs-chart"]],inputs:{options:"options",styles:"styles"},outputs:{chartInstance:"chartInstance"},features:[ke],decls:1,vars:1,consts:[[3,"id","ngStyle",4,"ngIf"],[3,"id","ngStyle"]],template:function(i,r){i&1&&ft(0,xc,1,2,"div",0),i&2&&lt("ngIf",r.isDOMPresent)},dependencies:[Pi,$r],encapsulation:2}),c})(),gh=(()=>{class c{}return c.\u0275fac=function(i){return new(i||c)},c.\u0275mod=ei({type:c}),c.\u0275inj=qe({imports:[[na]]}),c})();var fh=(()=>{class c{constructor(){this.datapoints=[],this.title="",this.chartOptions={title:{fontFamily:"sans-serif",text:"Ausgeben und Einkommen"},data:[{type:"line",dataPoints:[{label:"Start",y:0}]}]}}ngOnChanges(i){this.ngAfterViewInit()}ngAfterViewInit(){this.chartOptions={title:{fontFamily:"sans-serif",fontWeight:"bold",text:this.title},data:[{type:"line",dataPoints:this.datapoints}]}}set input(i){this.datapoints=i}set graphTitle(i){this.title=i}static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275cmp=St({type:c,selectors:[["app-graph"]],inputs:{input:"input",graphTitle:"graphTitle"},standalone:!0,features:[ke,Dt],decls:1,vars:1,consts:[[3,"options"]],template:function(r,l){r&1&&Et(0,"canvasjs-chart",0),r&2&&lt("options",l.chartOptions)},dependencies:[gh,mh]})}}return c})();var _h=(()=>{class c{constructor(){}numberWithCommas(i){return i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275prov=He({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})();var bh=(()=>{class c{constructor(){}mapToInvoiceRequest(i){return{id:i.id,date:i.date,customerId:i.customer?.customerId,invoiceLines:i.invoiceLines?.map(r=>this.mapToInvoiceLineRequest(r))}}mapToInvoiceLineRequest(i){return{note:i.note,numberOfBoxes:i.numberOfBoxes,productId:i.product?.productId,specificationId:i.specification?.id}}static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275prov=He({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})();var Mc=()=>[10,20,30];function wc(c,S){if(c&1){let i=se();A(0,"th",15)(1,"mat-form-field",16)(2,"mat-label")(3,"mat-icon",17),U(4," search "),B(),A(5,"span",18),U(6,"S\u1ED1 h\xF3a \u0111\u01A1n"),B()(),A(7,"input",19),pt("keyup",function(){ct(i);let l=ot();return ut(l.filter())}),ue("ngModelChange",function(l){ct(i);let f=ot();return ce(f.invoiceIdQuery,l)||(f.invoiceIdQuery=l),ut(l)}),B(),A(8,"button",20),pt("click",function(){ct(i);let l=ot();return ut(l.clear("invoiceId"))}),A(9,"mat-icon"),U(10,"close"),B()()()()}if(c&2){let i=ot();H(7),de("ngModel",i.invoiceIdQuery)}}function Tc(c,S){if(c&1&&(A(0,"td",21),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.id," ")}}function Sc(c,S){if(c&1){let i=se();A(0,"th",15)(1,"mat-form-field",16)(2,"mat-label")(3,"mat-icon",17),U(4," search "),B(),A(5,"span",18),U(6,"M\xE3 kh\xE1ch h\xE0ng"),B()(),A(7,"input",22),pt("keyup",function(){ct(i);let l=ot();return ut(l.filter())}),ue("ngModelChange",function(l){ct(i);let f=ot();return ce(f.customerIdQuery,l)||(f.customerIdQuery=l),ut(l)}),B(),A(8,"button",20),pt("click",function(){ct(i);let l=ot();return ut(l.clear("customerId"))}),A(9,"mat-icon"),U(10,"close"),B()()()()}if(c&2){let i=ot();H(7),de("ngModel",i.customerIdQuery)}}function kc(c,S){if(c&1&&(A(0,"td",21),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.customer.customerId," ")}}function Dc(c,S){if(c&1){let i=se();A(0,"th",15)(1,"mat-form-field",16)(2,"mat-label")(3,"mat-icon",17),U(4," search "),B(),A(5,"span",18),U(6,"T\u1EC9nh/Th\xE0nh ph\u1ED1"),B()(),A(7,"input",23),pt("keyup",function(){ct(i);let l=ot();return ut(l.filter())}),ue("ngModelChange",function(l){ct(i);let f=ot();return ce(f.provinceQuery,l)||(f.provinceQuery=l),ut(l)}),B(),A(8,"button",20),pt("click",function(){ct(i);let l=ot();return ut(l.clear("province"))}),A(9,"mat-icon"),U(10,"close"),B()()()()}if(c&2){let i=ot();H(7),de("ngModel",i.provinceQuery)}}function Pc(c,S){if(c&1&&(A(0,"td",21),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.customer.province," ")}}function Ic(c,S){if(c&1){let i=se();A(0,"th",15)(1,"mat-form-field")(2,"mat-label"),U(3,"Ng\xE0y xu\u1EA5t"),B(),A(4,"mat-date-range-input",24),Et(5,"input",25)(6,"input",26),B(),Et(7,"mat-datepicker-toggle",27)(8,"mat-date-range-picker",null,0),B(),A(10,"button",28),pt("click",function(){ct(i);let l=ot();return ut(l.filter())}),A(11,"mat-icon"),U(12,"search"),B()(),A(13,"button",20),pt("click",function(){ct(i);let l=ot();return ut(l.clear("date"))}),A(14,"mat-icon"),U(15,"close"),B()()()}if(c&2){let i=Qi(9),r=ot();H(4),lt("formGroup",r.range)("rangePicker",i),H(3),lt("for",i)}}function Ac(c,S){if(c&1&&(A(0,"td",21),U(1),B()),c&2){let i=S.$implicit,r=ot();H(),At(" ",r.dateService.formatDate(i.date||"")," ")}}function Ec(c,S){c&1&&(A(0,"th",29),U(1," T\u1ED5ng "),B())}function Fc(c,S){if(c&1&&(A(0,"td",21),U(1),B()),c&2){let i=S.$implicit,r=ot();H(),At(" ",r.currencyService.numberWithCommas(i.total)," VND ")}}function Bc(c,S){c&1&&Et(0,"tr",30)}function Oc(c,S){if(c&1){let i=se();A(0,"tr",31),pt("click",function(){let l=ct(i).$implicit,f=ot();return ut(f.setInvoice(l))}),B()}}function Rc(c,S){if(c&1&&(A(0,"div"),Et(1,"app-invoice-detail",32),B()),c&2){let i=ot();H(),lt("setInvoice",i.invoice)("setDataSource",i.invoiceLineDataSource)}}function Vc(c,S){if(c&1&&(A(0,"div"),Et(1,"app-graph",33),B()),c&2){let i=ot();H(),lt("graphTitle",i.graphTitle)("input",i.datapoints)}}var mo=(()=>{class c{constructor(i,r,l,f){this.dateService=i,this.currencyService=r,this.observer=l,this.mapper=f,this.invoice={},this.invoices=[],this.filteredInvoices=[],this.dataSource=new Ue([]),this.invoiceLineDataSource=new Ue([]),this.columnsToDisplay=["invoiceId","customerId","province","date","total"],this.invoiceIdQuery="",this.customerIdQuery="",this.provinceQuery="",this.graphTitle="",this.datapoints=[],this.showGraph=!1,this.range=new xl({start:new nn(null),end:new nn(null)})}ngOnInit(){this.filter(),this.observer.object$.subscribe(i=>{i&&i.type=="invoice"&&i.delete&&(this.invoiceIdQuery="",this.filter())})}ngOnChanges(i){this.ngOnInit(),this.ngAfterViewInit()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.filter()}set input(i){this.invoices=i,this.filteredInvoices=i,this.dataSource=new Ue(i)}setInvoice(i){this.invoiceIdQuery=i.id?i.id:"",this.filter()}filter(){if(this.showGraph=!1,this.filteredInvoices=this.invoices,this.graphTitle="",this.filterByInvoiceId(),this.filterByCustomerId(),this.filterByProvince(),this.filterByDate(),this.filteredInvoices.length==1&&(this.invoice=this.filteredInvoices[0],this.invoiceLineDataSource=new Ue(this.invoice.invoiceLines?.map(i=>this.mapper.mapToInvoiceLineRequest(i)))),this.filteredInvoices.length>1){if(this.onlyOneCustomer()){this.showGraph=!0;let i=this.filteredInvoices[0].customer;this.graphTitle=this.graphTitle?`${this.graphTitle} c\u1EE7a kh\xE1ch h\xE0ng ${i?.name}, MKH: ${i?.customerId}`:`Th\u1ED1ng k\xEA c\u1EE7a kh\xE1ch h\xE0ng ${i?.name}, MKH: ${i?.customerId}`}this.showGraph&&(this.datapoints=this.filteredInvoices.map(i=>({label:this.dateService.formatDate(i.date||""),y:i.total})))}else this.showGraph=!1;this.dataSource=new Ue(this.filteredInvoices)}onlyOneCustomer(){let i=this.filteredInvoices[0].customer?.id;for(let r=1;r<this.filteredInvoices.length;r++)if(this.filteredInvoices[r].customer?.id!==i)return!1;return!0}filterByInvoiceId(){this.invoiceIdQuery&&(console.log("filter invoice id"),this.filteredInvoices=this.filteredInvoices.filter(i=>i.id?.toLowerCase().includes(this.invoiceIdQuery.toLowerCase())))}filterByCustomerId(){this.customerIdQuery&&(console.log("filter customer id"),this.filteredInvoices=this.filteredInvoices.filter(i=>i.customer?.customerId?.toLowerCase().includes(this.customerIdQuery.toLowerCase())))}filterByProvince(){this.provinceQuery&&(console.log("filter province"),this.filteredInvoices=this.filteredInvoices.filter(i=>i.customer?.province?.toLowerCase().includes(this.provinceQuery.toLowerCase())))}filterByDate(){this.filterByStartDate(),this.filterByEndDate()}filterByStartDate(){if(this.range.value.start){this.showGraph=!0;let i=new Date(this.range.value.start.toISOString());this.graphTitle=`Th\u1ED1ng k\xEA t\u1EEB ${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()}`,this.filteredInvoices=this.filteredInvoices.filter(r=>{let l=new Date(r.date||"");return i<=l})}}filterByEndDate(){if(this.range.value.end){this.showGraph=!0;let i=new Date(this.range.value.end.toISOString());i.setHours(23,59,59),this.graphTitle=this.graphTitle?`${this.graphTitle} \u0111\u1EBFn ${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()}`:`Th\u1ED1ng k\xEA \u0111\u1EBFn ${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()} `,this.filteredInvoices=this.filteredInvoices.filter(r=>{let l=new Date(r.date||"");return i>=l})}}clear(i){switch(i){case"invoiceId":{this.invoiceIdQuery="";break}case"customerId":{this.customerIdQuery="";break}case"province":{this.provinceQuery="";break}case"date":{this.range.reset();break}}this.filter()}static{this.\u0275fac=function(r){return new(r||c)(Y(ao),Y(_h),Y(di),Y(bh))}}static{this.\u0275cmp=St({type:c,selectors:[["app-invoice-list"]],viewQuery:function(r,l){if(r&1&&ve(qi,5),r&2){let f;Lt(f=Nt())&&(l.paginator=f.first)}},inputs:{input:"input"},standalone:!0,features:[ke,Dt],decls:22,vars:7,consts:[["picker",""],[1,"table-container"],["mat-table","",3,"dataSource"],["matColumnDef","invoiceId"],["mat-header-cell","","class","form-field-container",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","customerId"],["matColumnDef","province"],["matColumnDef","date"],["matColumnDef","total"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[4,"ngIf"],["mat-header-cell","",1,"form-field-container"],[1,"form-field"],["aria-hidden","true"],["cdk-visually-hidden",""],["matInput","","placeholder","170903",3,"keyup","ngModelChange","ngModel"],["mat-icon-button","","matSuffix","",3,"click"],["mat-cell",""],["matInput","","placeholder","dieptronghuy",3,"keyup","ngModelChange","ngModel"],["matInput","","placeholder","TPHCM",3,"keyup","ngModelChange","ngModel"],[3,"formGroup","rangePicker"],["matStartDate","","formControlName","start","placeholder","B\u1EAFt \u0111\u1EA7u"],["matEndDate","","formControlName","end","placeholder","K\u1EBFt th\xFAc"],["matIconSuffix","",3,"for"],["mat-icon-button","",3,"click"],["mat-header-cell",""],["mat-header-row",""],["mat-row","",3,"click"],[3,"setInvoice","setDataSource"],[3,"graphTitle","input"]],template:function(r,l){r&1&&(A(0,"div",1)(1,"table",2),De(2,3),ft(3,wc,11,1,"th",4)(4,Tc,2,1,"td",5),Pe(),De(5,6),ft(6,Sc,11,1,"th",4)(7,kc,2,1,"td",5),Pe(),De(8,7),ft(9,Dc,11,1,"th",4)(10,Pc,2,1,"td",5),Pe(),De(11,8),ft(12,Ic,16,3,"th",4)(13,Ac,2,1,"td",5),Pe(),De(14,9),ft(15,Ec,2,0,"th",10)(16,Fc,2,1,"td",5),Pe(),ft(17,Bc,1,0,"tr",11)(18,Oc,1,0,"tr",12),B(),Et(19,"mat-paginator",13),B(),ft(20,Rc,2,2,"div",14)(21,Vc,2,2,"div",14)),r&2&&(H(),lt("dataSource",l.dataSource),H(16),lt("matHeaderRowDef",l.columnsToDisplay),H(),lt("matRowDefColumns",l.columnsToDisplay),H(),lt("pageSizeOptions",ea(6,Mc)),H(),lt("ngIf",l.filteredInvoices.length==1),H(),lt("ngIf",l.showGraph))},dependencies:[Ln,Dn,In,Bn,An,Pn,On,En,Fn,Rn,Vn,Va,qi,Oi,Ei,Fi,bl,Bi,oa,Ai,Ii,sa,hi,je,an,Ri,Qs,as,rh,or,rr,lh,Sn,Ra,yl,Pi,ch,fh],styles:[`th.form-field-container{padding:0!important}.form-field{width:100%}#search-button,#search-button:hover{border-radius:0}
`],encapsulation:2})}}return c})();function go(c,S,i,r){let l=new qt(S,go.PATH,"post");return i&&l.body(i.body,"application/json"),c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}go.PATH="/app/DebtManagement/api/customers";function fo(c,S,i,r){let l=new qt(S,fo.PATH,"delete");return i&&l.path("id",i.id,{}),c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}fo.PATH="/app/DebtManagement/api/customers/{id}";function _o(c,S,i,r){let l=new qt(S,_o.PATH,"get");return c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}_o.PATH="/app/DebtManagement/api/customers/customer-ids";function bo(c,S,i,r){let l=new qt(S,bo.PATH,"get");return c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}bo.PATH="/app/DebtManagement/api/customers";function xo(c,S,i,r){let l=new qt(S,xo.PATH,"get");return i&&l.path("id",i.id,{}),c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}xo.PATH="/app/DebtManagement/api/customers/{id}";function vo(c,S,i,r){let l=new qt(S,vo.PATH,"put");return i&&(l.path("id",i.id,{}),l.body(i.body,"application/json")),c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}vo.PATH="/app/DebtManagement/api/customers/{id}";var ba=(()=>{class c extends ha{constructor(i,r){super(i,r)}static{this.GetCustomerByIdPath="/app/DebtManagement/api/customers/{id}"}getCustomerById$Response(i,r){return xo(this.http,this.rootUrl,i,r)}getCustomerById(i,r){return this.getCustomerById$Response(i,r).pipe(Mt(l=>l.body))}static{this.UpdateCustomerPath="/app/DebtManagement/api/customers/{id}"}updateCustomer$Response(i,r){return vo(this.http,this.rootUrl,i,r)}updateCustomer(i,r){return this.updateCustomer$Response(i,r).pipe(Mt(l=>l.body))}static{this.DeleteCustomerPath="/app/DebtManagement/api/customers/{id}"}deleteCustomer$Response(i,r){return fo(this.http,this.rootUrl,i,r)}deleteCustomer(i,r){return this.deleteCustomer$Response(i,r).pipe(Mt(l=>l.body))}static{this.GetAllCustomersPath="/app/DebtManagement/api/customers"}getAllCustomers$Response(i,r){return bo(this.http,this.rootUrl,i,r)}getAllCustomers(i,r){return this.getAllCustomers$Response(i,r).pipe(Mt(l=>l.body))}static{this.CreateCustomerPath="/app/DebtManagement/api/customers"}createCustomer$Response(i,r){return go(this.http,this.rootUrl,i,r)}createCustomer(i,r){return this.createCustomer$Response(i,r).pipe(Mt(l=>l.body))}static{this.GetAllCustomerIdsPath="/app/DebtManagement/api/customers/customer-ids"}getAllCustomerIds$Response(i,r){return _o(this.http,this.rootUrl,i,r)}getAllCustomerIds(i,r){return this.getAllCustomerIds$Response(i,r).pipe(Mt(l=>l.body))}static{this.\u0275fac=function(r){return new(r||c)(vi(la),vi(aa))}}static{this.\u0275prov=He({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})();function Lc(c,S){if(c&1&&(A(0,"div",18),U(1),B()),c&2){let i=ot();H(),At(" ",i.error," ")}}function Nc(c,S){if(c&1&&(A(0,"div",19),U(1),B()),c&2){let i=ot();H(),At(" ",i.msg," ")}}function Wc(c,S){if(c&1){let i=se();A(0,"div",20)(1,"button",21),pt("click",function(){ct(i);let l=ot();return ut(l.reset())}),A(2,"mat-icon"),U(3,"refresh"),B()(),A(4,"button",22),pt("click",function(){ct(i);let l=ot();return ut(l.createCustomer())}),A(5,"mat-icon"),U(6,"add"),B()()()}}function Yc(c,S){if(c&1){let i=se();A(0,"div",20)(1,"button",23),pt("click",function(){ct(i);let l=ot();return ut(l.deleteCustomer())}),A(2,"mat-icon"),U(3,"delete"),B()(),A(4,"button",24),pt("click",function(){ct(i);let l=ot();return ut(l.updateCustomer())}),A(5,"mat-icon"),U(6,"edit"),B()()()}}var vh=(()=>{class c{constructor(i,r){this.service=i,this.observer=r,this.customer={customerId:"",name:"",telephone:"",province:""},this.id="",this.error="",this.msg="",this.title="Th\xEAm kh\xE1ch h\xE0ng",this.editMode=!1}ngOnInit(){this.observer.object$.subscribe(i=>{i&&i.object&&i.title&&i.editMode&&(this.customer=i.object,this.id=this.customer.customerId||"",this.title=i.title,this.editMode=i.editMode)}),this.observer.reset$.subscribe(i=>{i&&i.mode=="customer"&&this.reset()})}createCustomer(){if(!this.customer.customerId||!this.customer.name||!this.customer.telephone||!this.customer.province){this.error="Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin";return}this.service.createCustomer({body:this.customer}).subscribe({next:i=>{this.msg="Th\xEAm th\xE0nh c\xF4ng",this.error="",this.reset(),setTimeout(()=>{this.error="",this.msg=""},1e3),this.observer.notify({type:"customer",reload:!0})},error:i=>{this.error=i.error}})}reset(){this.customer.customerId="",this.customer.name="",this.customer.telephone="",this.customer.province="",this.title="Th\xEAm kh\xE1ch h\xE0ng",this.editMode=!1}updateCustomer(){if(!this.customer.customerId||!this.customer.name||!this.customer.telephone||!this.customer.province){this.error="Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin";return}this.service.updateCustomer({id:this.id,body:this.customer}).subscribe({next:i=>{this.msg="Ch\u1EC9nh s\u1EEDa th\xE0nh c\xF4ng",this.error="",setTimeout(()=>{this.error="",this.msg=""},1e3),this.observer.notify({type:"customer",reload:!0})},error:i=>{console.log(i),this.error=i.error}})}deleteCustomer(){this.observer.notify({type:"customer",id:this.id})}static{this.\u0275fac=function(r){return new(r||c)(Y(ba),Y(di))}}static{this.\u0275cmp=St({type:c,selectors:[["app-create-customer"]],standalone:!0,features:[Dt],decls:34,vars:9,consts:[["edit",""],["id","createCustomer","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","createCustomerLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","createCustomerLabel",1,"modal-title","fs-5"],["mat-mini-fab","","color","warn","data-bs-dismiss","modal","matTooltip","\u0110\xF3ng","aria-label","Close",1,"button-close"],[1,"modal-body"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"card","card-body","container-sm"],[2,"width","30%"],["type","text","matInput","","placeholder","dieptronghuy",3,"ngModelChange","ngModel"],["type","text","matInput","","placeholder","Di\u1EC7p Tr\u1ECDng Huy",3,"ngModelChange","ngModel"],[2,"width","20%"],["type","text","matInput","","placeholder","0902386997",3,"ngModelChange","ngModel"],["type","text","matInput","","placeholder","S\xE0i G\xF2n",3,"ngModelChange","ngModel"],["class","modal-footer",4,"ngIf","ngIfElse"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-success"],[1,"modal-footer"],["mat-mini-fab","","color","primary","matTooltip","L\xE0m m\u1EDBi",3,"click"],["mat-mini-fab","","color","accent","matTooltip","Th\xEAm",3,"click"],["mat-mini-fab","","color","warn","matTooltip","X\xF3a","tabindex","-1","data-bs-toggle","modal","data-bs-target","#deleteModal",3,"click"],["mat-mini-fab","","color","accent","matTooltip","Ch\u1EC9nh s\u1EEDa",3,"click"]],template:function(r,l){if(r&1){let f=se();A(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h1",5),U(5),B(),A(6,"button",6)(7,"mat-icon"),U(8,"close"),B()()(),A(9,"div",7),ft(10,Lc,2,1,"div",8)(11,Nc,2,1,"div",9),A(12,"div")(13,"div",10)(14,"div")(15,"mat-form-field",11)(16,"mat-label"),U(17,"M\xE3 kh\xE1ch h\xE0ng"),B(),A(18,"input",12),ue("ngModelChange",function(z){return ct(f),ce(l.customer.customerId,z)||(l.customer.customerId=z),ut(z)}),B()(),A(19,"mat-form-field",11)(20,"mat-label"),U(21,"T\xEAn kh\xE1ch h\xE0ng"),B(),A(22,"input",13),ue("ngModelChange",function(z){return ct(f),ce(l.customer.name,z)||(l.customer.name=z),ut(z)}),B()(),A(23,"mat-form-field",14)(24,"mat-label"),U(25,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i"),B(),A(26,"input",15),ue("ngModelChange",function(z){return ct(f),ce(l.customer.telephone,z)||(l.customer.telephone=z),ut(z)}),B()(),A(27,"mat-form-field",14)(28,"mat-label"),U(29,"T\u1EC9nh/Th\xE0nh ph\u1ED1"),B(),A(30,"input",16),ue("ngModelChange",function(z){return ct(f),ce(l.customer.province,z)||(l.customer.province=z),ut(z)}),B()()()()()(),ft(31,Wc,7,0,"div",17)(32,Yc,7,0,"ng-template",null,0,Ua),B()()()}if(r&2){let f=Qi(33);H(5),At(" ",l.title," "),H(5),lt("ngIf",l.error.length),H(),lt("ngIf",l.msg.length),H(7),de("ngModel",l.customer.customerId),H(4),de("ngModel",l.customer.name),H(4),de("ngModel",l.customer.telephone),H(4),de("ngModel",l.customer.province),H(),lt("ngIf",!l.editMode)("ngIfElse",f)}},dependencies:[Oi,Ei,Fi,Bi,Pi,Ai,Ri,Ii,hi,je,li,Zi,ca,dn]})}}return c})();var zc=()=>[10,20,30];function Hc(c,S){if(c&1){let i=se();A(0,"th",13)(1,"mat-form-field",14)(2,"mat-label")(3,"mat-icon",15),U(4," search "),B(),A(5,"span",16),U(6,"M\xE3 kh\xE1ch h\xE0ng"),B()(),A(7,"input",17),pt("keyup",function(){ct(i);let l=ot();return ut(l.filter())}),ue("ngModelChange",function(l){ct(i);let f=ot();return ce(f.idQuery,l)||(f.idQuery=l),ut(l)}),B(),A(8,"button",18),pt("click",function(){ct(i);let l=ot();return ut(l.clear("id"))}),A(9,"mat-icon"),U(10,"close"),B()()()()}if(c&2){let i=ot();H(7),de("ngModel",i.idQuery)}}function Xc(c,S){if(c&1&&(A(0,"td",19),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.customerId," ")}}function jc(c,S){c&1&&(A(0,"th",20),U(1," T\xEAn kh\xE1ch h\xE0ng "),B())}function Gc(c,S){if(c&1&&(A(0,"td",19),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.name," ")}}function Uc(c,S){c&1&&(A(0,"th",20),U(1," S\u1ED1 \u0111i\u1EC7n tho\u1EA1i "),B())}function $c(c,S){if(c&1&&(A(0,"td",19),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.telephone," ")}}function Qc(c,S){if(c&1){let i=se();A(0,"th",13)(1,"mat-form-field",14)(2,"mat-label")(3,"mat-icon"),U(4," search "),B(),U(5," T\u1EC9nh/Th\xE0nh ph\u1ED1 "),B(),A(6,"input",21),pt("keyup",function(){ct(i);let l=ot();return ut(l.filter())}),ue("ngModelChange",function(l){ct(i);let f=ot();return ce(f.provinceQuery,l)||(f.provinceQuery=l),ut(l)}),B(),A(7,"button",18),pt("click",function(){ct(i);let l=ot();return ut(l.clear("province"))}),A(8,"mat-icon"),U(9,"close"),B()()()()}if(c&2){let i=ot();H(6),de("ngModel",i.provinceQuery)}}function Kc(c,S){if(c&1&&(A(0,"td",19),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.province," ")}}function Jc(c,S){c&1&&Et(0,"tr",22)}function Zc(c,S){if(c&1){let i=se();A(0,"tr",23),pt("click",function(){let l=ct(i).$implicit,f=ot();return ut(f.setCustomer(l))}),B()}}function qc(c,S){if(c&1&&(A(0,"div",24)(1,"h1",25),U(2),B(),Et(3,"app-invoice-list",26),B()),c&2){let i=ot();H(2),At("\u0110\u01A1n h\xE0ng c\u1EE7a ",i.customer.customerId,""),H(),lt("input",i.invoices)}}var yh=(()=>{class c{constructor(i,r){this.observer=i,this.invoiceService=r,this.customers=[],this.dataSource=new Ue([]),this.columnsToDisplay=["id","name","telephone","province"],this.filteredCustomers=[],this.idQuery="",this.provinceQuery="",this.customer={},this.invoices=[]}ngOnInit(){this.observer.object$.subscribe(i=>{i&&i.type=="customer"&&i.reload&&(this.idQuery="")}),this.filter()}ngOnChanges(i){this.ngOnInit(),this.ngAfterViewInit()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}set input(i){this.customers=i,this.filteredCustomers=i,this.dataSource=new Ue(this.customers)}setCustomer(i){this.observer.notify({object:Xa({},i),title:"Ch\u1EC9nh s\u1EEDa kh\xE1ch h\xE0ng",editMode:!0}),this.idQuery=i.customerId||"",this.filter()}filter(){this.filteredCustomers=this.customers,this.filterByCustomerId(),this.filterByProvince(),this.filteredCustomers.length==1?(this.customer=this.filteredCustomers[0],this.invoiceService.getAllInvoicesOfCustomer({id:this.customer.customerId||""}).subscribe({next:i=>this.invoices=i})):this.customer={},this.dataSource=new Ue(this.filteredCustomers),this.ngAfterViewInit()}filterByCustomerId(){this.idQuery&&(this.filteredCustomers=this.filteredCustomers.filter(i=>i.customerId?.toLowerCase().includes(this.idQuery.toLowerCase())))}filterByProvince(){this.provinceQuery&&(this.filteredCustomers=this.filteredCustomers.filter(i=>i.province?.toLowerCase().includes(this.provinceQuery.toLowerCase())))}clear(i){i==="id"?this.idQuery="":i==="province"&&(this.provinceQuery=""),this.filter()}static{this.\u0275fac=function(r){return new(r||c)(Y(di),Y(zn))}}static{this.\u0275cmp=St({type:c,selectors:[["app-customer-list"]],viewQuery:function(r,l){if(r&1&&ve(qi,5),r&2){let f;Lt(f=Nt())&&(l.paginator=f.first)}},inputs:{input:"input"},standalone:!0,features:[ke,Dt],decls:18,vars:6,consts:[[1,"table-container"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","class","form-field-container",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","telephone"],["matColumnDef","province"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","data-bs-toggle","modal","data-bs-target","#createCustomer",3,"click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["style","margin-top: 5rem",4,"ngIf"],["mat-header-cell","",1,"form-field-container"],[1,"form-field"],["aria-hidden","true"],["cdk-visually-hidden",""],["matInput","","placeholder","dieptronghuy",3,"keyup","ngModelChange","ngModel"],["mat-icon-button","","matSuffix","",3,"click"],["mat-cell",""],["mat-header-cell",""],["matInput","","placeholder","TPHCM",3,"keyup","ngModelChange","ngModel"],["mat-header-row",""],["mat-row","","data-bs-toggle","modal","data-bs-target","#createCustomer",3,"click"],[2,"margin-top","5rem"],[2,"text-align","center","font-weight","bold"],[3,"input"]],template:function(r,l){r&1&&(A(0,"div",0)(1,"table",1),De(2,2),ft(3,Hc,11,1,"th",3)(4,Xc,2,1,"td",4),Pe(),De(5,5),ft(6,jc,2,0,"th",6)(7,Gc,2,1,"td",4),Pe(),De(8,7),ft(9,Uc,2,0,"th",6)(10,$c,2,1,"td",4),Pe(),De(11,8),ft(12,Qc,10,1,"th",3)(13,Kc,2,1,"td",4),Pe(),ft(14,Jc,1,0,"tr",9)(15,Zc,1,0,"tr",10),B(),Et(16,"mat-paginator",11),B(),ft(17,qc,4,2,"div",12)),r&2&&(H(),lt("dataSource",l.dataSource),H(13),lt("matHeaderRowDef",l.columnsToDisplay),H(),lt("matRowDefColumns",l.columnsToDisplay),H(),lt("pageSizeOptions",ea(5,zc)),H(),lt("ngIf",l.filteredCustomers.length==1))},dependencies:[Ln,Dn,In,Bn,An,Pn,On,En,Fn,Rn,Vn,Va,qi,hi,je,oa,Ai,Ii,sa,ra,Ri,Oi,Ei,Fi,Bi,Pi,li,an,mo],styles:[".form-field-container[_ngcontent-%COMP%]{padding:0}.form-field[_ngcontent-%COMP%]{width:100%}"]})}}return c})();var tu=()=>[10,20,30];function eu(c,S){if(c&1){let i=se();A(0,"th",12)(1,"mat-form-field",13)(2,"mat-label")(3,"mat-icon",14),U(4," search "),B(),A(5,"span",15),U(6,"M\xE3 s\u1EA3n ph\u1EA9m"),B()(),A(7,"input",16),pt("keyup",function(){ct(i);let l=ot();return ut(l.filter())}),ue("ngModelChange",function(l){ct(i);let f=ot();return ce(f.idQuery,l)||(f.idQuery=l),ut(l)}),B(),A(8,"button",17),pt("click",function(){ct(i);let l=ot();return ut(l.clear())}),A(9,"mat-icon"),U(10,"close"),B()()()()}if(c&2){let i=ot();H(7),de("ngModel",i.idQuery)}}function iu(c,S){if(c&1&&(A(0,"td",18),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.productId," ")}}function nu(c,S){c&1&&(A(0,"th",19),U(1," T\xEAn s\u1EA3n ph\u1EA9m "),B())}function au(c,S){if(c&1&&(A(0,"td",18),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.name," ")}}function su(c,S){c&1&&(A(0,"th",19),U(1," Quy c\xE1ch \u0111\xF3ng g\xF3i s\u1EA3n ph\u1EA9m "),B())}function ou(c,S){if(c&1&&(A(0,"td",18),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.specifications.length," quy c\xE1ch ")}}function ru(c,S){c&1&&Et(0,"tr",20)}function lu(c,S){if(c&1){let i=se();A(0,"tr",21),pt("click",function(){let l=ct(i).$implicit,f=ot();return ut(f.setProduct(l))}),B()}}function hu(c,S){c&1&&(A(0,"th",19),U(1,"Gi\xE1 ti\u1EC1n"),B())}function du(c,S){if(c&1&&(A(0,"td",18),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.price," ")}}function cu(c,S){c&1&&(A(0,"th",19),U(1,"\u0110\u01A1n v\u1ECB t\xEDnh"),B())}function uu(c,S){if(c&1&&(A(0,"td",18),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.unit," ")}}function pu(c,S){c&1&&(A(0,"th",19),U(1,"S\u1ED1 l\u01B0\u1EE3ng m\u1ED7i th\xF9ng"),B())}function mu(c,S){if(c&1&&(A(0,"td",18),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.amountPerBox," ")}}function gu(c,S){c&1&&Et(0,"tr",20)}function fu(c,S){c&1&&Et(0,"tr",27)}function _u(c,S){if(c&1&&(A(0,"div",22)(1,"h2"),U(2),B(),A(3,"table",1),De(4,23),ft(5,hu,2,0,"th",6)(6,du,2,1,"td",4),Pe(),De(7,24),ft(8,cu,2,0,"th",6)(9,uu,2,1,"td",4),Pe(),De(10,25),ft(11,pu,2,0,"th",6)(12,mu,2,1,"td",4),Pe(),ft(13,gu,1,0,"tr",8)(14,fu,1,0,"tr",26),B()()),c&2){let i=ot();H(2),At("Quy c\xE1ch \u0111\xF3ng g\xF3i ",i.product.id," "),H(),lt("dataSource",i.dataSourceSpecifications),H(10),lt("matHeaderRowDef",i.columnsToDisplaySpec),H(),lt("matRowDefColumns",i.columnsToDisplaySpec)}}var Ch=(()=>{class c{constructor(i){this.observer=i,this.products=[],this.dataSource=new Ue([]),this.columnsToDisplay=["id","name","specification"],this.columnsToDisplaySpec=["price","unit","amountPerBox"],this.idQuery="",this.filteredProducts=[],this.product={},this.dataSourceSpecifications=new Ue([])}ngOnInit(){this.observer.object$.subscribe(i=>{i&&i.type=="product"&&i.delete&&(this.idQuery="",this.filter())})}ngOnChanges(i){this.ngAfterViewInit()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}set productList(i){this.products=i,this.filteredProducts=i,this.dataSource=new Ue(i)}setProduct(i){this.observer.notify({object:Xa({},i),title:"Ch\u1EC9nh s\u1EEDa s\u1EA3n ph\u1EA9m",editMode:!0}),this.idQuery=i.productId||"",this.filter()}filter(){this.idQuery?this.filteredProducts=this.products.filter(i=>i.productId?.toLowerCase().includes(this.idQuery.toLowerCase())):this.filteredProducts=this.products,this.filteredProducts.length==1&&(this.product=this.filteredProducts[0],this.product.specifications&&(this.dataSourceSpecifications=new Ue(this.product.specifications))),this.dataSource=new Ue(this.filteredProducts)}clear(){this.idQuery="",this.filter()}static{this.\u0275fac=function(r){return new(r||c)(Y(di))}}static{this.\u0275cmp=St({type:c,selectors:[["app-product-list"]],viewQuery:function(r,l){if(r&1&&ve(qi,5),r&2){let f;Lt(f=Nt())&&(l.paginator=f.first)}},inputs:{productList:"productList"},standalone:!0,features:[ke,Dt],decls:15,vars:6,consts:[[1,"table-container"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","class","form-field-container",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","specification"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","data-bs-toggle","modal","data-bs-target","#createProduct",3,"click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["class","table-container","style","margin-right: 10%; margin-top: 5rem",4,"ngIf"],["mat-header-cell","",1,"form-field-container"],[1,"form-field"],["aria-hidden","true"],["cdk-visually-hidden",""],["matInput","","placeholder","DG01",3,"keyup","ngModelChange","ngModel"],["mat-icon-button","","matSuffix","",3,"click"],["mat-cell",""],["mat-header-cell",""],["mat-header-row",""],["mat-row","","data-bs-toggle","modal","data-bs-target","#createProduct",3,"click"],[1,"table-container",2,"margin-right","10%","margin-top","5rem"],["matColumnDef","price"],["matColumnDef","unit"],["matColumnDef","amountPerBox"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-row",""]],template:function(r,l){r&1&&(A(0,"div",0)(1,"table",1),De(2,2),ft(3,eu,11,1,"th",3)(4,iu,2,1,"td",4),Pe(),De(5,5),ft(6,nu,2,0,"th",6)(7,au,2,1,"td",4),Pe(),De(8,7),ft(9,su,2,0,"th",6)(10,ou,2,1,"td",4),Pe(),ft(11,ru,1,0,"tr",8)(12,lu,1,0,"tr",9),B(),Et(13,"mat-paginator",10),B(),ft(14,_u,15,4,"div",11)),r&2&&(H(),lt("dataSource",l.dataSource),H(10),lt("matHeaderRowDef",l.columnsToDisplay),H(),lt("matRowDefColumns",l.columnsToDisplay),H(),lt("pageSizeOptions",ea(5,tu)),H(),lt("ngIf",l.filteredProducts.length==1))},dependencies:[Pi,Ln,Dn,In,Bn,An,Pn,On,En,Fn,Rn,Vn,Va,qi,Oi,Ei,Fi,Bi,Ai,je,an,Ri,Ii,sa],styles:[".form-field-container[_ngcontent-%COMP%]{padding:0}.form-field[_ngcontent-%COMP%]{width:100%}"]})}}return c})();var bu={animation:!0,transitionTimerDelayMs:5};var{transitionTimerDelayMs:tb}=bu;var eb=(()=>{let c=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,S=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(c()||S()):!1})();var ib=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var nb=new Date(1882,10,12),ab=new Date(2174,10,25);var sb=1e3*60*60*24;var ur=1080,xu=24*ur,vu=12*ur+793,ob=29*xu+vu,rb=11*ur+204;var Mh=(()=>{class c{static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275mod=ei({type:c})}static{this.\u0275inj=qe({})}}return c})();var lb=new ti("live announcer delay",{providedIn:"root",factory:()=>100});var fr=["*"];function yu(c,S){c&1&&Ge(0)}var Cu=["tabListContainer"],Mu=["tabList"],wu=["tabListInner"],Tu=["nextPaginator"],Su=["previousPaginator"],ku=c=>({animationDuration:c}),Du=(c,S)=>({value:c,params:S});function Pu(c,S){}var Iu=["tabBodyWrapper"],Au=["tabHeader"];function Eu(c,S){}function Fu(c,S){if(c&1&&ft(0,Eu,0,0,"ng-template",12),c&2){let i=ot().$implicit;lt("cdkPortalOutlet",i.templateLabel)}}function Bu(c,S){if(c&1&&U(0),c&2){let i=ot().$implicit;Ci(i.textLabel)}}function Ou(c,S){if(c&1){let i=se();A(0,"div",7,2),pt("click",function(){let l=ct(i),f=l.$implicit,k=l.$index,z=ot(),Pt=Qi(1);return ut(z._handleClick(f,Pt,k))})("cdkFocusChange",function(l){let f=ct(i).$index,k=ot();return ut(k._tabFocusChanged(l,f))}),Et(2,"span",8)(3,"div",9),A(4,"span",10)(5,"span",11),ft(6,Fu,1,1,null,12)(7,Bu,1,1),B()()()}if(c&2){let i=S.$implicit,r=S.$index,l=Qi(1),f=ot();Tn(i.labelClass),Be("mdc-tab--active",f.selectedIndex===r),lt("id",f._getTabLabelId(r))("disabled",i.disabled)("fitInkBarToContent",f.fitInkBarToContent),Re("tabIndex",f._getTabIndex(r))("aria-posinset",r+1)("aria-setsize",f._tabs.length)("aria-controls",f._getTabContentId(r))("aria-selected",f.selectedIndex===r)("aria-label",i.ariaLabel||null)("aria-labelledby",!i.ariaLabel&&i.ariaLabelledby?i.ariaLabelledby:null),H(3),lt("matRippleTrigger",l)("matRippleDisabled",i.disabled||f.disableRipple),H(3),mi(6,i.templateLabel?6:7)}}function Ru(c,S){c&1&&Ge(0)}function Vu(c,S){if(c&1){let i=se();A(0,"mat-tab-body",13),pt("_onCentered",function(){ct(i);let l=ot();return ut(l._removeTabBodyWrapperHeight())})("_onCentering",function(l){ct(i);let f=ot();return ut(f._setTabBodyWrapperHeight(l))}),B()}if(c&2){let i=S.$implicit,r=S.$index,l=ot();Tn(i.bodyClass),Be("mat-mdc-tab-body-active",l.selectedIndex===r),lt("id",l._getTabContentId(r))("content",i.content)("position",i.position)("origin",i.origin)("animationDuration",l.animationDuration)("preserveContent",l.preserveContent),Re("tabindex",l.contentTabIndex!=null&&l.selectedIndex===r?l.contentTabIndex:null)("aria-labelledby",l._getTabLabelId(r))("aria-hidden",l.selectedIndex!==r)}}var Lu=new ti("MatTabContent"),_r=(()=>{class c{constructor(i){this.template=i}static{this.\u0275fac=function(r){return new(r||c)(Y(pi))}}static{this.\u0275dir=Jt({type:c,selectors:[["","matTabContent",""]],standalone:!0,features:[ye([{provide:Lu,useExisting:c}])]})}}return c})(),Nu=new ti("MatTabLabel"),Sh=new ti("MAT_TAB"),Wu=(()=>{class c extends Pl{constructor(i,r,l){super(i,r),this._closestTab=l}static{this.\u0275fac=function(r){return new(r||c)(Y(pi),Y(zi),Y(Sh,8))}}static{this.\u0275dir=Jt({type:c,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[ye([{provide:Nu,useExisting:c}]),Ee]})}}return c})(),kh=new ti("MAT_TAB_GROUP"),br=(()=>{class c{get templateLabel(){return this._templateLabel}set templateLabel(i){this._setTemplateLabelInput(i)}get content(){return this._contentPortal}constructor(i,r){this._viewContainerRef=i,this._closestTabGroup=r,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new ri,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(i){(i.hasOwnProperty("textLabel")||i.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Ja(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(i){i&&i._closestTab===this&&(this._templateLabel=i)}static{this.\u0275fac=function(r){return new(r||c)(Y(zi),Y(kh,8))}}static{this.\u0275cmp=St({type:c,selectors:[["mat-tab"]],contentQueries:function(r,l,f){if(r&1&&(Xe(f,Wu,5),Xe(f,_r,7,pi)),r&2){let k;Lt(k=Nt())&&(l.templateLabel=k.first),Lt(k=Nt())&&(l._explicitContent=k.first)}},viewQuery:function(r,l){if(r&1&&ve(pi,7),r&2){let f;Lt(f=Nt())&&(l._implicitContent=f.first)}},hostAttrs:["hidden",""],inputs:{disabled:[kt.HasDecoratorInputTransform,"disabled","disabled",me],textLabel:[kt.None,"label","textLabel"],ariaLabel:[kt.None,"aria-label","ariaLabel"],ariaLabelledby:[kt.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[ye([{provide:Sh,useExisting:c}]),Qe,ke,Dt],ngContentSelectors:fr,decls:1,vars:0,template:function(r,l){r&1&&(yi(),ft(0,yu,1,0,"ng-template"))},encapsulation:2})}}return c})(),pr="mdc-tab-indicator--active",wh="mdc-tab-indicator--no-transition",mr=class{constructor(S){this._items=S}hide(){this._items.forEach(S=>S.deactivateInkBar())}alignToElement(S){let i=this._items.find(l=>l.elementRef.nativeElement===S),r=this._currentItem;if(i!==r&&(r?.deactivateInkBar(),i)){let l=r?.elementRef.nativeElement.getBoundingClientRect?.();i.activateInkBar(l),this._currentItem=i}}},Yu=(()=>{class c{constructor(){this._elementRef=Di(we),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(i){this._fitToContent!==i&&(this._fitToContent=i,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(i){let r=this._elementRef.nativeElement;if(!i||!r.getBoundingClientRect||!this._inkBarContentElement){r.classList.add(pr);return}let l=r.getBoundingClientRect(),f=i.width/l.width,k=i.left-l.left;r.classList.add(wh),this._inkBarContentElement.style.setProperty("transform",`translateX(${k}px) scaleX(${f})`),r.getBoundingClientRect(),r.classList.remove(wh),r.classList.add(pr),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(pr)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let i=this._elementRef.nativeElement.ownerDocument||document,r=this._inkBarElement=i.createElement("span"),l=this._inkBarContentElement=i.createElement("span");r.className="mdc-tab-indicator",l.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",r.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let i=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;i.appendChild(this._inkBarElement)}static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275dir=Jt({type:c,inputs:{fitInkBarToContent:[kt.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",me]},features:[Qe]})}}return c})();var Dh=(()=>{class c extends Yu{constructor(i){super(),this.elementRef=i,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static{this.\u0275fac=function(r){return new(r||c)(Y(we))}}static{this.\u0275dir=Jt({type:c,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(r,l){r&2&&(Re("aria-disabled",!!l.disabled),Be("mat-mdc-tab-disabled",l.disabled))},inputs:{disabled:[kt.HasDecoratorInputTransform,"disabled","disabled",me]},standalone:!0,features:[Qe,Ee]})}}return c})(),Th=Ba({passive:!0}),zu=650,Hu=100,Xu=(()=>{class c{get selectedIndex(){return this._selectedIndex}set selectedIndex(i){let r=isNaN(i)?0:i;this._selectedIndex!=r&&(this._selectedIndexChanged=!0,this._selectedIndex=r,this._keyManager&&this._keyManager.updateActiveItem(r))}constructor(i,r,l,f,k,z,Pt){this._elementRef=i,this._changeDetectorRef=r,this._viewportRuler=l,this._dir=f,this._ngZone=k,this._platform=z,this._animationMode=Pt,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new ri,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new ri,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Bt,this.indexFocused=new Bt,k.runOutsideAngular(()=>{ta(i.nativeElement,"mouseleave").pipe(rn(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){ta(this._previousPaginator.nativeElement,"touchstart",Th).pipe(rn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),ta(this._nextPaginator.nativeElement,"touchstart",Th).pipe(rn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let i=this._dir?this._dir.change:ji("ltr"),r=this._viewportRuler.change(150),l=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new al(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Gi(1)).subscribe(l),Ti(i,r,this._items.changes,this._itemsResized()).pipe(rn(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),l()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(f=>{this.indexFocused.emit(f),this._setTabFocus(f)})}_itemsResized(){return typeof ResizeObserver!="function"?Ar:this._items.changes.pipe(wn(this._items),Aa(i=>new Ir(r=>this._ngZone.runOutsideAngular(()=>{let l=new ResizeObserver(f=>r.next(f));return i.forEach(f=>l.observe(f.elementRef.nativeElement)),()=>{l.disconnect()}}))),Lr(1),Vt(i=>i.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(i){if(!en(i))switch(i.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(i))}break;default:this._keyManager.onKeydown(i)}}_onContentChanges(){let i=this._elementRef.nativeElement.textContent;i!==this._currentTextContent&&(this._currentTextContent=i||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(i){!this._isValidIndex(i)||this.focusIndex===i||!this._keyManager||this._keyManager.setActiveItem(i)}_isValidIndex(i){return this._items?!!this._items.toArray()[i]:!0}_setTabFocus(i){if(this._showPaginationControls&&this._scrollToLabel(i),this._items&&this._items.length){this._items.toArray()[i].focus();let r=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?r.scrollLeft=0:r.scrollLeft=r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let i=this.scrollDistance,r=this._getLayoutDirection()==="ltr"?-i:i;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(i){this._scrollTo(i)}_scrollHeader(i){let r=this._tabListContainer.nativeElement.offsetWidth,l=(i=="before"?-1:1)*r/3;return this._scrollTo(this._scrollDistance+l)}_handlePaginatorClick(i){this._stopInterval(),this._scrollHeader(i)}_scrollToLabel(i){if(this.disablePagination)return;let r=this._items?this._items.toArray()[i]:null;if(!r)return;let l=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:f,offsetWidth:k}=r.elementRef.nativeElement,z,Pt;this._getLayoutDirection()=="ltr"?(z=f,Pt=z+k):(Pt=this._tabListInner.nativeElement.offsetWidth-f,z=Pt-k);let P=this.scrollDistance,zt=this.scrollDistance+l;z<P?this.scrollDistance-=P-z:Pt>zt&&(this.scrollDistance+=Math.min(Pt-zt,z-P))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let i=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;i||(this.scrollDistance=0),i!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=i}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let i=this._tabListInner.nativeElement.scrollWidth,r=this._tabListContainer.nativeElement.offsetWidth;return i-r||0}_alignInkBarToSelectedTab(){let i=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=i?i.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(i,r){r&&r.button!=null&&r.button!==0||(this._stopInterval(),Or(zu,Hu).pipe(rn(Ti(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:l,distance:f}=this._scrollHeader(i);(f===0||f>=l)&&this._stopInterval()}))}_scrollTo(i){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,i)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}static{this.\u0275fac=function(r){return new(r||c)(Y(we),Y(ii),Y(Ta),Y(Si,8),Y(Ui),Y(gn),Y(gs,8))}}static{this.\u0275dir=Jt({type:c,inputs:{disablePagination:[kt.HasDecoratorInputTransform,"disablePagination","disablePagination",me],selectedIndex:[kt.HasDecoratorInputTransform,"selectedIndex","selectedIndex",_s]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Qe]})}}return c})(),ju=(()=>{class c extends Xu{constructor(i,r,l,f,k,z,Pt){super(i,r,l,f,k,z,Pt),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new mr(this._items),super.ngAfterContentInit()}_itemSelected(i){i.preventDefault()}static{this.\u0275fac=function(r){return new(r||c)(Y(we),Y(ii),Y(Ta),Y(Si,8),Y(Ui),Y(gn),Y(gs,8))}}static{this.\u0275cmp=St({type:c,selectors:[["mat-tab-header"]],contentQueries:function(r,l,f){if(r&1&&Xe(f,Dh,4),r&2){let k;Lt(k=Nt())&&(l._items=k)}},viewQuery:function(r,l){if(r&1&&(ve(Cu,7),ve(Mu,7),ve(wu,7),ve(Tu,5),ve(Su,5)),r&2){let f;Lt(f=Nt())&&(l._tabListContainer=f.first),Lt(f=Nt())&&(l._tabList=f.first),Lt(f=Nt())&&(l._tabListInner=f.first),Lt(f=Nt())&&(l._nextPaginator=f.first),Lt(f=Nt())&&(l._previousPaginator=f.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(r,l){r&2&&Be("mat-mdc-tab-header-pagination-controls-enabled",l._showPaginationControls)("mat-mdc-tab-header-rtl",l._getLayoutDirection()=="rtl")},inputs:{disableRipple:[kt.HasDecoratorInputTransform,"disableRipple","disableRipple",me]},standalone:!0,features:[Qe,Ee,Dt],ngContentSelectors:fr,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(r,l){if(r&1){let f=se();yi(),A(0,"button",5,0),pt("click",function(){return ct(f),ut(l._handlePaginatorClick("before"))})("mousedown",function(z){return ct(f),ut(l._handlePaginatorPress("before",z))})("touchend",function(){return ct(f),ut(l._stopInterval())}),Et(2,"div",6),B(),A(3,"div",7,1),pt("keydown",function(z){return ct(f),ut(l._handleKeydown(z))}),A(5,"div",8,2),pt("cdkObserveContent",function(){return ct(f),ut(l._onContentChanges())}),A(7,"div",9,3),Ge(9),B()()(),A(10,"button",10,4),pt("mousedown",function(z){return ct(f),ut(l._handlePaginatorPress("after",z))})("click",function(){return ct(f),ut(l._handlePaginatorClick("after"))})("touchend",function(){return ct(f),ut(l._stopInterval())}),Et(12,"div",6),B()}r&2&&(Be("mat-mdc-tab-header-pagination-disabled",l._disableScrollBefore),lt("matRippleDisabled",l._disableScrollBefore||l.disableRipple)("disabled",l._disableScrollBefore||null),H(3),Be("_mat-animation-noopable",l._animationMode==="NoopAnimations"),H(7),Be("mat-mdc-tab-header-pagination-disabled",l._disableScrollAfter),lt("matRippleDisabled",l._disableScrollAfter||l.disableRipple)("disabled",l._disableScrollAfter||null))},dependencies:[Bo,il],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}}return c})(),Gu=new ti("MAT_TABS_CONFIG"),Uu={translateTab:wa("translateTab",[$n("center, void, left-origin-center, right-origin-center",gi({transform:"none"})),$n("left",gi({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),$n("right",gi({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),ln("* => left, * => right, left => center, right => center",tn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),ln("void => left-origin-center",[gi({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),tn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),ln("void => right-origin-center",[gi({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),tn("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},$u=(()=>{class c extends Sa{constructor(i,r,l,f){super(i,r,f),this._host=l,this._centeringSub=oi.EMPTY,this._leavingSub=oi.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(wn(this._host._isCenterPosition(this._host._position))).subscribe(i=>{i&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static{this.\u0275fac=function(r){return new(r||c)(Y(Hr),Y(zi),Y(Gn(()=>Ph)),Y(ia))}}static{this.\u0275dir=Jt({type:c,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[Ee]})}}return c})(),Ph=(()=>{class c{set position(i){this._positionIndex=i,this._computePositionAnimationState()}constructor(i,r,l){this._elementRef=i,this._dir=r,this._dirChangeSubscription=oi.EMPTY,this._translateTabComplete=new ri,this._onCentering=new Bt,this._beforeCentering=new Bt,this._afterLeavingCenter=new Bt,this._onCentered=new Bt(!0),this.animationDuration="500ms",this.preserveContent=!1,r&&(this._dirChangeSubscription=r.change.subscribe(f=>{this._computePositionAnimationState(f),l.markForCheck()})),this._translateTabComplete.pipe(Vr((f,k)=>f.fromState===k.fromState&&f.toState===k.toState)).subscribe(f=>{this._isCenterPosition(f.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(f.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(i){let r=this._isCenterPosition(i.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(i){return i=="center"||i=="left-origin-center"||i=="right-origin-center"}_computePositionAnimationState(i=this._getLayoutDirection()){this._positionIndex<0?this._position=i=="ltr"?"left":"right":this._positionIndex>0?this._position=i=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(i){let r=this._getLayoutDirection();return r=="ltr"&&i<=0||r=="rtl"&&i>0?"left-origin-center":"right-origin-center"}static{this.\u0275fac=function(r){return new(r||c)(Y(we),Y(Si,8),Y(ii))}}static{this.\u0275cmp=St({type:c,selectors:[["mat-tab-body"]],viewQuery:function(r,l){if(r&1&&ve(Sa,5),r&2){let f;Lt(f=Nt())&&(l._portalHost=f.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[kt.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[Dt],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(r,l){if(r&1){let f=se();A(0,"div",1,0),pt("@translateTab.start",function(z){return ct(f),ut(l._onTranslateTabStarted(z))})("@translateTab.done",function(z){return ct(f),ut(l._translateTabComplete.next(z))}),ft(2,Pu,0,0,"ng-template",2),B()}r&2&&lt("@translateTab",Do(3,Du,l._position,ko(1,ku,l.animationDuration)))},dependencies:[$u,kl],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[Uu.translateTab]}})}}return c})(),Qu=0,Ku=!0,Ih=(()=>{class c{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(i){this._fitInkBarToContent=i,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(i){this._indexToSelect=isNaN(i)?null:i}get animationDuration(){return this._animationDuration}set animationDuration(i){let r=i+"";this._animationDuration=/^\d+$/.test(r)?i+"ms":r}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(i){this._contentTabIndex=isNaN(i)?null:i}get backgroundColor(){return this._backgroundColor}set backgroundColor(i){if(!Ku)throw new Error("mat-tab-group background color must be set through the Sass theming API");let r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),i&&r.add("mat-tabs-with-background",`mat-background-${i}`),this._backgroundColor=i}constructor(i,r,l,f){this._elementRef=i,this._changeDetectorRef=r,this._animationMode=f,this._tabs=new Yr,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=oi.EMPTY,this._tabLabelSubscription=oi.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new Bt,this.focusChange=new Bt,this.animationDone=new Bt,this.selectedTabChange=new Bt(!0),this._isServer=!Di(gn).isBrowser,this._groupId=Qu++,this.animationDuration=l&&l.animationDuration?l.animationDuration:"500ms",this.disablePagination=l&&l.disablePagination!=null?l.disablePagination:!1,this.dynamicHeight=l&&l.dynamicHeight!=null?l.dynamicHeight:!1,l?.contentTabIndex!=null&&(this.contentTabIndex=l.contentTabIndex),this.preserveContent=!!l?.preserveContent,this.fitInkBarToContent=l&&l.fitInkBarToContent!=null?l.fitInkBarToContent:!1,this.stretchTabs=l&&l.stretchTabs!=null?l.stretchTabs:!0}ngAfterContentChecked(){let i=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=i){let r=this._selectedIndex==null;if(!r){this.selectedTabChange.emit(this._createChangeEvent(i));let l=this._tabBodyWrapper.nativeElement;l.style.minHeight=l.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((l,f)=>l.isActive=f===i),r||(this.selectedIndexChange.emit(i),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,l)=>{r.position=l-i,this._selectedIndex!=null&&r.position==0&&!r.origin&&(r.origin=i-this._selectedIndex)}),this._selectedIndex!==i&&(this._selectedIndex=i,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let i=this._clampTabIndex(this._indexToSelect);if(i===this._selectedIndex){let r=this._tabs.toArray(),l;for(let f=0;f<r.length;f++)if(r[f].isActive){this._indexToSelect=this._selectedIndex=f,this._lastFocusedTabIndex=null,l=r[f];break}!l&&r[i]&&Promise.resolve().then(()=>{r[i].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(i))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(wn(this._allTabs)).subscribe(i=>{this._tabs.reset(i.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(i){let r=this._tabHeader;r&&(r.focusIndex=i)}_focusChanged(i){this._lastFocusedTabIndex=i,this.focusChange.emit(this._createChangeEvent(i))}_createChangeEvent(i){let r=new gr;return r.index=i,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[i]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Ti(...this._tabs.map(i=>i._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(i){return Math.min(this._tabs.length-1,Math.max(i||0,0))}_getTabLabelId(i){return`mat-tab-label-${this._groupId}-${i}`}_getTabContentId(i){return`mat-tab-content-${this._groupId}-${i}`}_setTabBodyWrapperHeight(i){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;let r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=i+"px")}_removeTabBodyWrapperHeight(){let i=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=i.clientHeight,i.style.height="",this.animationDone.emit()}_handleClick(i,r,l){r.focusIndex=l,i.disabled||(this.selectedIndex=l)}_getTabIndex(i){let r=this._lastFocusedTabIndex??this.selectedIndex;return i===r?0:-1}_tabFocusChanged(i,r){i&&i!=="mouse"&&i!=="touch"&&(this._tabHeader.focusIndex=r)}static{this.\u0275fac=function(r){return new(r||c)(Y(we),Y(ii),Y(Gu,8),Y(gs,8))}}static{this.\u0275cmp=St({type:c,selectors:[["mat-tab-group"]],contentQueries:function(r,l,f){if(r&1&&Xe(f,br,5),r&2){let k;Lt(k=Nt())&&(l._allTabs=k)}},viewQuery:function(r,l){if(r&1&&(ve(Iu,5),ve(Au,5)),r&2){let f;Lt(f=Nt())&&(l._tabBodyWrapper=f.first),Lt(f=Nt())&&(l._tabHeader=f.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(r,l){r&2&&(Tn("mat-"+(l.color||"primary")),Un("--mat-tab-animation-duration",l.animationDuration),Be("mat-mdc-tab-group-dynamic-height",l.dynamicHeight)("mat-mdc-tab-group-inverted-header",l.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",l.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[kt.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",me],stretchTabs:[kt.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",me],dynamicHeight:[kt.HasDecoratorInputTransform,"dynamicHeight","dynamicHeight",me],selectedIndex:[kt.HasDecoratorInputTransform,"selectedIndex","selectedIndex",_s],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[kt.HasDecoratorInputTransform,"contentTabIndex","contentTabIndex",_s],disablePagination:[kt.HasDecoratorInputTransform,"disablePagination","disablePagination",me],disableRipple:[kt.HasDecoratorInputTransform,"disableRipple","disableRipple",me],preserveContent:[kt.HasDecoratorInputTransform,"preserveContent","preserveContent",me],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[ye([{provide:kh,useExisting:c}]),Qe,Dt],ngContentSelectors:fr,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(r,l){if(r&1){let f=se();yi(),A(0,"mat-tab-header",3,0),pt("indexFocused",function(z){return ct(f),ut(l._focusChanged(z))})("selectFocusedIndex",function(z){return ct(f),ut(l.selectedIndex=z)}),pn(2,Ou,8,17,"div",4,un),B(),ft(4,Ru,1,0),A(5,"div",5,1),pn(7,Vu,1,13,"mat-tab-body",6,un),B()}r&2&&(lt("selectedIndex",l.selectedIndex||0)("disableRipple",l.disableRipple)("disablePagination",l.disablePagination),H(2),mn(l._tabs),H(2),mi(4,l._isServer?4:-1),H(),Be("_mat-animation-noopable",l._animationMode==="NoopAnimations"),H(2),mn(l._tabs))},dependencies:[ju,Dh,$a,Bo,Sa,Ph],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}}return c})(),gr=class{};var Ah=(()=>{class c{static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275mod=ei({type:c})}static{this.\u0275inj=qe({imports:[Ki,Ki]})}}return c})();var Eh=(()=>{class c{constructor(i,r,l,f){this.observer=i,this.customerService=r,this.productService=l,this.invoiceService=f,this.type="",this.id=""}ngOnInit(){this.observer.object$.subscribe(i=>{i&&i.type&&i.id&&(this.type=i.type,this.id=i.id)})}delete(){switch(this.type){case"customer":{this.customerService.deleteCustomer({id:this.id}).subscribe({next:i=>{this.observer.notify({type:"customer",reload:!0,delete:!0})},error:i=>console.log(i)});break}case"product":{this.productService.deleteProduct({id:this.id}).subscribe({next:i=>{this.observer.notify({type:"product",reload:!0,delete:!0})},error:i=>console.log(i)});break}case"invoice":{this.invoiceService.deleteInvoice({id:this.id}).subscribe({next:i=>{this.observer.notify({type:"invoice",reload:!0,delete:!0})},error:i=>console.log(i)});break}}}static{this.\u0275fac=function(r){return new(r||c)(Y(di),Y(ba),Y(Wn),Y(zn))}}static{this.\u0275cmp=St({type:c,selectors:[["app-delete-confirmation"]],standalone:!0,features:[Dt],decls:15,vars:0,consts:[["id","deleteModal","tabindex","-1","aria-labelledby","deleteModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deleteModalLabel",1,"modal-title","fs-5"],["mat-mini-fab","","color","warn","data-bs-dismiss","modal","matTooltip","\u0110\xF3ng","aria-label","Close",1,"button-close"],[1,"modal-body"],[1,"modal-footer"],["mat-mini-fab","","color","accent","matTooltip","X\xE1c nh\u1EADn","data-bs-dismiss","modal",3,"click"]],template:function(r,l){r&1&&(A(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),U(5,"X\xE1c nh\u1EADn"),B(),A(6,"button",5)(7,"mat-icon"),U(8,"close"),B()()(),A(9,"div",6),U(10," Ch\u1EAFn ch\u1EAFn mu\u1ED1n x\xF3a? "),B(),A(11,"div",7)(12,"button",8),pt("click",function(){return l.delete()}),A(13,"mat-icon"),U(14,"check_circle"),B()()()()()())},dependencies:[je,Zi,dn]})}}return c})();var Fh=(()=>{class c{constructor(i,r,l){this.observer=i,this.router=r,this.authService=l,this.user={id:"",name:""}}ngOnInit(){this.authService.getCurrentUser().subscribe({next:i=>this.user=i})}reset(i){this.observer.resetNotify({mode:i})}logout(){wl.deleteToken(),this.router.navigate(["/login"])}static{this.\u0275fac=function(r){return new(r||c)(Y(di),Y(Kr),Y(da))}}static{this.\u0275cmp=St({type:c,selectors:[["app-navigation"]],standalone:!0,features:[Dt],decls:22,vars:5,consts:[["id","tool",1,"navbar-expand-lg"],[1,"navbar-nav"],[1,"nav-item"],["mat-mini-fab","","color","tertiary","data-bs-toggle","modal","matTooltip","Th\xEAm h\xF3a \u0111\u01A1n","data-bs-target","#createInvoice",1,"tool-btn",3,"click","matTooltipPosition"],["mat-mini-fab","","color","secondary","data-bs-toggle","modal","matTooltip","Th\xEAm kh\xE1ch h\xE0ng","data-bs-target","#createCustomer",1,"tool-btn",3,"click","matTooltipPosition"],["mat-mini-fab","","color","secondary","matTooltip","Th\xEAm s\u1EA3n ph\u1EA9m","data-bs-toggle","modal","data-bs-target","#createProduct",1,"tool-btn",3,"click","matTooltipPosition"],["mat-mini-fab","","color","secondary","matTooltip","\u0110\u0103ng xu\u1EA5t",1,"tool-btn",3,"click","matTooltipPosition"],["mat-mini-fab","","color","secondary","id","logo"],["ngSrc","assets/logo.png","alt","logo","height","60","width","60","priority",""],["id","username"]],template:function(r,l){r&1&&(A(0,"nav",0)(1,"ul",1)(2,"li",2)(3,"button",3),pt("click",function(){return l.reset("invoice")}),A(4,"mat-icon"),U(5,"receipt_long"),B()()(),A(6,"li",2)(7,"button",4),pt("click",function(){return l.reset("customer")}),A(8,"mat-icon"),U(9,"person_add"),B()()(),A(10,"li",2)(11,"button",5),pt("click",function(){return l.reset("product")}),A(12,"mat-icon"),U(13,"inventory_2"),B()()(),A(14,"li",2)(15,"button",6),pt("click",function(){return l.logout()}),A(16,"mat-icon"),U(17,"logout"),B()()()()(),A(18,"button",7),Et(19,"img",8),B(),A(20,"h2",9),U(21),B()),r&2&&(H(3),lt("matTooltipPosition","below"),H(4),lt("matTooltipPosition","below"),H(4),lt("matTooltipPosition","below"),H(4),lt("matTooltipPosition","below"),H(6),At(" Xin ch\xE0o, ",l.user.name,`
`))},dependencies:[hi,je,ca,dn,li,Zi,Qr],styles:["#tool[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;z-index:1000}.tool-btn[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}#logo[_ngcontent-%COMP%]{position:absolute;top:15px;left:20px}#username[_ngcontent-%COMP%]{position:absolute;top:15px;left:150px}"]})}}return c})();var hp=Pr(Bl()),Nh=Pr(Bl());var qu=["panel"],tp=["*"];function ep(c,S){if(c&1){let i=se();A(0,"div",1,0),pt("@panelAnimation.done",function(l){ct(i);let f=ot();return ut(f._animationDone.next(l))}),Ge(2),B()}if(c&2){let i=S.id,r=ot();Tn(r._classList),Be("mat-mdc-autocomplete-visible",r.showPanel)("mat-mdc-autocomplete-hidden",!r.showPanel)("mat-primary",r._color==="primary")("mat-accent",r._color==="accent")("mat-warn",r._color==="warn"),lt("id",r.id)("@panelAnimation",r.isOpen?"visible":"hidden"),Re("aria-label",r.ariaLabel||null)("aria-labelledby",r._getPanelAriaLabelledby(i))}}var ip=wa("panelAnimation",[$n("void, hidden",gi({opacity:0,transform:"scaleY(0.8)"})),ln(":enter, hidden => visible",[el([tn("0.03s linear",gi({opacity:1})),tn("0.12s cubic-bezier(0, 0, 0.2, 1)",gi({transform:"scaleY(1)"}))])]),ln(":leave, visible => hidden",[tn("0.075s linear",gi({opacity:0}))])]),np=0,vr=class{constructor(S,i){this.source=S,this.option=i}},Bh=new ti("mat-autocomplete-default-options",{providedIn:"root",factory:ap});function ap(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var Oh=(()=>{class c{get isOpen(){return this._isOpen&&this.showPanel}_setColor(i){this._color=i,this._changeDetectorRef.markForCheck()}set classList(i){this._classList=i,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(i){this._hideSingleSelectionIndicator=i,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(let i of this.options)i._changeDetectorRef.markForCheck()}constructor(i,r,l,f){this._changeDetectorRef=i,this._elementRef=r,this._defaults=l,this._activeOptionChanges=oi.EMPTY,this._animationDone=new Bt,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new Bt,this.opened=new Bt,this.closed=new Bt,this.optionActivated=new Bt,this.id=`mat-autocomplete-${np++}`,this.inertGroups=f?.SAFARI||!1,this.autoActiveFirstOption=!!l.autoActiveFirstOption,this.autoSelectActiveOption=!!l.autoSelectActiveOption,this.requireSelection=!!l.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new nl(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(i=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[i]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(i){this.panel&&(this.panel.nativeElement.scrollTop=i)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(i){let r=new vr(this,i);this.optionSelected.emit(r)}_getPanelAriaLabelledby(i){if(this.ariaLabel)return null;let r=i?i+" ":"";return this.ariaLabelledby?r+this.ariaLabelledby:i}_skipPredicate(){return!1}static{this.\u0275fac=function(r){return new(r||c)(Y(ii),Y(we),Y(Bh),Y(gn))}}static{this.\u0275cmp=St({type:c,selectors:[["mat-autocomplete"]],contentQueries:function(r,l,f){if(r&1&&(Xe(f,Cs,5),Xe(f,hl,5)),r&2){let k;Lt(k=Nt())&&(l.options=k),Lt(k=Nt())&&(l.optionGroups=k)}},viewQuery:function(r,l){if(r&1&&(ve(pi,7),ve(qu,5)),r&2){let f;Lt(f=Nt())&&(l.template=f.first),Lt(f=Nt())&&(l.panel=f.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[kt.None,"aria-label","ariaLabel"],ariaLabelledby:[kt.None,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[kt.HasDecoratorInputTransform,"autoActiveFirstOption","autoActiveFirstOption",me],autoSelectActiveOption:[kt.HasDecoratorInputTransform,"autoSelectActiveOption","autoSelectActiveOption",me],requireSelection:[kt.HasDecoratorInputTransform,"requireSelection","requireSelection",me],panelWidth:"panelWidth",disableRipple:[kt.HasDecoratorInputTransform,"disableRipple","disableRipple",me],classList:[kt.None,"class","classList"],hideSingleSelectionIndicator:[kt.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",me]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[ye([{provide:ll,useExisting:c}]),Qe,Dt],ngContentSelectors:tp,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(r,l){r&1&&(yi(),ft(0,ep,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[ip]},changeDetection:0})}}return c})();var sp={provide:Oa,useExisting:Gn(()=>yr),multi:!0};var Rh=new ti("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let c=Di(kn);return()=>c.scrollStrategies.reposition()}});function op(c){return()=>c.scrollStrategies.reposition()}var rp={provide:Rh,deps:[kn],useFactory:op},yr=(()=>{class c{constructor(i,r,l,f,k,z,Pt,P,zt,fe,xe){this._element=i,this._overlay=r,this._viewContainerRef=l,this._zone=f,this._changeDetectorRef=k,this._dir=Pt,this._formField=P,this._document=zt,this._viewportRuler=fe,this._defaults=xe,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=oi.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new ri,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=Br(()=>{let wt=this.autocomplete?this.autocomplete.options:null;return wt?wt.changes.pipe(wn(wt),Aa(()=>Ti(...wt.map(ee=>ee.onSelectionChange)))):this._zone.onStable.pipe(Gi(1),Aa(()=>this.optionSelections))}),this._handlePanelKeydown=wt=>{(wt.keyCode===27&&!en(wt)||wt.keyCode===38&&en(wt,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),wt.stopPropagation(),wt.preventDefault())},this._trackedModal=null,this._scrollStrategy=z}ngAfterViewInit(){let i=this._getWindow();typeof i<"u"&&this._zone.runOutsideAngular(()=>i.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(i){i.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){let i=this._getWindow();typeof i<"u"&&i.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&vs(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Ti(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Vt(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Vt(()=>this._overlayAttached)):ji()).pipe(Mt(i=>i instanceof dl?i:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Ti(ta(this._document,"click"),ta(this._document,"auxclick"),ta(this._document,"touchend")).pipe(Vt(i=>{let r=Zr(i),l=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,f=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&r!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!l||!l.contains(r))&&(!f||!f.contains(r))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(r)}))}writeValue(i){Promise.resolve(null).then(()=>this._assignOptionValue(i))}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this._element.nativeElement.disabled=i}_handleKeydown(i){let r=i.keyCode,l=en(i);if(r===27&&!l&&i.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&r===13&&this.panelOpen&&!l)this.activeOption._selectViaInteraction(),this._resetActiveItem(),i.preventDefault();else if(this.autocomplete){let f=this.autocomplete._keyManager.activeItem,k=r===38||r===40;r===9||k&&!l&&this.panelOpen?this.autocomplete._keyManager.onKeydown(i):k&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(k||this.autocomplete._keyManager.activeItem!==f)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(i){let r=i.target,l=r.value;if(r.type==="number"&&(l=l==""?null:parseFloat(l)),this._previousValue!==l){if(this._previousValue=l,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(l),!l)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let f=this.autocomplete.options?.find(k=>k.selected);if(f){let k=this._getDisplayValue(f.value);l!==k&&f.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===i.target){let f=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(f)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(i=!1){this._formField&&this._formField.floatLabel==="auto"&&(i?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let i=this._zone.onStable.pipe(Gi(1)),r=this.autocomplete.options.changes.pipe(Nr(()=>this._positionStrategy.reapplyLastPosition()),Rr(0));return Ti(i,r).pipe(Aa(()=>(this._zone.run(()=>{let l=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),l!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit())}),this.panelClosingActions)),Gi(1)).subscribe(l=>this._setValueAndClose(l))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(i){let r=this.autocomplete;return r&&r.displayWith?r.displayWith(i):i}_assignOptionValue(i){let r=this._getDisplayValue(i);i==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(r??"")}_updateNativeInputValue(i){this._formField?this._formField._control.value=i:this._element.nativeElement.value=i,this._previousValue=i}_setValueAndClose(i){let r=this.autocomplete,l=i?i.source:this._pendingAutoselectedOption;l?(this._clearPreviousSelectedOption(l),this._assignOptionValue(l.value),this._onChange(l.value),r._emitSelectEvent(l),this._element.nativeElement.focus()):r.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),r._animationDone?r._animationDone.pipe(Gi(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(i,r){this.autocomplete?.options?.forEach(l=>{l!==i&&l.selected&&l.deselect(r)})}_openPanelInternal(i=this._element.nativeElement.value){if(this._attachOverlay(i),this._floatLabel(),this._trackedModal){let r=this.autocomplete.id;Eo(this._trackedModal,"aria-owns",r)}}_attachOverlay(i){this.autocomplete;let r=this._overlayRef;r?(this._positionStrategy.setOrigin(this._getConnectedElement()),r.updateSize({width:this._getPanelWidth()})):(this._portal=new Ja(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),r=this._overlay.create(this._getOverlayConfig()),this._overlayRef=r,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&r&&r.updateSize({width:this._getPanelWidth()})})),r&&!r.hasAttached()&&(r.attach(this._portal),this._valueOnAttach=i,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let l=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&l!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let i=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=i.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=i.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new As({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let i=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(i),this._positionStrategy=i,i}_setStrategyPositions(i){let r=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],l=this._aboveClass,f=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:l},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:l}],k;this.position==="above"?k=f:this.position==="below"?k=r:k=[...r,...f],i.withPositions(k)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let i=this.autocomplete;if(i.autoActiveFirstOption){let r=-1;for(let l=0;l<i.options.length;l++)if(!i.options.get(l).disabled){r=l;break}i._keyManager.setActiveItem(r)}else i._keyManager.setActiveItem(-1)}_canOpen(){let i=this._element.nativeElement;return!i.readOnly&&!i.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(i){let r=this.autocomplete,l=cl(i,r.options,r.optionGroups);if(i===0&&l===1)r._setScrollTop(0);else if(r.panel){let f=r.options.toArray()[i];if(f){let k=f._getHostElement(),z=ul(k.offsetTop,k.offsetHeight,r._getScrollTop(),r.panel.nativeElement.offsetHeight);r._setScrollTop(z)}}}_applyModalPanelOwnership(){let i=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!i)return;let r=this.autocomplete.id;this._trackedModal&&vs(this._trackedModal,"aria-owns",r),Eo(i,"aria-owns",r),this._trackedModal=i}_clearFromModal(){if(this._trackedModal){let i=this.autocomplete.id;vs(this._trackedModal,"aria-owns",i),this._trackedModal=null}}static{this.\u0275fac=function(r){return new(r||c)(Y(we),Y(kn),Y(zi),Y(Ui),Y(ii),Y(Rh),Y(Si,8),Y(Qa,9),Y(ia,8),Y(Ta),Y(Bh,8))}}static{this.\u0275dir=Jt({type:c,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(r,l){r&1&&pt("focusin",function(){return l._handleFocus()})("blur",function(){return l._onTouched()})("input",function(k){return l._handleInput(k)})("keydown",function(k){return l._handleKeydown(k)})("click",function(){return l._handleClick()}),r&2&&Re("autocomplete",l.autocompleteAttribute)("role",l.autocompleteDisabled?null:"combobox")("aria-autocomplete",l.autocompleteDisabled?null:"list")("aria-activedescendant",l.panelOpen&&l.activeOption?l.activeOption.id:null)("aria-expanded",l.autocompleteDisabled?null:l.panelOpen.toString())("aria-controls",l.autocompleteDisabled||!l.panelOpen||l.autocomplete==null?null:l.autocomplete.id)("aria-haspopup",l.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[kt.None,"matAutocomplete","autocomplete"],position:[kt.None,"matAutocompletePosition","position"],connectedTo:[kt.None,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[kt.None,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[kt.HasDecoratorInputTransform,"matAutocompleteDisabled","autocompleteDisabled",me]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[ye([sp]),Qe,ke]})}}return c})(),Vh=(()=>{class c{static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275mod=ei({type:c})}static{this.\u0275inj=qe({providers:[rp],imports:[Es,Oo,Ki,na,Is,Oo,Ki]})}}return c})();var dp=["customerIdInput"],cp=["productIdInputs"];function up(c,S){if(c&1&&(A(0,"div",27),U(1),B()),c&2){let i=ot();H(),At(" ",i.error," ")}}function pp(c,S){if(c&1&&(A(0,"div",28),U(1),B()),c&2){let i=ot();H(),At(" ",i.msg," ")}}function mp(c,S){if(c&1&&(A(0,"mat-option",19),U(1),B()),c&2){let i=S.$implicit;Ma("value",i),H(),Ci(i)}}function gp(c,S){c&1&&(A(0,"mat-error"),U(1,"Vui l\xF2ng ch\u1ECDn"),B())}function fp(c,S){if(c&1&&(A(0,"mat-option",19),U(1),B()),c&2){let i=S.$implicit;Ma("value",i),H(),Ci(i)}}function _p(c,S){c&1&&(A(0,"mat-error"),U(1,"Vui l\xF2ng ch\u1ECDn"),B())}function bp(c,S){if(c&1&&(A(0,"mat-option",19),U(1),B()),c&2){let i=S.$implicit;Ma("value",i.id),H(),Gr("Gi\xE1: ",i.price," \u0111\u1ED3ng, ",i.amountPerBox," ",i.unit," m\u1ED7i th\xF9ng ")}}function xp(c,S){c&1&&(A(0,"mat-error"),U(1,"Vui l\xF2ng ch\u1ECDn"),B())}function vp(c,S){if(c&1){let i=se();A(0,"div")(1,"div")(2,"span",30),U(3),B(),A(4,"mat-form-field",31)(5,"mat-label"),U(6,"Ghi ch\xFA"),B(),A(7,"input",32),ue("ngModelChange",function(l){let f=ct(i).$implicit,k=ot(2);return ce(k.invoiceLines[f].note,l)||(k.invoiceLines[f].note=l),ut(l)}),B()(),A(8,"mat-form-field",33)(9,"mat-label"),U(10,"M\xE3 s\u1EA3n ph\u1EA9m"),B(),A(11,"input",34,3),pt("input",function(){let l=ct(i).$implicit,f=ot(2);return ut(f.filter("product",l))})("focus",function(){let l=ct(i).$implicit,f=ot(2);return ut(f.filter("product",l))}),B(),A(13,"mat-autocomplete",18,1),pn(15,fp,2,2,"mat-option",19,un),B(),ft(17,_p,2,0,"mat-error"),B(),A(18,"mat-form-field",35)(19,"mat-label"),U(20,"T\xEAn s\u1EA3n ph\u1EA9m"),B(),Et(21,"input",36),B(),A(22,"mat-form-field",35)(23,"mat-label"),U(24,"Quy c\xE1ch"),B(),A(25,"mat-select",37),ue("valueChange",function(l){let f=ct(i).$implicit,k=ot(2);return ce(k.invoiceLines[f].specificationId,l)||(k.invoiceLines[f].specificationId=l),ut(l)}),ft(26,bp,2,4,"mat-option",38),B(),ft(27,xp,2,0,"mat-error"),B(),A(28,"mat-form-field",39)(29,"mat-label"),U(30,"S\u1ED1 l\u01B0\u1EE3ng th\xF9ng"),B(),A(31,"input",40),ue("ngModelChange",function(l){let f=ct(i).$implicit,k=ot(2);return ce(k.invoiceLines[f].numberOfBoxes,l)||(k.invoiceLines[f].numberOfBoxes=l),ut(l)}),B()(),A(32,"button",41),pt("click",function(){let l=ct(i).$implicit,f=ot(2);return ut(f.removeLine(l))}),A(33,"mat-icon"),U(34,"remove"),B()()()()}if(c&2){let i=S.$implicit,r=Qi(14),l=ot(2);H(3),At("D\xF2ng ",i+1,""),H(4),de("ngModel",l.invoiceLines[i].note),H(4),lt("id","product"+i)("formControl",l.productIdControl[i])("matAutocomplete",r),H(4),mn(l.filteredProducts),H(2),mi(17,l.productIdControl[i].hasError("required")?17:-1),H(4),Ma("value",l.getProductName(l.productIdControl[i].value||"")),H(4),de("value",l.invoiceLines[i].specificationId),lt("formControl",l.specificationControl[i]),H(),lt("ngForOf",l.filterSpecifications(l.invoiceLines[i].productId||"")),H(),mi(27,l.specificationControl[i].hasError("required")?27:-1),H(4),de("ngModel",l.invoiceLines[i].numberOfBoxes),H(),fs("matTooltip","X\xF3a d\xF2ng ",i+1,"")}}function yp(c,S){if(c&1&&(A(0,"div")(1,"h4"),U(2,"Chi ti\u1EBFt h\xF3a \u0111\u01A1n"),B(),ft(3,vp,35,14,"div",29),B()),c&2){let i=ot();H(3),lt("ngForOf",i.Array.from(i.Array(i.invoiceLines.length).keys()))}}var Lh=Nh.default||hp,Cp={parse:{dateInput:"DD-MM-YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},Wh=(()=>{class c{constructor(i,r,l,f){this.service=i,this.productService=r,this.customerService=l,this.observer=f,this.Array=Array,this.invoice={id:"",date:"",customerId:"",invoiceLines:[]},this.invoiceLines=[{note:"",numberOfBoxes:0,productId:"",specificationId:0}],this.date=new nn(Lh()),this.error="",this.msg="",this.customerIds=[],this.productIds=[],this.customerIdControl=new nn(null,Ji.required),this.productIdControl=[new nn(null,Ji.required)],this.specificationControl=[new nn(null,Ji.required)],this.products=[],this.id="",this.title="Th\xEAm h\xF3a \u0111\u01A1n",this.removingLines=[],this.filteredCustomers=[],this.filteredProducts=[],this.filteredCustomers=this.customerIds.slice(),this.filteredProducts=this.productIds.slice()}ngOnInit(){this.initialize(),this.observer.object$.subscribe(i=>{i&&this.initialize()}),this.observer.reset$.subscribe(i=>{i&&i.mode=="invoice"&&this.reset()})}initialize(){this.productService.getAllProductIds().subscribe({next:i=>{this.productIds=i,this.filteredProducts=this.productIds.slice()}}),this.customerService.getAllCustomerIds().subscribe({next:i=>{this.customerIds=i,this.filteredCustomers=i}}),this.productService.getAllProducts().subscribe({next:i=>this.products=i})}addLine(){this.invoiceLines.push({note:"",numberOfBoxes:0,productId:"",specificationId:0}),this.productIdControl.push(new nn(null,Ji.required)),this.specificationControl.push(new nn(null,Ji.required)),this.filteredProducts=this.productIds.slice()}removeLine(i){this.removingLines.push(i),this.invoiceLines=this.invoiceLines.slice(0,i).concat(this.invoiceLines.slice(i+1)),this.productIdControl=this.productIdControl.slice(0,i).concat(this.productIdControl.slice(i+1)),this.specificationControl=this.specificationControl.slice(0,i).concat(this.specificationControl.slice(i+1))}reset(){this.title="Th\xEAm h\xF3a \u0111\u01A1n",this.error="",this.msg="",this.invoice={id:"",date:"",customerId:"",invoiceLines:[]},this.invoiceLines=[{note:"",numberOfBoxes:0,productId:"",specificationId:0}],this.customerIdControl=new nn(null,Ji.required),this.productIdControl=[new nn(null,Ji.required)],this.specificationControl=[new nn(null,Ji.required)]}createInvoice(){if(this.error="",this.invoice.date||(this.invoice.date=new Date().toISOString().slice(0,10)),!this.invoice.id||!this.invoice.customerId){this.error="Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin \u0111\u01A1n h\xE0ng";return}if(this.invoiceLines.length>0){for(let i=0;i<this.invoiceLines.length;i++)if(this.isNotFilled(i)){this.error=`Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin d\xF2ng ${i+1}`;return}this.invoice.invoiceLines=this.invoiceLines}else{this.error="H\xF3a \u0111\u01A1n kh\xF4ng \u0111\u01B0\u1EE3c tr\u1ED1ng";return}this.service.createInvoice({body:this.invoice}).subscribe({next:i=>{this.error="",this.msg="Th\xEAm th\xE0nh c\xF4ng",setTimeout(()=>this.reset(),1e3),this.observer.notify({type:"invoice",reload:!0})},error:i=>this.error=i.error})}updateDate(i){let r=this.date.value??Lh();this.invoice.date=`${r.year()}-${String(r.month()+1).padStart(2,"0")}-${String(r.date()).padStart(2,"0")}`}filterSpecifications(i){let r=this.products.filter(l=>l.productId==i);return r.length>0?r[0]?.specifications:[]}isNotFilled(i){return!(this.invoiceLines[i].numberOfBoxes&&this.invoiceLines[i].specificationId&&this.invoiceLines[i].productId)}getProductName(i){let r=this.products.filter(l=>l.productId==i);return r.length&&r[0].name?r[0].name:"Ch\u1ECDn m\xE3 s\u1EA3n ph\u1EA9m"}filter(i,r){if(i=="customer"){let l=this.customerIdInput?.nativeElement.value.toLowerCase();this.filteredCustomers=this.customerIds.filter(f=>f.toLowerCase().includes(l||"")),this.customerIdControl.value&&(this.invoice.customerId=this.customerIdControl.value)}else if(i=="product"&&this.productIdInputs){for(let l of this.productIdInputs)if(l.nativeElement.id==`product${r}`){let f=l.nativeElement.value.toLowerCase();this.filteredProducts=this.productIds.filter(k=>k.toLowerCase().includes(f||""))}this.productIdControl[r].value&&(this.invoiceLines[r].productId=this.productIdControl[r].value||void 0)}}static{this.\u0275fac=function(r){return new(r||c)(Y(zn),Y(Wn),Y(ba),Y(di))}}static{this.\u0275cmp=St({type:c,selectors:[["app-create-invoice"]],viewQuery:function(r,l){if(r&1&&(ve(dp,5),ve(cp,5)),r&2){let f;Lt(f=Nt())&&(l.customerIdInput=f.first),Lt(f=Nt())&&(l.productIdInputs=f)}},standalone:!0,features:[ye([{provide:hn,useValue:Cp}]),Dt],decls:49,vars:11,consts:[["customerIdInput",""],["auto","matAutocomplete"],["dp",""],["productIdInputs",""],["id","createInvoice","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","createInvoiceLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-scrollable","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","createInvoiceLabel",1,"modal-title","fs-5"],["mat-mini-fab","","color","warn","data-bs-dismiss","modal","matTooltip","\u0110\xF3ng","aria-label","Close",1,"button-close"],[1,"modal-body"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"card","card-body","container-sm"],[2,"width","30%"],["type","text","matInput","","placeholder","170903",3,"ngModelChange","ngModel"],["appearance","fill",2,"width","35%"],["matInput","","type","text","placeholder","dieptronghuy",3,"input","focus","formControl","matAutocomplete"],["requireSelection",""],[3,"value"],["matInput","",3,"dateChange","matDatepicker","formControl"],["matIconSuffix","",3,"for"],["mat-icon-button","","tabindex","-1","matTooltip","Th\xEAm d\xF2ng",2,"width","auto",3,"click"],[4,"ngIf"],[1,"modal-footer"],["mat-mini-fab","","color","primary","matTooltip","L\xE0m m\u1EDBi",3,"click"],["mat-mini-fab","","color","accent","matTooltip","Th\xEAm",3,"click"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-success"],[4,"ngFor","ngForOf"],[1,"input-group-text",2,"font-weight","bold"],[2,"width","20%"],["matInput","","placeholder","Giao v\xE0o s\xE1ng mai",3,"ngModelChange","ngModel"],[2,"width","15%"],["matInput","","type","text","placeholder","DG01",3,"input","focus","id","formControl","matAutocomplete"],[2,"width","25%"],["type","text","disabled","","matInput","",3,"value"],["required","",3,"valueChange","value","formControl"],[3,"value",4,"ngFor","ngForOf"],[2,"width","10%"],["type","number","min","1","step","1","matInput","","placeholder","20 th\xF9ng",3,"ngModelChange","ngModel"],["mat-icon-button","","tabindex","-1",3,"click","matTooltip"]],template:function(r,l){if(r&1){let f=se();A(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h1",8),U(5),B(),A(6,"button",9)(7,"mat-icon"),U(8,"close"),B()()(),A(9,"div",10),ft(10,up,2,1,"div",11)(11,pp,2,1,"div",12),A(12,"div")(13,"div",13)(14,"div")(15,"mat-form-field",14)(16,"mat-label"),U(17,"S\u1ED1 h\xF3a \u0111\u01A1n"),B(),A(18,"input",15),ue("ngModelChange",function(z){return ct(f),ce(l.invoice.id,z)||(l.invoice.id=z),ut(z)}),B()(),A(19,"mat-form-field",16)(20,"mat-label"),U(21,"M\xE3 kh\xE1ch h\xE0ng:"),B(),A(22,"input",17,0),pt("input",function(){return ct(f),ut(l.filter("customer",0))})("focus",function(){return ct(f),ut(l.filter("customer",0))}),B(),A(24,"mat-autocomplete",18,1),pn(26,mp,2,2,"mat-option",19,un),B(),ft(28,gp,2,0,"mat-error"),B(),A(29,"mat-form-field",14)(30,"mat-label"),U(31,"Ch\u1ECDn ng\xE0y"),B(),A(32,"input",20),pt("dateChange",function(z){return ct(f),ut(l.updateDate(z))}),B(),A(33,"mat-hint"),U(34,"Ng\xE0y/Th\xE1ng/N\u0103m"),B(),Et(35,"mat-datepicker-toggle",21)(36,"mat-datepicker",null,2),B(),A(38,"button",22),pt("click",function(){return ct(f),ut(l.addLine())}),A(39,"mat-icon"),U(40,"add"),B()()(),ft(41,yp,4,1,"div",23),B()()(),A(42,"div",24)(43,"button",25),pt("click",function(){return ct(f),ut(l.reset())}),A(44,"mat-icon"),U(45,"refresh"),B()(),A(46,"button",26),pt("click",function(){return ct(f),ut(l.createInvoice())}),A(47,"mat-icon"),U(48,"add"),B()()()()()()}if(r&2){let f=Qi(25),k=Qi(37);H(5),Ci(l.title),H(5),lt("ngIf",l.error.length),H(),lt("ngIf",l.msg),H(7),de("ngModel",l.invoice.id),H(4),lt("formControl",l.customerIdControl)("matAutocomplete",f),H(4),mn(l.filteredCustomers),H(2),mi(28,l.customerIdControl.hasError("required")?28:-1),H(4),lt("matDatepicker",k)("formControl",l.date),H(3),lt("for",k),H(6),lt("ngIf",l.invoiceLines.length)}},dependencies:[bs,Pi,oa,Ai,Ii,ml,pl,sa,ra,Ri,Qs,nh,Us,as,Oi,Ei,Ts,Fi,Cl,Ss,Bi,Sn,vl,Fl,El,Cs,li,an,Zi,hi,je,ca,dn,Vh,Oh,yr],encapsulation:2,changeDetection:0})}}return c})();function Mp(c,S){if(c&1&&(A(0,"div",16),U(1),B()),c&2){let i=ot();H(),At(" ",i.error," ")}}function wp(c,S){if(c&1&&(A(0,"div",17),U(1),B()),c&2){let i=ot();H(),At(" ",i.msg," ")}}function Tp(c,S){if(c&1){let i=se();A(0,"div")(1,"div")(2,"span",19),U(3),B(),A(4,"mat-form-field",20)(5,"mat-label"),U(6,"\u0110\u01A1n v\u1ECB t\xEDnh"),B(),A(7,"input",21),ue("ngModelChange",function(l){let f=ct(i).$implicit,k=ot(2);return ce(k.specifications[f].unit,l)||(k.specifications[f].unit=l),ut(l)}),B()(),A(8,"mat-form-field",20)(9,"mat-label"),U(10,"Gi\xE1 ti\u1EC1n"),B(),A(11,"input",22),ue("ngModelChange",function(l){let f=ct(i).$implicit,k=ot(2);return ce(k.specifications[f].price,l)||(k.specifications[f].price=l),ut(l)}),B()(),A(12,"mat-form-field",20)(13,"mat-label"),U(14,"S\u1ED1 l\u01B0\u1EE3ng m\u1ED7i th\xF9ng"),B(),A(15,"input",23),ue("ngModelChange",function(l){let f=ct(i).$implicit,k=ot(2);return ce(k.specifications[f].amountPerBox,l)||(k.specifications[f].amountPerBox=l),ut(l)}),B()(),A(16,"button",24),pt("click",function(){let l=ct(i).$implicit,f=ot(2);return ut(f.removeSpecification(l))}),A(17,"mat-icon"),U(18,"remove"),B()()()()}if(c&2){let i=S.$implicit,r=ot(2);H(3),At("Quy c\xE1ch ",i+1,""),H(4),de("ngModel",r.specifications[i].unit),H(4),de("ngModel",r.specifications[i].price),H(4),de("ngModel",r.specifications[i].amountPerBox),H(),fs("matTooltip","X\xF3a quy c\xE1ch ",i+1,"")}}function Sp(c,S){if(c&1&&(A(0,"div")(1,"h4"),U(2,"Quy c\xE1ch \u0111\xF3ng g\xF3i s\u1EA3n ph\u1EA9m"),B(),ft(3,Tp,19,6,"div",18),B()),c&2){let i=ot();H(3),lt("ngForOf",i.Array.from(i.Array(i.specifications.length).keys()))}}function kp(c,S){if(c&1){let i=se();A(0,"div",25)(1,"button",26),pt("click",function(){ct(i);let l=ot();return ut(l.reset())}),A(2,"mat-icon"),U(3,"refresh"),B()(),A(4,"button",27),pt("click",function(){ct(i);let l=ot();return ut(l.createProduct())}),A(5,"mat-icon"),U(6,"add"),B()()()}}function Dp(c,S){if(c&1){let i=se();A(0,"div",25)(1,"button",28),pt("click",function(){ct(i);let l=ot();return ut(l.deleteProduct())}),A(2,"mat-icon"),U(3,"delete"),B()(),A(4,"button",29),pt("click",function(){ct(i);let l=ot();return ut(l.updateProduct())}),A(5,"mat-icon"),U(6,"edit"),B()()()}}var Yh=(()=>{class c{constructor(i,r){this.service=i,this.observer=r,this.Array=Array,this.error="",this.msg="",this.product={productId:"",name:"",specifications:[]},this.specifications=[{unit:"",price:0,amountPerBox:0}],this.id="",this.title="Th\xEAm s\u1EA3n ph\u1EA9m",this.editMode=!1}ngOnInit(){this.observer.object$.subscribe(i=>{i&&i.object&&i.title&&i.editMode&&(this.product=i.object,this.id=this.product.productId||"",this.title=i.title,this.editMode=i.editMode,this.product.specifications&&(this.specifications=this.product.specifications))}),this.observer.reset$.subscribe(i=>{i&&i.mode=="product"&&this.reset()})}createProduct(){if(this.error="",!this.product.productId||!this.product.name){this.error="Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin";return}for(let i=0;i<this.specifications.length;i++)if(this.specifications.length>1&&(!this.specifications[i].unit||!this.specifications[i].price||!this.specifications[i].amountPerBox)){this.error=`Quy c\xE1ch ${i+1} thi\u1EBFu th\xF4ng tin`;return}this.specifications.length>1||this.specifications.length==1&&this.specifications[0].unit&&this.specifications[0].price&&this.specifications[0].amountPerBox?this.product.specifications=this.specifications:this.product.specifications=[],this.service.createProduct({body:this.product}).subscribe({next:i=>{this.msg="Th\xEAm th\xE0nh c\xF4ng",this.error="",this.reset(),setTimeout(()=>{this.msg=""},1e3),this.observer.notify({type:"product",reload:!0})},error:i=>{this.error=i.error}})}reset(){this.title="Th\xEAm s\u1EA3n ph\u1EA9m",this.editMode=!1,this.product.productId="",this.product.name="",this.product.specifications=[],this.specifications=[{unit:"",price:0,amountPerBox:0}]}addSpecification(){this.specifications.push({unit:"",price:0,amountPerBox:0})}removeSpecification(i){this.editMode&&this.service.deleteSpecification({id:this.id,"specification-id":this.specifications[i].id||0}).subscribe({next:r=>{console.log(r)},error:r=>{console.log(r)}}),this.specifications=this.specifications.slice(0,i).concat(this.specifications.slice(i+1))}updateProduct(){if(this.error="",!this.product.id||!this.product.name){this.error="Vui l\xF2ng \u0111i\u1EC1n \u0111\u1EA7y \u0111\u1EE7 th\xF4ng tin";return}for(let i=0;i<this.specifications.length;i++)if(this.specifications.length>1&&(!this.specifications[i].unit||!this.specifications[i].price||!this.specifications[i].amountPerBox)){this.error=`Quy c\xE1ch ${i+1} thi\u1EBFu th\xF4ng tin`;return}this.specifications.length>1||this.specifications.length==1&&this.specifications[0].unit&&this.specifications[0].price&&this.specifications[0].amountPerBox?this.product.specifications=this.specifications:this.product.specifications=[],this.service.updateProduct({id:this.id,body:this.product}).subscribe({next:i=>{console.log(i),this.msg="Ch\u1EC9nh s\u1EEDa th\xE0nh c\xF4ng",this.error="",setTimeout(()=>{this.msg=""},1e3),this.observer.notify({type:"product",reload:!0})},error:i=>{this.error=i.error}})}deleteProduct(){this.observer.notify({type:"product",id:this.id})}static{this.\u0275fac=function(r){return new(r||c)(Y(Wn),Y(di))}}static{this.\u0275cmp=St({type:c,selectors:[["app-create-product"]],standalone:!0,features:[Dt],decls:30,vars:8,consts:[["edit",""],["id","createProduct","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","createProductLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-scrollable","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","createProductLabel",1,"modal-title","fs-5"],["mat-mini-fab","","color","warn","data-bs-dismiss","modal","matTooltip","\u0110\xF3ng","aria-label","Close",1,"button-close"],[1,"modal-body"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"card","card-body","container-sm"],[2,"width","45%"],["type","text","placeholder","DG01","matInput","",3,"ngModelChange","ngModel"],["mat-icon-button","","tabindex","-1","matTooltip","Th\xEAm quy c\xE1ch \u0111\xF3ng g\xF3i",3,"click"],[4,"ngIf"],["class","modal-footer",4,"ngIf","ngIfElse"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-success"],[4,"ngFor","ngForOf"],[1,"input-group-text"],[2,"width","30%"],["type","text","placeholder","G\xF3i/Bao/Chai...","matInput","",3,"ngModelChange","ngModel"],["type","number","min","1","step","1","placeholder","100.000","matInput","",3,"ngModelChange","ngModel"],["type","text","placeholder","50","matInput","",3,"ngModelChange","ngModel"],["mat-icon-button","","tabindex","-1",3,"click","matTooltip"],[1,"modal-footer"],["mat-mini-fab","","color","primary","matTooltip","L\xE0m m\u1EDBi",3,"click"],["mat-mini-fab","","color","accent","matTooltip","Th\xEAm",3,"click"],["mat-mini-fab","","color","warn","tabindex","-1","data-bs-toggle","modal","matTooltip","X\xF3a","data-bs-target","#deleteModal",3,"click"],["mat-mini-fab","","color","accent","matTooltip","Ch\u1EC9nh s\u1EEDa",3,"click"]],template:function(r,l){if(r&1){let f=se();A(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h1",5),U(5),B(),A(6,"button",6)(7,"mat-icon"),U(8,"close"),B()()(),A(9,"div",7),ft(10,Mp,2,1,"div",8)(11,wp,2,1,"div",9),A(12,"div")(13,"div",10)(14,"div")(15,"mat-form-field",11)(16,"mat-label"),U(17,"M\xE3 s\u1EA3n ph\u1EA9m"),B(),A(18,"input",12),ue("ngModelChange",function(z){return ct(f),ce(l.product.productId,z)||(l.product.productId=z),ut(z)}),B()(),A(19,"mat-form-field",11)(20,"mat-label"),U(21,"T\xEAn s\u1EA3n ph\u1EA9m"),B(),A(22,"input",12),ue("ngModelChange",function(z){return ct(f),ce(l.product.name,z)||(l.product.name=z),ut(z)}),B()(),A(23,"button",13),pt("click",function(){return ct(f),ut(l.addSpecification())}),A(24,"mat-icon"),U(25,"add"),B()()(),ft(26,Sp,4,1,"div",14),B()()(),ft(27,kp,7,0,"div",15)(28,Dp,7,0,"ng-template",null,0,Ua),B()()()}if(r&2){let f=Qi(29);H(5),Ci(l.title),H(5),lt("ngIf",l.error.length),H(),lt("ngIf",l.msg.length),H(7),de("ngModel",l.product.productId),H(4),de("ngModel",l.product.name),H(4),lt("ngIf",l.specifications.length),H(),lt("ngIf",!l.editMode)("ngIfElse",f)}},dependencies:[Pi,Sn,Ei,Ts,Fi,Ss,Oi,Bi,bs,Mh,Ai,Ri,hi,je,Ii,ca,dn,li,an,Zi]})}}return c})();var zh=["*"];var Pp=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}",Cr=class{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){let S=Math.max(...this.tracker);return S>1?this.rowCount+S-1:this.rowCount}update(S,i){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(S),this.tracker.fill(0,0,this.tracker.length),this.positions=i.map(r=>this._trackTile(r))}_trackTile(S){let i=this._findMatchingGap(S.colspan);return this._markTilePosition(i,S),this.columnIndex=i+S.colspan,new Mr(this.rowIndex,i)}_findMatchingGap(S){S>this.tracker.length;let i=-1,r=-1;do{if(this.columnIndex+S>this.tracker.length){this._nextRow(),i=this.tracker.indexOf(0,this.columnIndex),r=this._findGapEndIndex(i);continue}if(i=this.tracker.indexOf(0,this.columnIndex),i==-1){this._nextRow(),i=this.tracker.indexOf(0,this.columnIndex),r=this._findGapEndIndex(i);continue}r=this._findGapEndIndex(i),this.columnIndex=i+1}while(r-i<S||r==0);return Math.max(i,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let S=0;S<this.tracker.length;S++)this.tracker[S]=Math.max(0,this.tracker[S]-1)}_findGapEndIndex(S){for(let i=S+1;i<this.tracker.length;i++)if(this.tracker[i]!=0)return i;return this.tracker.length}_markTilePosition(S,i){for(let r=0;r<i.colspan;r++)this.tracker[S+r]=i.rowspan}},Mr=class{constructor(S,i){this.row=S,this.col=i}},Hh=new ti("MAT_GRID_LIST"),kr=(()=>{class c{constructor(i,r){this._element=i,this._gridList=r,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(i){this._rowspan=Math.round(xs(i))}get colspan(){return this._colspan}set colspan(i){this._colspan=Math.round(xs(i))}_setStyle(i,r){this._element.nativeElement.style[i]=r}static{this.\u0275fac=function(r){return new(r||c)(Y(we),Y(Hh,8))}}static{this.\u0275cmp=St({type:c,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(r,l){r&2&&Re("rowspan",l.rowspan)("colspan",l.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],standalone:!0,features:[Dt],ngContentSelectors:zh,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(r,l){r&1&&(yi(),A(0,"div",0),Ge(1),B())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}}return c})();var Ip=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/,rs=class{constructor(){this._rows=0,this._rowspan=0}init(S,i,r,l){this._gutterSize=Xh(S),this._rows=i.rowCount,this._rowspan=i.rowspan,this._cols=r,this._direction=l}getBaseTileSize(S,i){return`(${S}% - (${this._gutterSize} * ${i}))`}getTilePosition(S,i){return i===0?"0":Pa(`(${S} + ${this._gutterSize}) * ${i}`)}getTileSize(S,i){return`(${S} * ${i}) + (${i-1} * ${this._gutterSize})`}setStyle(S,i,r){let l=100/this._cols,f=(this._cols-1)/this._cols;this.setColStyles(S,r,l,f),this.setRowStyles(S,i,l,f)}setColStyles(S,i,r,l){let f=this.getBaseTileSize(r,l),k=this._direction==="rtl"?"right":"left";S._setStyle(k,this.getTilePosition(f,i)),S._setStyle("width",Pa(this.getTileSize(f,S.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(S){return`${this._rowspan} * ${this.getTileSize(S,1)}`}getComputedHeight(){return null}},wr=class extends rs{constructor(S){super(),this.fixedRowHeight=S}init(S,i,r,l){super.init(S,i,r,l),this.fixedRowHeight=Xh(this.fixedRowHeight),Ip.test(this.fixedRowHeight)}setRowStyles(S,i){S._setStyle("top",this.getTilePosition(this.fixedRowHeight,i)),S._setStyle("height",Pa(this.getTileSize(this.fixedRowHeight,S.rowspan)))}getComputedHeight(){return["height",Pa(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(S){S._setListStyle(["height",null]),S._tiles&&S._tiles.forEach(i=>{i._setStyle("top",null),i._setStyle("height",null)})}},Tr=class extends rs{constructor(S){super(),this._parseRatio(S)}setRowStyles(S,i,r,l){let f=r/this.rowHeightRatio;this.baseTileHeight=this.getBaseTileSize(f,l),S._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,i)),S._setStyle("paddingTop",Pa(this.getTileSize(this.baseTileHeight,S.rowspan)))}getComputedHeight(){return["paddingBottom",Pa(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(S){S._setListStyle(["paddingBottom",null]),S._tiles.forEach(i=>{i._setStyle("marginTop",null),i._setStyle("paddingTop",null)})}_parseRatio(S){let i=S.split(":");i.length,this.rowHeightRatio=parseFloat(i[0])/parseFloat(i[1])}},Sr=class extends rs{setRowStyles(S,i){let r=100/this._rowspan,l=(this._rows-1)/this._rows,f=this.getBaseTileSize(r,l);S._setStyle("top",this.getTilePosition(f,i)),S._setStyle("height",Pa(this.getTileSize(f,S.rowspan)))}reset(S){S._tiles&&S._tiles.forEach(i=>{i._setStyle("top",null),i._setStyle("height",null)})}};function Pa(c){return`calc(${c})`}function Xh(c){return c.match(/([A-Za-z%]+)$/)?c:`${c}px`}var Ap="fit",jh=(()=>{class c{constructor(i,r){this._element=i,this._dir=r,this._gutter="1px"}get cols(){return this._cols}set cols(i){this._cols=Math.max(1,Math.round(xs(i)))}get gutterSize(){return this._gutter}set gutterSize(i){this._gutter=`${i??""}`}get rowHeight(){return this._rowHeight}set rowHeight(i){let r=`${i??""}`;r!==this._rowHeight&&(this._rowHeight=r,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){this.cols}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(i){this._tileStyler&&this._tileStyler.reset(this),i===Ap?this._tileStyler=new Sr:i&&i.indexOf(":")>-1?this._tileStyler=new Tr(i):this._tileStyler=new wr(i)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new Cr);let i=this._tileCoordinator,r=this._tiles.filter(f=>!f._gridList||f._gridList===this),l=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,r),this._tileStyler.init(this.gutterSize,i,this.cols,l),r.forEach((f,k)=>{let z=i.positions[k];this._tileStyler.setStyle(f,z.row,z.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(i){i&&(this._element.nativeElement.style[i[0]]=i[1])}static{this.\u0275fac=function(r){return new(r||c)(Y(we),Y(Si,8))}}static{this.\u0275cmp=St({type:c,selectors:[["mat-grid-list"]],contentQueries:function(r,l,f){if(r&1&&Xe(f,kr,5),r&2){let k;Lt(k=Nt())&&(l._tiles=k)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(r,l){r&2&&Re("cols",l.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],standalone:!0,features:[ye([{provide:Hh,useExisting:c}]),Dt],ngContentSelectors:zh,decls:2,vars:0,template:function(r,l){r&1&&(yi(),A(0,"div"),Ge(1),B())},styles:[Pp],encapsulation:2,changeDetection:0})}}return c})(),Gh=(()=>{class c{static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275mod=ei({type:c})}static{this.\u0275inj=qe({imports:[Fo,Ki,Fo,Ki]})}}return c})();var Uh=(()=>{class c{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(i){this._vertical=Io(i)}get inset(){return this._inset}set inset(i){this._inset=Io(i)}static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275cmp=St({type:c,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,l){r&2&&(Re("aria-orientation",l.vertical?"vertical":"horizontal"),Be("mat-divider-vertical",l.vertical)("mat-divider-horizontal",!l.vertical)("mat-divider-inset",l.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[Dt],decls:0,vars:0,template:function(r,l){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}}return c})();function Fp(c,S){c&1&&(A(0,"th",10),U(1," T\xEAn \u0111\u0103ng nh\u1EADp "),B())}function Bp(c,S){if(c&1&&(A(0,"td",11),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.id," ")}}function Op(c,S){c&1&&(A(0,"th",10),U(1,"H\u1ECD t\xEAn"),B())}function Rp(c,S){if(c&1&&(A(0,"td",11),U(1),B()),c&2){let i=S.$implicit;H(),At(" ",i.name," ")}}function Vp(c,S){c&1&&Et(0,"th",10)}function Lp(c,S){if(c&1){let i=se();A(0,"td",12),pt("click",function(){let l=ct(i).$implicit,f=ot();return ut(f.deleteUser(l))}),A(1,"button",13)(2,"mat-icon"),U(3,"delete"),B()()()}}function Np(c,S){c&1&&Et(0,"tr",14)}function Wp(c,S){c&1&&Et(0,"tr",15)}var $h=(()=>{class c{constructor(){this.dataSource=new Ue,this.columnsToDisplay=["id","name","delete"],this.deleteEvent=new Bt}ngOnChanges(i){}set setUsers(i){this.dataSource=new Ue(i)}deleteUser(i){this.deleteEvent.emit(i.id)}static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275cmp=St({type:c,selectors:[["app-user-list"]],inputs:{setUsers:"setUsers"},outputs:{deleteEvent:"deleteEvent"},standalone:!0,features:[ke,Dt],decls:13,vars:3,consts:[[1,"table-container",2,"margin-top","2rem"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","class","form-field-container",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","delete"],["mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"form-field-container"],["mat-cell",""],["mat-cell","",3,"click"],["mat-mini-fab",""],["mat-header-row",""],["mat-row",""]],template:function(r,l){r&1&&(A(0,"div",0)(1,"table",1),De(2,2),ft(3,Fp,2,0,"th",3)(4,Bp,2,1,"td",4),Pe(),De(5,5),ft(6,Op,2,0,"th",3)(7,Rp,2,1,"td",4),Pe(),De(8,6),ft(9,Vp,1,0,"th",3)(10,Lp,4,0,"td",7),Pe(),ft(11,Np,1,0,"tr",8)(12,Wp,1,0,"tr",9),B()()),r&2&&(H(),lt("dataSource",l.dataSource),H(10),lt("matHeaderRowDef",l.columnsToDisplay),H(),lt("matRowDefColumns",l.columnsToDisplay))},dependencies:[Ln,Dn,In,Bn,An,Pn,On,En,Fn,Rn,Vn,li,Zi,hi,je],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}"]})}}return c})();function Co(c,S,i,r){let l=new qt(S,Co.PATH,"get");return c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}Co.PATH="/app/DebtManagement/api/users/admin";function Mo(c,S,i,r){let l=new qt(S,Mo.PATH,"get");return c.request(l.build({responseType:"json",accept:"application/json",context:r})).pipe(Vt(f=>f instanceof Zt),Mt(f=>f))}Mo.PATH="/app/DebtManagement/api/users";var Qh=(()=>{class c extends ha{constructor(i,r){super(i,r)}static{this.GetAllUsersPath="/app/DebtManagement/api/users"}getAllUsers$Response(i,r){return Mo(this.http,this.rootUrl,i,r)}getAllUsers(i,r){return this.getAllUsers$Response(i,r).pipe(Mt(l=>l.body))}static{this.GetAllAdminsPath="/app/DebtManagement/api/users/admin"}getAllAdmins$Response(i,r){return Co(this.http,this.rootUrl,i,r)}getAllAdmins(i,r){return this.getAllAdmins$Response(i,r).pipe(Mt(l=>l.body))}static{this.\u0275fac=function(r){return new(r||c)(vi(la),vi(aa))}}static{this.\u0275prov=He({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})();var Kh=(()=>{class c{constructor(i,r){this.authService=i,this.userService=r,this.isAdmin=!1,this.request={id:"",name:"",password:""},this.userId="",this.newPassword="",this.users=[]}ngOnInit(){this.authService.isAdmin().subscribe({next:i=>{this.isAdmin=i.response||!1}}),this.userService.getAllUsers().subscribe({next:i=>{this.users=i,console.log(i)}})}registerUser(){!this.request.id||!this.request.name||!this.request.password||this.authService.register({body:this.request}).subscribe({next:i=>{this.reset(!0),this.ngOnInit()},error:i=>{console.log(i),alert(`T\xEAn \u0111\u0103ng nh\u1EADp ${this.request.id} \u0111\xE3 t\u1ED3n t\u1EA1i`)}})}setNewPassword(){!this.userId||!this.newPassword||this.authService.setNewPassword({userId:this.userId,newPassword:this.newPassword}).subscribe({next:()=>{this.reset(!1)}})}reset(i){i?(this.request.id="",this.request.name="",this.request.password=""):(this.userId="",this.newPassword="")}deleteUser(i){console.log(i),this.authService.deleteUser({userId:i}).subscribe({next:()=>{this.ngOnInit()},error:r=>{console.log(r)}})}static{this.\u0275fac=function(r){return new(r||c)(Y(da),Y(Qh))}}static{this.\u0275cmp=St({type:c,selectors:[["app-admin-field"]],standalone:!0,features:[Dt],decls:39,vars:8,consts:[["cols","2",2,"padding-bottom","1rem"],[2,"text-align","center"],[1,"input"],["type","text","matInput","","placeholder","Di\u1EC7p Tr\u1ECDng Huy",3,"ngModelChange","keydown.enter","ngModel"],["type","text","matInput","","placeholder","dieptronghuy",3,"ngModelChange","keydown.enter","ngModel"],["type","password","matInput","","placeholder","",3,"ngModelChange","keydown.enter","ngModel"],["mat-fab","","extended","",3,"click","disabled"],[2,"margin-top","2rem",3,"deleteEvent","setUsers"]],template:function(r,l){r&1&&(A(0,"mat-grid-list",0)(1,"mat-grid-tile")(2,"div")(3,"h2",1),U(4,"\u0110\u0103ng k\xFD ng\u01B0\u1EDDi d\xF9ng m\u1EDBi"),B(),A(5,"mat-form-field",2)(6,"mat-label"),U(7,"H\u1ECD t\xEAn"),B(),A(8,"input",3),ue("ngModelChange",function(k){return ce(l.request.name,k)||(l.request.name=k),k}),pt("keydown.enter",function(){return l.registerUser()}),B()(),A(9,"mat-form-field",2)(10,"mat-label"),U(11,"T\xEAn \u0111\u0103ng nh\u1EADp"),B(),A(12,"input",4),ue("ngModelChange",function(k){return ce(l.request.id,k)||(l.request.id=k),k}),pt("keydown.enter",function(){return l.registerUser()}),B()(),A(13,"mat-form-field",2)(14,"mat-label"),U(15,"M\u1EADt kh\u1EA9u"),B(),A(16,"input",5),ue("ngModelChange",function(k){return ce(l.request.password,k)||(l.request.password=k),k}),pt("keydown.enter",function(){return l.registerUser()}),B()(),A(17,"button",6),pt("click",function(){return l.registerUser()}),U(18," \u0110\u0103ng k\xFD "),A(19,"mat-icon"),U(20,"person_add"),B()()()(),A(21,"mat-grid-tile")(22,"div")(23,"h2",1),U(24,"Thay \u0111\u1ED5i m\u1EADt kh\u1EA9u ng\u01B0\u1EDDi d\xF9ng"),B(),A(25,"mat-form-field",2)(26,"mat-label"),U(27,"T\xEAn \u0111\u0103ng nh\u1EADp"),B(),A(28,"input",4),ue("ngModelChange",function(k){return ce(l.userId,k)||(l.userId=k),k}),pt("keydown.enter",function(){return l.setNewPassword()}),B()(),A(29,"mat-form-field",2)(30,"mat-label"),U(31,"M\u1EADt kh\u1EA9u"),B(),A(32,"input",5),ue("ngModelChange",function(k){return ce(l.newPassword,k)||(l.newPassword=k),k}),pt("keydown.enter",function(){return l.setNewPassword()}),B()(),A(33,"button",6),pt("click",function(){return l.setNewPassword()}),U(34," Thay \u0111\u1ED5i m\u1EADt kh\u1EA9u "),A(35,"mat-icon"),U(36,"published_with_changes"),B()()()()(),Et(37,"mat-divider"),A(38,"app-user-list",7),pt("deleteEvent",function(k){return l.deleteUser(k)}),B()),r&2&&(H(8),de("ngModel",l.request.name),H(4),de("ngModel",l.request.id),H(4),de("ngModel",l.request.password),H(),lt("disabled",!l.request.id||!l.request.password||!l.request.name),H(11),de("ngModel",l.userId),H(4),de("ngModel",l.newPassword),H(),lt("disabled",!l.userId||!l.newPassword),H(5),lt("setUsers",l.users))},dependencies:[oa,Ai,Ii,Sn,Ei,Fi,li,ks,ra,Ri,Oi,Bi,hi,je,Gh,jh,kr,Uh,$h],styles:[".input[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}"]})}}return c})();var Jh=(()=>{class c{constructor(i){this.authService=i,this.oldPassword="",this.newPassword=""}reset(){this.newPassword="",this.oldPassword=""}changePassword(){!this.oldPassword||!this.newPassword||this.authService.changePassword({oldPassword:this.oldPassword,newPassword:this.newPassword}).subscribe({next:()=>{},error:i=>{console.log(i),alert("M\u1EADt kh\u1EA9u c\u0169 kh\xF4ng tr\xF9ng kh\u1EDBp")}})}static{this.\u0275fac=function(r){return new(r||c)(Y(da))}}static{this.\u0275cmp=St({type:c,selectors:[["app-user-field"]],standalone:!0,features:[Dt],decls:15,vars:3,consts:[[1,"form"],[2,"text-align","center"],[1,"input"],["type","password","matInput","",3,"ngModelChange","keydown.enter","ngModel"],["mat-fab","","extended","",2,"margin-top","1rem",3,"click","disabled"]],template:function(r,l){r&1&&(A(0,"div",0)(1,"h2",1),U(2," Thay \u0111\u1ED5i m\u1EADt kh\u1EA9u "),B(),A(3,"mat-form-field",2)(4,"mat-label"),U(5,"M\u1EADt kh\u1EA9u c\u0169"),B(),A(6,"input",3),ue("ngModelChange",function(k){return ce(l.oldPassword,k)||(l.oldPassword=k),k}),pt("keydown.enter",function(){return l.changePassword()}),B()(),A(7,"mat-form-field",2)(8,"mat-label"),U(9,"M\u1EADt kh\u1EA9u m\u1EDBi"),B(),A(10,"input",3),ue("ngModelChange",function(k){return ce(l.newPassword,k)||(l.newPassword=k),k}),pt("keydown.enter",function(){return l.changePassword()}),B()(),A(11,"button",4),pt("click",function(){return l.changePassword()}),U(12," Thay \u0111\u1ED5i "),A(13,"mat-icon"),U(14,"edit"),B()()()),r&2&&(H(6),de("ngModel",l.oldPassword),H(4),de("ngModel",l.newPassword),H(),lt("disabled",!l.oldPassword||!l.newPassword))},dependencies:[Ai,ra,Ri,Ii,Sn,Ei,Fi,Oi,Bi,li,ks,hi,je],styles:[".input[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%]{margin-top:25%;margin-left:35%;margin-right:35%}"]})}}return c})();function zp(c,S){c&1&&Et(0,"app-admin-field")}function Hp(c,S){c&1&&Et(0,"app-user-field")}var Zh=(()=>{class c{constructor(i){this.authService=i,this.isAdmin=!1}ngOnInit(){this.authService.isAdmin().subscribe({next:i=>{this.isAdmin=i.response||!1}})}static{this.\u0275fac=function(r){return new(r||c)(Y(da))}}static{this.\u0275cmp=St({type:c,selectors:[["app-account-management"]],standalone:!0,features:[Dt],decls:3,vars:2,consts:[["id","main"],[4,"ngIf"]],template:function(r,l){r&1&&(A(0,"div",0),ft(1,zp,1,0,"app-admin-field",1)(2,Hp,1,0,"app-user-field",1),B()),r&2&&(H(),lt("ngIf",l.isAdmin),H(),lt("ngIf",!l.isAdmin))},dependencies:[Kh,Jh,Pi],styles:["#main[_ngcontent-%COMP%]{margin-left:30%;margin-right:30%}"]})}}return c})();function Xp(c,S){if(c&1&&Et(0,"app-invoice-list",6),c&2){let i=ot();lt("input",i.invoices)}}function jp(c,S){if(c&1&&Et(0,"app-customer-list",6),c&2){let i=ot();lt("input",i.customers)}}function Gp(c,S){if(c&1&&Et(0,"app-product-list",7),c&2){let i=ot();lt("productList",i.products)}}function Up(c,S){c&1&&Et(0,"app-account-management")}var qh=(()=>{class c{constructor(i,r,l,f){this.invoiceService=i,this.customerService=r,this.productService=l,this.observer=f,this.invoices=[],this.customers=[],this.products=[],this.renderCustomerList=!1}ngOnInit(){this.initialize(),this.observer.object$.subscribe(i=>{i&&i.reload&&this.initialize()})}initialize(){this.invoiceService.getAllInvoices().subscribe({next:i=>{this.invoices=i}}),this.customerService.getAllCustomers().subscribe({next:i=>this.customers=i}),this.productService.getAllProducts().subscribe({next:i=>this.products=i})}onTabChange(i){i.index==1&&(this.renderCustomerList=!0)}static{this.\u0275fac=function(r){return new(r||c)(Y(zn),Y(ba),Y(Wn),Y(di))}}static{this.\u0275cmp=St({type:c,selectors:[["app-main"]],standalone:!0,features:[Dt],decls:14,vars:0,consts:[["mat-align-tabs","center","mat-stretch-tabs","false","id","tab-group"],["label","Danh s\xE1ch h\xF3a \u0111\u01A1n"],["matTabContent",""],["label","Danh s\xE1ch kh\xE1ch h\xE0ng"],["label","Danh s\xE1ch s\u1EA3n ph\u1EA9m"],["label","Qu\u1EA3n l\xFD t\xE0i kho\u1EA3n"],[3,"input"],[3,"productList"]],template:function(r,l){r&1&&(A(0,"mat-tab-group",0)(1,"mat-tab",1),ft(2,Xp,1,1,"ng-template",2),B(),A(3,"mat-tab",3),ft(4,jp,1,1,"ng-template",2),B(),A(5,"mat-tab",4),ft(6,Gp,1,1,"ng-template",2),B(),A(7,"mat-tab",5),ft(8,Up,1,0,"ng-template",2),B()(),Et(9,"app-navigation")(10,"app-delete-confirmation")(11,"app-create-invoice")(12,"app-create-customer")(13,"app-create-product"))},dependencies:[mo,yh,Ch,Ah,_r,br,Ih,Eh,Fh,vh,Wh,Yh,Zh]})}}return c})();var $p=[{path:"",component:qh}],td=(()=>{class c{static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275mod=ei({type:c})}static{this.\u0275inj=qe({imports:[Po.forChild($p),Po]})}}return c})();var oy=(()=>{class c{static{this.\u0275fac=function(r){return new(r||c)}}static{this.\u0275mod=ei({type:c})}static{this.\u0275inj=qe({imports:[na,td]})}}return c})();export{oy as MainModule};
